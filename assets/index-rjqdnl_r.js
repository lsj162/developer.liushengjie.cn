import{r as p,e as B,f as L,h as O,s as G,i as _,k as H,_ as W,l as b,j as a,o as K,p as X,C as Y,d as J,q as V,R as N,a as Q}from"./index-7R1ce2wo.js";import{b as Z,c as I,D as ee,d as te,K as ne,T as oe,M as re}from"./core.esm-OlSLYOj2.js";import{u as ae,S as le,a as ie}from"./sortable.esm-MhVnGIKR.js";import{s as se,u as ce,a as ue,b as de,c as pe,B as me}from"./Button-x93EGo6M.js";import{c as w}from"./index-pB0cyT1Q.js";function ve(...e){return e.reduce((t,o)=>o==null?t:function(...n){t.apply(this,n),o.apply(this,n)},()=>{})}function fe(e,t=166){let o;function r(...n){const s=()=>{e.apply(this,n)};clearTimeout(o),o=setTimeout(s,t)}return r.clear=()=>{clearTimeout(o)},r}function he(e,t){return()=>null}function ge(e,t){var o,r;return p.isValidElement(e)&&t.indexOf((o=e.type.muiName)!=null?o:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function P(e){return e&&e.ownerDocument||document}function xe(e){return P(e).defaultView||window}function ye(e,t){return()=>null}let z=0;function _e(e){const[t,o]=p.useState(e),r=e||t;return p.useEffect(()=>{t==null&&(z+=1,o(`mui-${z}`))},[t]),r}const E=B.useId;function Se(e){if(E!==void 0){const t=E();return e??t}return _e(e)}function Ie(e,t,o,r,n){return null}function je({controlled:e,default:t,name:o,state:r="value"}){const{current:n}=p.useRef(e!==void 0),[s,u]=p.useState(t),d=n?e:s,h=p.useCallback(v=>{n||u(v)},[]);return[d,h]}function be(e){return L("MuiSvgIcon",e)}O("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ce=e=>{const{color:t,fontSize:o,classes:r}=e,n={root:["root",t!=="inherit"&&`color${_(t)}`,`fontSize${_(o)}`]};return X(n,be,r)},Re=G("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="inherit"&&t[`color${_(o.color)}`],t[`fontSize${_(o.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var o,r,n,s,u,d,h,v,g,f,m,l,c;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(o=e.transitions)==null||(r=o.create)==null?void 0:r.call(o,"fill",{duration:(n=e.transitions)==null||(n=n.duration)==null?void 0:n.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,20))||"1.25rem",medium:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,24))||"1.5rem",large:((v=e.typography)==null||(g=v.pxToRem)==null?void 0:g.call(v,35))||"2.1875rem"}[t.fontSize],color:(f=(m=(e.vars||e).palette)==null||(m=m[t.color])==null?void 0:m.main)!=null?f:{action:(l=(e.vars||e).palette)==null||(l=l.action)==null?void 0:l.active,disabled:(c=(e.vars||e).palette)==null||(c=c.action)==null?void 0:c.disabled,inherit:void 0}[t.color]}}),$=p.forwardRef(function(t,o){const r=H({props:t,name:"MuiSvgIcon"}),{children:n,className:s,color:u="inherit",component:d="svg",fontSize:h="medium",htmlColor:v,inheritViewBox:g=!1,titleAccess:f,viewBox:m="0 0 24 24"}=r,l=W(r,$e),c=p.isValidElement(n)&&n.type==="svg",y=b({},r,{color:u,component:d,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:m,hasSvgAsChild:c}),D={};g||(D.viewBox=m);const q=Ce(y);return a.jsxs(Re,b({as:d,className:K(q.root,s),focusable:"false",color:v,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:o},D,l,c&&n.props,{ownerState:y,children:[c?n.props.children:n,f?a.jsx("title",{children:f}):null]}))});$.muiName="SvgIcon";function De(e,t){function o(r,n){return a.jsx($,b({"data-testid":`${t}Icon`,ref:n},r,{children:e}))}return o.muiName=$.muiName,p.memo(p.forwardRef(o))}const Ne={configure:e=>{Y.configure(e)}},we=Object.freeze(Object.defineProperty({__proto__:null,capitalize:_,createChainedFunction:ve,createSvgIcon:De,debounce:fe,deprecatedPropType:he,isMuiElement:ge,ownerDocument:P,ownerWindow:xe,requirePropFactory:ye,setRef:se,unstable_ClassNameGenerator:Ne,unstable_useEnhancedEffect:ce,unstable_useId:Se,unsupportedProp:Ie,useControlled:je,useEventCallback:ue,useForkRef:de,useIsFocusVisible:pe},Symbol.toStringTag,{value:"Module"}));let S;const ze=new Uint8Array(16);function Ee(){if(!S&&(S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!S))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(ze)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function Me(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}const Ue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M={randomUUID:Ue};function Ve(e,t,o){if(M.randomUUID&&!t&&!e)return M.randomUUID();e=e||{};const r=e.random||(e.rng||Ee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){o=o||0;for(let n=0;n<16;++n)t[o+n]=r[n];return t}return Me(r)}var C={},j={};const Pe=J(we);var U;function T(){return U||(U=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Pe}(j)),j}var Te=V;Object.defineProperty(C,"__esModule",{value:!0});var F=C.default=void 0,Fe=Te(T()),ke=a;F=C.default=(0,Fe.default)((0,ke.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");var R={},Ae=V;Object.defineProperty(R,"__esModule",{value:!0});var k=R.default=void 0,qe=Ae(T()),Be=a;k=R.default=(0,qe.default)((0,Be.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");const Le="_wrapper_1cf3j_1",Oe="_item_1cf3j_9",Ge="_text_1cf3j_26",He="_actions_1cf3j_30",We="_dnd_1cf3j_34",x={wrapper:Le,item:Oe,"drag-overlay":"_drag-overlay_1cf3j_19",text:Ge,actions:He,dnd:We},A=N.memo(N.forwardRef(({value:e,onRemove:t,handleProps:o,transition:r,transform:n,dragOverlay:s,...u},d)=>a.jsx("li",{ref:d,className:w(x.wrapper),style:{transition:[r,void 0].filter(Boolean).join(", "),"--translate-x":n?`${Math.round(n.x)}px`:void 0,"--translate-y":n?`${Math.round(n.y)}px`:void 0,"--scale-x":n!=null&&n.scaleX?`${n.scaleX}`:void 0,"--scale-y":n!=null&&n.scaleY?`${n.scaleY}`:void 0},children:a.jsxs("div",{className:w(x.item,s&&x["drag-overlay"]),...u,children:[a.jsx("button",{className:x.dnd,...o,children:a.jsx(k,{sx:{color:"#757575"}})}),a.jsx("div",{className:x.text,children:e}),a.jsx("span",{className:x.actions,children:t?a.jsx("button",{className:x.remove,onClick:t,children:a.jsx(F,{sx:{color:"rgb(244 63 94)"}})}):null})]})})));function Ke({id:e,value:t,onRemove:o}){const{setNodeRef:r,attributes:n,listeners:s,transform:u,transition:d}=ae({id:e});return a.jsx(A,{ref:r,value:t,onRemove:o?()=>o(e):void 0,transform:u,transition:d,handleProps:{...n,...s}})}const Xe=[{id:"001",value:1},{id:"002",value:2},{id:"003",value:3}];function tt(){var m;const[e,t]=p.useState(()=>Xe),[o,r]=p.useState(null),n=Z(I(re),I(oe),I(ne)),s=l=>e==null?void 0:e.findIndex(c=>c.id===l),u=o?s(o):-1;function d({active:l}){l&&r(l.id)}function h({over:l}){if(r(null),l){const c=s(l.id);u!==c&&t(y=>ie(y,u,c))}}function v(){r(null)}const g=p.useCallback(()=>{e.push({id:Ve(),value:e.length+1}),t([...e])},[e]),f=l=>t(c=>c.filter(y=>y.id!==l));return a.jsxs(a.Fragment,{children:[a.jsx(ee,{sensors:n,onDragStart:d,onDragEnd:h,onDragCancel:v,children:a.jsxs(le,{items:e,children:[a.jsx("ul",{children:e.map(l=>a.jsx(Ke,{id:l.id,value:l.value,onRemove:f},l.id))}),Q.createPortal(a.jsx(te,{children:o?a.jsx(A,{value:(m=e[u])==null?void 0:m.value,dragOverlay:!0}):null}),document.body)]})}),a.jsx(me,{className:"",onClick:g,fullWidth:!0,children:"添加"})]})}export{tt as default};
