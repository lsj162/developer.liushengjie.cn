import{r as ro,T as vi,o as Sn,l as Lr}from"./index-RG-6j_VM.js";var Lo={exports:{}},Zo={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(Nr,zn){(function(Tr,Br){Nr.exports=Br(ro,vi)})(self,function(Tr,Br){return function(){var $r,Kr,Cr,dn,rn={5779:function(me,Q){Q.N=void 0;var e=/^([^\w]*)(javascript|data|vbscript)/im,w=/&#(\w+)(^\w|;)?/g,g=/&(newline|tab);/gi,f=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,d=/^.+(:|&colon;)/gim,x=[".","/"];Q.N=function(D){var W,i=(W=D||"",W.replace(w,function(ee,le){return String.fromCharCode(le)})).replace(g,"").replace(f,"").trim();if(!i)return"about:blank";if(function(ee){return x.indexOf(ee[0])>-1}(i))return i;var R=i.match(d);if(!R)return i;var B=R[0];return e.test(B)?"about:blank":i}},45:function(me,Q,e){function w(f){var d,x,D="";if(typeof f=="string"||typeof f=="number")D+=f;else if(typeof f=="object")if(Array.isArray(f))for(d=0;d<f.length;d++)f[d]&&(x=w(f[d]))&&(D&&(D+=" "),D+=x);else for(d in f)f[d]&&(D&&(D+=" "),D+=d);return D}function g(){for(var f,d,x=0,D="";x<arguments.length;)(f=arguments[x++])&&(d=w(f))&&(D&&(D+=" "),D+=d);return D}e.d(Q,{Z:function(){return g}})},6233:function(me,Q){var e;e=function(w){w.version="0.3.0";var g=function(){for(var x=0,D=new Array(256),W=0;W!=256;++W)x=1&(x=1&(x=1&(x=1&(x=1&(x=1&(x=1&(x=1&(x=W)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1)?-306674912^x>>>1:x>>>1,D[W]=x;return typeof Int32Array<"u"?new Int32Array(D):D}(),f=typeof Buffer<"u";function d(x){for(var D=-1,W=0,i=x.length-7;W<i;)D=(D=(D=(D=(D=(D=(D=(D=D>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])];for(;W<i+7;)D=D>>>8^g[255&(D^x[W++])];return-1^D}w.table=g,w.bstr=function(x){if(x.length>32768&&f)return d(new Buffer(x));for(var D=-1,W=x.length-1,i=0;i<W;)D=g[255&(D^x.charCodeAt(i++))]^D>>>8,D=g[255&(D^x.charCodeAt(i++))]^D>>>8;return i===W&&(D=D>>>8^g[255&(D^x.charCodeAt(i))]),-1^D},w.buf=function(x){if(x.length>1e4)return d(x);for(var D=-1,W=0,i=x.length-3;W<i;)D=(D=(D=(D=D>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])])>>>8^g[255&(D^x[W++])];for(;W<i+3;)D=D>>>8^g[255&(D^x[W++])];return-1^D},w.str=function(x){for(var D,W,i=-1,R=0,B=x.length;R<B;)(D=x.charCodeAt(R++))<128?i=i>>>8^g[255&(i^D)]:D<2048?i=(i=i>>>8^g[255&(i^(192|D>>6&31))])>>>8^g[255&(i^(128|63&D))]:D>=55296&&D<57344?(D=64+(1023&D),W=1023&x.charCodeAt(R++),i=(i=(i=(i=i>>>8^g[255&(i^(240|D>>8&7))])>>>8^g[255&(i^(128|D>>2&63))])>>>8^g[255&(i^(128|W>>6&15|3&D))])>>>8^g[255&(i^(128|63&W))]):i=(i=(i=i>>>8^g[255&(i^(224|D>>12&15))])>>>8^g[255&(i^(128|D>>6&63))])>>>8^g[255&(i^(128|63&D))];return-1^i}},e(typeof DO_NOT_EXPORT_CRC>"u"?Q:{})},4739:function(me,Q,e){e.d(Q,{Dv:function(){return A},KO:function(){return ae},Vv:function(){return b},b9:function(){return _},cn:function(){return q},zt:function(){return X}});var w=e(9787);const g=Symbol(),f=U=>!!U[g],d=U=>{var H,j;(j=(H=U[g]).c)==null||j.call(H)},x=(U,H)=>{const j=U[g].o,F=H[g].o;return j===F||U===F||f(j)&&x(j,H)},D=U=>{const H={o:U,c:null},j=new Promise(F=>{H.c=()=>{H.c=null,F()},U.then(H.c,H.c)});return j[g]=H,j};var W=Object.defineProperty,i=Object.defineProperties,R=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,y=(U,H,j)=>H in U?W(U,H,{enumerable:!0,configurable:!0,writable:!0,value:j}):U[H]=j;const ce=U=>"init"in U,fe="r",Ce="w",ue="c",de="s",ye=U=>{const H=new WeakMap,j=new WeakMap,F=new Map;let T,K;if(T=new Set,K=new Set,U)for(const[Pe,J]of U){const ve={v:J,r:0,d:new Map};Object.freeze(ve),ce(Pe)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Pe),H.set(Pe,ve)}const ie=new WeakMap,M=new WeakMap,O=Pe=>{let J=M.get(Pe);return J||(J=new Map,M.set(Pe,J)),J},z=(Pe,J)=>{if(Pe){const ve=O(Pe);let xe=ve.get(J);return xe||(xe=z(Pe.p,J),xe&&("p"in xe&&xe.p.then(()=>ve.delete(J)),ve.set(J,xe))),xe}return H.get(J)},p=(Pe,J,ve)=>{if(Object.freeze(ve),Pe)O(Pe).set(J,ve);else{const xe=H.get(J);H.set(J,ve),F.has(J)||F.set(J,xe)}},E=(Pe,J=new Map,ve)=>{if(!ve)return J;const xe=new Map;let Ie=!1;return ve.forEach(De=>{var Ze;const Re=((Ze=z(Pe,De))==null?void 0:Ze.r)||0;xe.set(De,Re),J.get(De)!==Re&&(Ie=!0)}),J.size!==xe.size||Ie?xe:J},v=(Pe,J,ve,xe,Ie)=>{const De=z(Pe,J);if(De){if(Ie&&(!("p"in De)||!x(De.p,Ie)))return De;"p"in De&&d(De.p)}const Ze={v:ve,r:(De==null?void 0:De.r)||0,d:E(Pe,De==null?void 0:De.d,xe)};return De&&"v"in De&&Object.is(De.v,ve)?Ze.d===De.d||Ze.d.size===De.d.size&&Array.from(Ze.d.keys()).every(Re=>De.d.has(Re))||Promise.resolve().then(()=>{Le(Pe)}):(++Ze.r,Ze.d.has(J)&&(Ze.d=new Map(Ze.d).set(J,Ze.r))),p(Pe,J,Ze),Ze},Z=(Pe,J,ve,xe,Ie)=>{const De=z(Pe,J);if(De){if(Ie&&(!("p"in De)||!x(De.p,Ie)))return De;"p"in De&&d(De.p)}const Ze={e:ve,r:(De==null?void 0:De.r)||0,d:E(Pe,De==null?void 0:De.d,xe)};return p(Pe,J,Ze),Ze},P=(Pe,J,ve,xe)=>{const Ie=z(Pe,J);if(Ie&&"p"in Ie){if(x(Ie.p,ve))return Ie;d(Ie.p)}((Ze,Re,Ue)=>{let Ke=ie.get(Re);Ke||(Ke=new Map,ie.set(Re,Ke)),Ue.then(()=>{Ke.get(Ze)===Ue&&(Ke.delete(Ze),Ke.size||ie.delete(Re))}),Ke.set(Ze,Ue)})(Pe,J,ve);const De={p:ve,r:(Ie==null?void 0:Ie.r)||0,d:E(Pe,Ie==null?void 0:Ie.d,xe)};return p(Pe,J,De),De},oe=(Pe,J,ve,xe)=>{if(ve instanceof Promise){const Ie=D(ve.then(De=>{v(Pe,J,De,xe,Ie),Le(Pe)}).catch(De=>{if(De instanceof Promise)return f(De)?De.then(()=>{N(Pe,J,!0)}):De;Z(Pe,J,De,xe,Ie),Le(Pe)}));return P(Pe,J,Ie,xe)}return v(Pe,J,ve,xe)},se=(Pe,J)=>{const ve=z(Pe,J);if(ve){"p"in ve&&d(ve.p);const De=(xe=((Ze,Re)=>{for(var Ue in Re||(Re={}))ee.call(Re,Ue)&&y(Ze,Ue,Re[Ue]);if(B)for(var Ue of B(Re))le.call(Re,Ue)&&y(Ze,Ue,Re[Ue]);return Ze})({},ve),Ie={i:ve.r},i(xe,R(Ie)));p(Pe,J,De)}else console.warn("[Bug] could not invalidate non existing atom",J);var xe,Ie},N=(Pe,J,ve)=>{if(!ve){const Ie=z(Pe,J);if(Ie&&(Ie.r!==Ie.i&&"p"in Ie&&Ie.p[g].c||(Ie.d.forEach((De,Ze)=>{if(Ze!==J)if(j.has(Ze)){const Re=z(Pe,Ze);Re&&Re.r===Re.i&&N(Pe,Ze)}else N(Pe,Ze)}),Array.from(Ie.d).every(([De,Ze])=>{const Re=z(Pe,De);return Re&&"v"in Re&&Re.r===Ze}))))return Ie}const xe=new Set;try{const Ie=J.read(De=>{xe.add(De);const Ze=De===J?z(Pe,De):N(Pe,De);if(Ze){if("e"in Ze)throw Ze.e;if("p"in Ze)throw Ze.p;return Ze.v}if(ce(De))return De.init;throw new Error("no atom init")});return oe(Pe,J,Ie,xe)}catch(Ie){if(Ie instanceof Promise){const De=D(Ie);return P(Pe,J,De,xe)}return Z(Pe,J,Ie,xe)}},ge=(Pe,J)=>N(J,Pe),he=(Pe,J)=>!J.l.size&&(!J.t.size||J.t.size===1&&J.t.has(Pe)),be=(Pe,J)=>{const ve=j.get(J);ve==null||ve.t.forEach(xe=>{xe!==J&&(se(Pe,xe),be(Pe,xe))})},Se=(Pe,J,ve)=>{let xe=!0;const Ie=(Ze,Re)=>{const Ue=N(Pe,Ze);if("e"in Ue)throw Ue.e;if("p"in Ue){if(Re!=null&&Re.unstable_promise)return Ue.p.then(()=>Ie(Ze,Re));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Ze),Ue.p}if("v"in Ue)return Ue.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Ze),new Error("no value found")},De=J.write(Ie,(Ze,Re)=>{let Ue;if(Ze===J){if(!ce(Ze))throw new Error("atom not writable");(Ye=>{const lt=new Set,ht=ie.get(Ye);return ht&&(ie.delete(Ye),ht.forEach((ot,et)=>{d(ot),lt.add(et)})),lt})(Ze).forEach(Ye=>{Ye!==Pe&&oe(Ye,Ze,Re)}),oe(Pe,Ze,Re),be(Pe,Ze)}else Ue=Se(Pe,Ze,Re);return xe||Le(Pe),Ue},ve);return xe=!1,Pe=void 0,De},Y=(Pe,J,ve)=>{const xe=Se(ve,Pe,J);return Le(ve),xe},we=(Pe,J)=>{const ve={t:new Set(J&&[J]),l:new Set};if(j.set(Pe,ve),K.add(Pe),N(void 0,Pe).d.forEach((xe,Ie)=>{const De=j.get(Ie);De?De.t.add(Pe):Ie!==Pe&&we(Ie,Pe)}),(xe=>!!xe.write)(Pe)&&Pe.onMount){const xe=De=>Y(Pe,De),Ie=Pe.onMount(xe);Ie&&(ve.u=Ie)}return ve},te=Pe=>{var J;const ve=(J=j.get(Pe))==null?void 0:J.u;ve&&ve(),j.delete(Pe),K.delete(Pe);const xe=z(void 0,Pe);xe?xe.d.forEach((Ie,De)=>{if(De!==Pe){const Ze=j.get(De);Ze&&(Ze.t.delete(Pe),he(De,Ze)&&te(De))}}):console.warn("[Bug] could not find atom state to unmount",Pe)},_e=(Pe,J,ve)=>{const xe=new Set(J.d.keys());ve==null||ve.forEach((Ie,De)=>{if(xe.has(De))return void xe.delete(De);const Ze=j.get(De);Ze&&(Ze.t.delete(Pe),he(De,Ze)&&te(De))}),xe.forEach(Ie=>{const De=j.get(Ie);De?De.t.add(Pe):j.has(Pe)&&we(Ie,Pe)})},Le=Pe=>{if(Pe)O(Pe).forEach((J,ve)=>{if(J!==H.get(ve)){const xe=j.get(ve);xe==null||xe.l.forEach(Ie=>Ie(Pe))}});else{for(;F.size;){const J=Array.from(F);F.clear(),J.forEach(([ve,xe])=>{const Ie=z(void 0,ve);Ie&&Ie.d!==(xe==null?void 0:xe.d)&&_e(ve,Ie,xe==null?void 0:xe.d);const De=j.get(ve);De==null||De.l.forEach(Ze=>Ze())})}T.forEach(J=>J())}},ze=(Pe,J)=>{J&&(ve=>{O(ve).forEach((xe,Ie)=>{const De=H.get(Ie);(xe.r>((De==null?void 0:De.r)||0)||"v"in xe&&xe.r===(De==null?void 0:De.r)&&xe.d!==(De==null?void 0:De.d))&&(H.set(Ie,xe),xe.d!==(De==null?void 0:De.d)&&_e(Ie,xe,De==null?void 0:De.d))})})(J),Le(void 0)},He=(Pe,J)=>{const ve=(xe=>{let Ie=j.get(xe);return Ie||(Ie=we(xe)),Ie})(Pe).l;return ve.add(J),()=>{ve.delete(J),(xe=>{const Ie=j.get(xe);Ie&&he(xe,Ie)&&te(xe)})(Pe)}},Fe=(Pe,J)=>{for(const[ve,xe]of Pe)ce(ve)&&(oe(J,ve,xe),be(J,ve));Le(J)};return{[fe]:ge,[Ce]:Y,[ue]:ze,[de]:He,h:Fe,n:Pe=>(T.add(Pe),()=>{T.delete(Pe)}),l:()=>K.values(),a:Pe=>H.get(Pe),m:Pe=>j.get(Pe)}},b=U=>{const H=ye(U),j=F=>new Promise((T,K)=>{const ie=H.r(F);"e"in ie?K(ie.e):T("p"in ie?ie.p.then(()=>j(F)):ie.v)});return{get:F=>{const T=H.r(F);if("e"in T)throw T.e;if(!("p"in T))return T.v},asyncGet:j,set:(F,T)=>H.w(F,T),sub:(F,T)=>H.s(F,T),SECRET_INTERNAL_store:H}},G=(U,H)=>({s:H?H(U).SECRET_INTERNAL_store:ye(U)}),m=new Map,u=U=>(m.has(U)||m.set(U,(0,w.createContext)(G())),m.get(U));var I=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(U,H,j)=>H in U?I(U,H,{enumerable:!0,configurable:!0,writable:!0,value:j}):U[H]=j,l=(U,H)=>{for(var j in H||(H={}))n.call(H,j)&&o(U,j,H[j]);if(a)for(var j of a(H))t.call(H,j)&&o(U,j,H[j]);return U};const s=U=>U.debugLabel||U.toString(),S=([U,H])=>Object.fromEntries(H.flatMap(j=>{var F,T;const K=(F=U.m)==null?void 0:F.call(U,j);if(!K)return[];const ie=K.t,M=((T=U.a)==null?void 0:T.call(U,j))||{};return[[s(j),(O=l(l(l({},"e"in M&&{error:M.e}),"p"in M&&{promise:M.p}),"v"in M&&{value:M.v}),z={dependents:Array.from(ie).map(s)},h(O,c(z)))]];var O,z})),X=({children:U,initialValues:H,scope:j,unstable_createStore:F,unstable_enableVersionedWrite:T})=>{const[K,ie]=(0,w.useState)();(0,w.useEffect)(()=>{K&&(M.current.s.c(null,K),delete K.p)},[K]);const M=(0,w.useRef)();M.current||(M.current=G(H,F),T&&(M.current.w=z=>{ie(p=>{const E=p?{p}:{};return z(E),E})})),T||(z=>{const{s:p}=z,[E,v]=(0,w.useState)([]);(0,w.useEffect)(()=>{var Z;const P=()=>{var se;v(Array.from(((se=p.l)==null?void 0:se.call(p))||[]))},oe=(Z=p.n)==null?void 0:Z.call(p,P);return P(),oe},[p]),(0,w.useDebugValue)([p,E],S)})(M.current);const O=u(j);return(0,w.createElement)(O.Provider,{value:M.current},U)};let C=0;function q(U,H){const j="atom"+ ++C,F={toString:()=>j};return typeof U=="function"?F.read=U:(F.init=U,F.read=T=>T(F),F.write=(T,K,ie)=>K(F,typeof ie=="function"?ie(T(F)):ie)),H&&(F.write=H),F}function A(U,H){const j=u(H),{s:F}=(0,w.useContext)(j),T=(0,w.useCallback)(z=>{const p=F.r(U,z);if("e"in p)throw p.e;if("p"in p)throw p.p;if("v"in p)return p.v;throw new Error("no atom value")},[F,U]),[[K,ie,M],O]=(0,w.useReducer)((0,w.useCallback)((z,p)=>{const E=T(p);return Object.is(z[1],E)&&z[2]===U?z:[p,E,U]},[T,U]),void 0,()=>[void 0,T(void 0),U]);return M!==U&&O(void 0),(0,w.useEffect)(()=>{const z=F.s(U,O);return O(void 0),z},[F,U]),(0,w.useEffect)(()=>{F.c(U,K)}),(0,w.useDebugValue)(ie),ie}function _(U,H){const j=u(H),{s:F,w:T}=(0,w.useContext)(j);return(0,w.useCallback)(K=>{if(!("write"in U))throw new Error("not writable atom");const ie=M=>F.w(U,K,M);return T?T(ie):ie()},[F,T,U])}function ae(U,H){return"scope"in U&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),H=U.scope),[A(U,H),_(U,H)]}},200:function(me,Q,e){var w="Expected a function",g=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,x=/^0o[0-7]+$/i,D=parseInt,W=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,i=typeof self=="object"&&self&&self.Object===Object&&self,R=W||i||Function("return this")(),B=Object.prototype.toString,ee=Math.max,le=Math.min,y=function(){return R.Date.now()};function ce(ue,de,ye){var b,G,m,u,I,h,c=0,a=!1,n=!1,t=!0;if(typeof ue!="function")throw new TypeError(w);function o(q){var A=b,_=G;return b=G=void 0,c=q,u=ue.apply(_,A)}function l(q){return c=q,I=setTimeout(S,de),a?o(q):u}function s(q){var A=q-h;return h===void 0||A>=de||A<0||n&&q-c>=m}function S(){var q=y();if(s(q))return X(q);I=setTimeout(S,function(A){var _=de-(A-h);return n?le(_,m-(A-c)):_}(q))}function X(q){return I=void 0,t&&b?o(q):(b=G=void 0,u)}function C(){var q=y(),A=s(q);if(b=arguments,G=this,h=q,A){if(I===void 0)return l(h);if(n)return I=setTimeout(S,de),o(h)}return I===void 0&&(I=setTimeout(S,de)),u}return de=Ce(de)||0,fe(ye)&&(a=!!ye.leading,m=(n="maxWait"in ye)?ee(Ce(ye.maxWait)||0,de):m,t="trailing"in ye?!!ye.trailing:t),C.cancel=function(){I!==void 0&&clearTimeout(I),c=0,b=h=G=I=void 0},C.flush=function(){return I===void 0?u:X(y())},C}function fe(ue){var de=typeof ue;return!!ue&&(de=="object"||de=="function")}function Ce(ue){if(typeof ue=="number")return ue;if(function(b){return typeof b=="symbol"||function(G){return!!G&&typeof G=="object"}(b)&&B.call(b)=="[object Symbol]"}(ue))return NaN;if(fe(ue)){var de=typeof ue.valueOf=="function"?ue.valueOf():ue;ue=fe(de)?de+"":de}if(typeof ue!="string")return ue===0?ue:+ue;ue=ue.replace(g,"");var ye=d.test(ue);return ye||x.test(ue)?D(ue.slice(2),ye?2:8):f.test(ue)?NaN:+ue}me.exports=function(ue,de,ye){var b=!0,G=!0;if(typeof ue!="function")throw new TypeError(w);return fe(ye)&&(b="leading"in ye?!!ye.leading:b,G="trailing"in ye?!!ye.trailing:G),ce(ue,de,{leading:b,maxWait:de,trailing:G})}},2744:function(me,Q,e){var w={};(0,e(9187).assign)(w,e(4395),e(578),e(2684)),me.exports=w},4395:function(me,Q,e){var w=e(7651),g=e(9187),f=e(8592),d=e(5604),x=e(249),D=Object.prototype.toString;function W(R){if(!(this instanceof W))return new W(R);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},R||{});var B=this.options;B.raw&&B.windowBits>0?B.windowBits=-B.windowBits:B.gzip&&B.windowBits>0&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var ee=w.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(ee!==0)throw new Error(d[ee]);if(B.header&&w.deflateSetHeader(this.strm,B.header),B.dictionary){var le;if(le=typeof B.dictionary=="string"?f.string2buf(B.dictionary):D.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(ee=w.deflateSetDictionary(this.strm,le))!==0)throw new Error(d[ee]);this._dict_set=!0}}function i(R,B){var ee=new W(B);if(ee.push(R,!0),ee.err)throw ee.msg||d[ee.err];return ee.result}W.prototype.push=function(R,B){var ee,le,y=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;le=B===~~B?B:B===!0?4:0,typeof R=="string"?y.input=f.string2buf(R):D.call(R)==="[object ArrayBuffer]"?y.input=new Uint8Array(R):y.input=R,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new g.Buf8(ce),y.next_out=0,y.avail_out=ce),(ee=w.deflate(y,le))!==1&&ee!==0)return this.onEnd(ee),this.ended=!0,!1;y.avail_out!==0&&(y.avail_in!==0||le!==4&&le!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(g.shrinkBuf(y.output,y.next_out))):this.onData(g.shrinkBuf(y.output,y.next_out)))}while((y.avail_in>0||y.avail_out===0)&&ee!==1);return le===4?(ee=w.deflateEnd(this.strm),this.onEnd(ee),this.ended=!0,ee===0):le!==2||(this.onEnd(0),y.avail_out=0,!0)},W.prototype.onData=function(R){this.chunks.push(R)},W.prototype.onEnd=function(R){R===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},Q.Deflate=W,Q.deflate=i,Q.deflateRaw=function(R,B){return(B=B||{}).raw=!0,i(R,B)},Q.gzip=function(R,B){return(B=B||{}).gzip=!0,i(R,B)}},578:function(me,Q,e){var w=e(7823),g=e(9187),f=e(8592),d=e(2684),x=e(5604),D=e(249),W=e(9968),i=Object.prototype.toString;function R(ee){if(!(this instanceof R))return new R(ee);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},ee||{});var le=this.options;le.raw&&le.windowBits>=0&&le.windowBits<16&&(le.windowBits=-le.windowBits,le.windowBits===0&&(le.windowBits=-15)),!(le.windowBits>=0&&le.windowBits<16)||ee&&ee.windowBits||(le.windowBits+=32),le.windowBits>15&&le.windowBits<48&&!(15&le.windowBits)&&(le.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var y=w.inflateInit2(this.strm,le.windowBits);if(y!==d.Z_OK)throw new Error(x[y]);if(this.header=new W,w.inflateGetHeader(this.strm,this.header),le.dictionary&&(typeof le.dictionary=="string"?le.dictionary=f.string2buf(le.dictionary):i.call(le.dictionary)==="[object ArrayBuffer]"&&(le.dictionary=new Uint8Array(le.dictionary)),le.raw&&(y=w.inflateSetDictionary(this.strm,le.dictionary))!==d.Z_OK))throw new Error(x[y])}function B(ee,le){var y=new R(le);if(y.push(ee,!0),y.err)throw y.msg||x[y.err];return y.result}R.prototype.push=function(ee,le){var y,ce,fe,Ce,ue,de=this.strm,ye=this.options.chunkSize,b=this.options.dictionary,G=!1;if(this.ended)return!1;ce=le===~~le?le:le===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof ee=="string"?de.input=f.binstring2buf(ee):i.call(ee)==="[object ArrayBuffer]"?de.input=new Uint8Array(ee):de.input=ee,de.next_in=0,de.avail_in=de.input.length;do{if(de.avail_out===0&&(de.output=new g.Buf8(ye),de.next_out=0,de.avail_out=ye),(y=w.inflate(de,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&b&&(y=w.inflateSetDictionary(this.strm,b)),y===d.Z_BUF_ERROR&&G===!0&&(y=d.Z_OK,G=!1),y!==d.Z_STREAM_END&&y!==d.Z_OK)return this.onEnd(y),this.ended=!0,!1;de.next_out&&(de.avail_out!==0&&y!==d.Z_STREAM_END&&(de.avail_in!==0||ce!==d.Z_FINISH&&ce!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(fe=f.utf8border(de.output,de.next_out),Ce=de.next_out-fe,ue=f.buf2string(de.output,fe),de.next_out=Ce,de.avail_out=ye-Ce,Ce&&g.arraySet(de.output,de.output,fe,Ce,0),this.onData(ue)):this.onData(g.shrinkBuf(de.output,de.next_out)))),de.avail_in===0&&de.avail_out===0&&(G=!0)}while((de.avail_in>0||de.avail_out===0)&&y!==d.Z_STREAM_END);return y===d.Z_STREAM_END&&(ce=d.Z_FINISH),ce===d.Z_FINISH?(y=w.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d.Z_OK):ce!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),de.avail_out=0,!0)},R.prototype.onData=function(ee){this.chunks.push(ee)},R.prototype.onEnd=function(ee){ee===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},Q.Inflate=R,Q.inflate=B,Q.inflateRaw=function(ee,le){return(le=le||{}).raw=!0,B(ee,le)},Q.ungzip=B},9187:function(me,Q){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function w(d,x){return Object.prototype.hasOwnProperty.call(d,x)}Q.assign=function(d){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var D=x.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var W in D)w(D,W)&&(d[W]=D[W])}}return d},Q.shrinkBuf=function(d,x){return d.length===x?d:d.subarray?d.subarray(0,x):(d.length=x,d)};var g={arraySet:function(d,x,D,W,i){if(x.subarray&&d.subarray)d.set(x.subarray(D,D+W),i);else for(var R=0;R<W;R++)d[i+R]=x[D+R]},flattenChunks:function(d){var x,D,W,i,R,B;for(W=0,x=0,D=d.length;x<D;x++)W+=d[x].length;for(B=new Uint8Array(W),i=0,x=0,D=d.length;x<D;x++)R=d[x],B.set(R,i),i+=R.length;return B}},f={arraySet:function(d,x,D,W,i){for(var R=0;R<W;R++)d[i+R]=x[D+R]},flattenChunks:function(d){return[].concat.apply([],d)}};Q.setTyped=function(d){d?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,g)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,f))},Q.setTyped(e)},8592:function(me,Q,e){var w=e(9187),g=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var d=new w.Buf8(256),x=0;x<256;x++)d[x]=x>=252?6:x>=248?5:x>=240?4:x>=224?3:x>=192?2:1;function D(W,i){if(i<65534&&(W.subarray&&f||!W.subarray&&g))return String.fromCharCode.apply(null,w.shrinkBuf(W,i));for(var R="",B=0;B<i;B++)R+=String.fromCharCode(W[B]);return R}d[254]=d[254]=1,Q.string2buf=function(W){var i,R,B,ee,le,y=W.length,ce=0;for(ee=0;ee<y;ee++)(64512&(R=W.charCodeAt(ee)))==55296&&ee+1<y&&(64512&(B=W.charCodeAt(ee+1)))==56320&&(R=65536+(R-55296<<10)+(B-56320),ee++),ce+=R<128?1:R<2048?2:R<65536?3:4;for(i=new w.Buf8(ce),le=0,ee=0;le<ce;ee++)(64512&(R=W.charCodeAt(ee)))==55296&&ee+1<y&&(64512&(B=W.charCodeAt(ee+1)))==56320&&(R=65536+(R-55296<<10)+(B-56320),ee++),R<128?i[le++]=R:R<2048?(i[le++]=192|R>>>6,i[le++]=128|63&R):R<65536?(i[le++]=224|R>>>12,i[le++]=128|R>>>6&63,i[le++]=128|63&R):(i[le++]=240|R>>>18,i[le++]=128|R>>>12&63,i[le++]=128|R>>>6&63,i[le++]=128|63&R);return i},Q.buf2binstring=function(W){return D(W,W.length)},Q.binstring2buf=function(W){for(var i=new w.Buf8(W.length),R=0,B=i.length;R<B;R++)i[R]=W.charCodeAt(R);return i},Q.buf2string=function(W,i){var R,B,ee,le,y=i||W.length,ce=new Array(2*y);for(B=0,R=0;R<y;)if((ee=W[R++])<128)ce[B++]=ee;else if((le=d[ee])>4)ce[B++]=65533,R+=le-1;else{for(ee&=le===2?31:le===3?15:7;le>1&&R<y;)ee=ee<<6|63&W[R++],le--;le>1?ce[B++]=65533:ee<65536?ce[B++]=ee:(ee-=65536,ce[B++]=55296|ee>>10&1023,ce[B++]=56320|1023&ee)}return D(ce,B)},Q.utf8border=function(W,i){var R;for((i=i||W.length)>W.length&&(i=W.length),R=i-1;R>=0&&(192&W[R])==128;)R--;return R<0||R===0?i:R+d[W[R]]>i?R:i}},3693:function(me){me.exports=function(Q,e,w,g){for(var f=65535&Q|0,d=Q>>>16&65535|0,x=0;w!==0;){w-=x=w>2e3?2e3:w;do d=d+(f=f+e[g++]|0)|0;while(--x);f%=65521,d%=65521}return f|d<<16|0}},2684:function(me){me.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(me){var Q=function(){for(var e,w=[],g=0;g<256;g++){e=g;for(var f=0;f<8;f++)e=1&e?3988292384^e>>>1:e>>>1;w[g]=e}return w}();me.exports=function(e,w,g,f){var d=Q,x=f+g;e^=-1;for(var D=f;D<x;D++)e=e>>>8^d[255&(e^w[D])];return-1^e}},7651:function(me,Q,e){var w,g=e(9187),f=e(8676),d=e(3693),x=e(8464),D=e(5604),W=-2,i=258,R=262,B=103,ee=113,le=666;function y(t,o){return t.msg=D[o],o}function ce(t){return(t<<1)-(t>4?9:0)}function fe(t){for(var o=t.length;--o>=0;)t[o]=0}function Ce(t){var o=t.state,l=o.pending;l>t.avail_out&&(l=t.avail_out),l!==0&&(g.arraySet(t.output,o.pending_buf,o.pending_out,l,t.next_out),t.next_out+=l,o.pending_out+=l,t.total_out+=l,t.avail_out-=l,o.pending-=l,o.pending===0&&(o.pending_out=0))}function ue(t,o){f._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,o),t.block_start=t.strstart,Ce(t.strm)}function de(t,o){t.pending_buf[t.pending++]=o}function ye(t,o){t.pending_buf[t.pending++]=o>>>8&255,t.pending_buf[t.pending++]=255&o}function b(t,o){var l,s,S=t.max_chain_length,X=t.strstart,C=t.prev_length,q=t.nice_match,A=t.strstart>t.w_size-R?t.strstart-(t.w_size-R):0,_=t.window,ae=t.w_mask,U=t.prev,H=t.strstart+i,j=_[X+C-1],F=_[X+C];t.prev_length>=t.good_match&&(S>>=2),q>t.lookahead&&(q=t.lookahead);do if(_[(l=o)+C]===F&&_[l+C-1]===j&&_[l]===_[X]&&_[++l]===_[X+1]){X+=2,l++;do;while(_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&_[++X]===_[++l]&&X<H);if(s=i-(H-X),X=H-i,s>C){if(t.match_start=o,C=s,s>=q)break;j=_[X+C-1],F=_[X+C]}}while((o=U[o&ae])>A&&--S!=0);return C<=t.lookahead?C:t.lookahead}function G(t){var o,l,s,S,X,C,q,A,_,ae,U=t.w_size;do{if(S=t.window_size-t.lookahead-t.strstart,t.strstart>=U+(U-R)){g.arraySet(t.window,t.window,U,U,0),t.match_start-=U,t.strstart-=U,t.block_start-=U,o=l=t.hash_size;do s=t.head[--o],t.head[o]=s>=U?s-U:0;while(--l);o=l=U;do s=t.prev[--o],t.prev[o]=s>=U?s-U:0;while(--l);S+=U}if(t.strm.avail_in===0)break;if(C=t.strm,q=t.window,A=t.strstart+t.lookahead,_=S,ae=void 0,(ae=C.avail_in)>_&&(ae=_),l=ae===0?0:(C.avail_in-=ae,g.arraySet(q,C.input,C.next_in,ae,A),C.state.wrap===1?C.adler=d(C.adler,q,ae,A):C.state.wrap===2&&(C.adler=x(C.adler,q,ae,A)),C.next_in+=ae,C.total_in+=ae,ae),t.lookahead+=l,t.lookahead+t.insert>=3)for(X=t.strstart-t.insert,t.ins_h=t.window[X],t.ins_h=(t.ins_h<<t.hash_shift^t.window[X+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[X+3-1])&t.hash_mask,t.prev[X&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=X,X++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<R&&t.strm.avail_in!==0)}function m(t,o){for(var l,s;;){if(t.lookahead<R){if(G(t),t.lookahead<R&&o===0)return 1;if(t.lookahead===0)break}if(l=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,l=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),l!==0&&t.strstart-l<=t.w_size-R&&(t.match_length=b(t,l)),t.match_length>=3)if(s=f._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,l=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else s=f._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(ue(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,o===4?(ue(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(ue(t,!1),t.strm.avail_out===0)?1:2}function u(t,o){for(var l,s,S;;){if(t.lookahead<R){if(G(t),t.lookahead<R&&o===0)return 1;if(t.lookahead===0)break}if(l=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,l=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,l!==0&&t.prev_length<t.max_lazy_match&&t.strstart-l<=t.w_size-R&&(t.match_length=b(t,l),t.match_length<=5&&(t.strategy===1||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){S=t.strstart+t.lookahead-3,s=f._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,l=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,s&&(ue(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if((s=f._tr_tally(t,0,t.window[t.strstart-1]))&&ue(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=f._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,o===4?(ue(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(ue(t,!1),t.strm.avail_out===0)?1:2}function I(t,o,l,s,S){this.good_length=t,this.max_lazy=o,this.nice_length=l,this.max_chain=s,this.func=S}function h(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function c(t){var o;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(o=t.state).pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?42:ee,t.adler=o.wrap===2?0:1,o.last_flush=0,f._tr_init(o),0):y(t,W)}function a(t){var o,l=c(t);return l===0&&((o=t.state).window_size=2*o.w_size,fe(o.head),o.max_lazy_match=w[o.level].max_lazy,o.good_match=w[o.level].good_length,o.nice_match=w[o.level].nice_length,o.max_chain_length=w[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),l}function n(t,o,l,s,S,X){if(!t)return W;var C=1;if(o===-1&&(o=6),s<0?(C=0,s=-s):s>15&&(C=2,s-=16),S<1||S>9||l!==8||s<8||s>15||o<0||o>9||X<0||X>4)return y(t,W);s===8&&(s=9);var q=new h;return t.state=q,q.strm=t,q.wrap=C,q.gzhead=null,q.w_bits=s,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=S+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+3-1)/3),q.window=new g.Buf8(2*q.w_size),q.head=new g.Buf16(q.hash_size),q.prev=new g.Buf16(q.w_size),q.lit_bufsize=1<<S+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new g.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=o,q.strategy=X,q.method=l,a(t)}w=[new I(0,0,0,0,function(t,o){var l=65535;for(l>t.pending_buf_size-5&&(l=t.pending_buf_size-5);;){if(t.lookahead<=1){if(G(t),t.lookahead===0&&o===0)return 1;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+l;if((t.strstart===0||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,ue(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-R&&(ue(t,!1),t.strm.avail_out===0))return 1}return t.insert=0,o===4?(ue(t,!0),t.strm.avail_out===0?3:4):(t.strstart>t.block_start&&(ue(t,!1),t.strm.avail_out),1)}),new I(4,4,8,4,m),new I(4,5,16,8,m),new I(4,6,32,32,m),new I(4,4,16,16,u),new I(8,16,32,32,u),new I(8,16,128,128,u),new I(8,32,128,256,u),new I(32,128,258,1024,u),new I(32,258,258,4096,u)],Q.deflateInit=function(t,o){return n(t,o,8,15,8,0)},Q.deflateInit2=n,Q.deflateReset=a,Q.deflateResetKeep=c,Q.deflateSetHeader=function(t,o){return t&&t.state?t.state.wrap!==2?W:(t.state.gzhead=o,0):W},Q.deflate=function(t,o){var l,s,S,X;if(!t||!t.state||o>5||o<0)return t?y(t,W):W;if(s=t.state,!t.output||!t.input&&t.avail_in!==0||s.status===le&&o!==4)return y(t,t.avail_out===0?-5:W);if(s.strm=t,l=s.last_flush,s.last_flush=o,s.status===42)if(s.wrap===2)t.adler=0,de(s,31),de(s,139),de(s,8),s.gzhead?(de(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),de(s,255&s.gzhead.time),de(s,s.gzhead.time>>8&255),de(s,s.gzhead.time>>16&255),de(s,s.gzhead.time>>24&255),de(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),de(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(de(s,255&s.gzhead.extra.length),de(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=x(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(de(s,0),de(s,0),de(s,0),de(s,0),de(s,0),de(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),de(s,3),s.status=ee);else{var C=8+(s.w_bits-8<<4)<<8;C|=(s.strategy>=2||s.level<2?0:s.level<6?1:s.level===6?2:3)<<6,s.strstart!==0&&(C|=32),C+=31-C%31,s.status=ee,ye(s,C),s.strstart!==0&&(ye(s,t.adler>>>16),ye(s,65535&t.adler)),t.adler=1}if(s.status===69)if(s.gzhead.extra){for(S=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),Ce(t),S=s.pending,s.pending!==s.pending_buf_size));)de(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(s.status===73)if(s.gzhead.name){S=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),Ce(t),S=s.pending,s.pending===s.pending_buf_size)){X=1;break}X=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,de(s,X)}while(X!==0);s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),X===0&&(s.gzindex=0,s.status=91)}else s.status=91;if(s.status===91)if(s.gzhead.comment){S=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),Ce(t),S=s.pending,s.pending===s.pending_buf_size)){X=1;break}X=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,de(s,X)}while(X!==0);s.gzhead.hcrc&&s.pending>S&&(t.adler=x(t.adler,s.pending_buf,s.pending-S,S)),X===0&&(s.status=B)}else s.status=B;if(s.status===B&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&Ce(t),s.pending+2<=s.pending_buf_size&&(de(s,255&t.adler),de(s,t.adler>>8&255),t.adler=0,s.status=ee)):s.status=ee),s.pending!==0){if(Ce(t),t.avail_out===0)return s.last_flush=-1,0}else if(t.avail_in===0&&ce(o)<=ce(l)&&o!==4)return y(t,-5);if(s.status===le&&t.avail_in!==0)return y(t,-5);if(t.avail_in!==0||s.lookahead!==0||o!==0&&s.status!==le){var q=s.strategy===2?function(A,_){for(var ae;;){if(A.lookahead===0&&(G(A),A.lookahead===0)){if(_===0)return 1;break}if(A.match_length=0,ae=f._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,ae&&(ue(A,!1),A.strm.avail_out===0))return 1}return A.insert=0,_===4?(ue(A,!0),A.strm.avail_out===0?3:4):A.last_lit&&(ue(A,!1),A.strm.avail_out===0)?1:2}(s,o):s.strategy===3?function(A,_){for(var ae,U,H,j,F=A.window;;){if(A.lookahead<=i){if(G(A),A.lookahead<=i&&_===0)return 1;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=3&&A.strstart>0&&(U=F[H=A.strstart-1])===F[++H]&&U===F[++H]&&U===F[++H]){j=A.strstart+i;do;while(U===F[++H]&&U===F[++H]&&U===F[++H]&&U===F[++H]&&U===F[++H]&&U===F[++H]&&U===F[++H]&&U===F[++H]&&H<j);A.match_length=i-(j-H),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(ae=f._tr_tally(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(ae=f._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),ae&&(ue(A,!1),A.strm.avail_out===0))return 1}return A.insert=0,_===4?(ue(A,!0),A.strm.avail_out===0?3:4):A.last_lit&&(ue(A,!1),A.strm.avail_out===0)?1:2}(s,o):w[s.level].func(s,o);if(q!==3&&q!==4||(s.status=le),q===1||q===3)return t.avail_out===0&&(s.last_flush=-1),0;if(q===2&&(o===1?f._tr_align(s):o!==5&&(f._tr_stored_block(s,0,0,!1),o===3&&(fe(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),Ce(t),t.avail_out===0))return s.last_flush=-1,0}return o!==4?0:s.wrap<=0?1:(s.wrap===2?(de(s,255&t.adler),de(s,t.adler>>8&255),de(s,t.adler>>16&255),de(s,t.adler>>24&255),de(s,255&t.total_in),de(s,t.total_in>>8&255),de(s,t.total_in>>16&255),de(s,t.total_in>>24&255)):(ye(s,t.adler>>>16),ye(s,65535&t.adler)),Ce(t),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?0:1)},Q.deflateEnd=function(t){var o;return t&&t.state?(o=t.state.status)!==42&&o!==69&&o!==73&&o!==91&&o!==B&&o!==ee&&o!==le?y(t,W):(t.state=null,o===ee?y(t,-3):0):W},Q.deflateSetDictionary=function(t,o){var l,s,S,X,C,q,A,_,ae=o.length;if(!t||!t.state||(X=(l=t.state).wrap)===2||X===1&&l.status!==42||l.lookahead)return W;for(X===1&&(t.adler=d(t.adler,o,ae,0)),l.wrap=0,ae>=l.w_size&&(X===0&&(fe(l.head),l.strstart=0,l.block_start=0,l.insert=0),_=new g.Buf8(l.w_size),g.arraySet(_,o,ae-l.w_size,l.w_size,0),o=_,ae=l.w_size),C=t.avail_in,q=t.next_in,A=t.input,t.avail_in=ae,t.next_in=0,t.input=o,G(l);l.lookahead>=3;){s=l.strstart,S=l.lookahead-2;do l.ins_h=(l.ins_h<<l.hash_shift^l.window[s+3-1])&l.hash_mask,l.prev[s&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=s,s++;while(--S);l.strstart=s,l.lookahead=2,G(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=2,l.match_available=0,t.next_in=q,t.input=A,t.avail_in=C,l.wrap=X,0},Q.deflateInfo="pako deflate (from Nodeca project)"},9968:function(me){me.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(me){me.exports=function(Q,e){var w,g,f,d,x,D,W,i,R,B,ee,le,y,ce,fe,Ce,ue,de,ye,b,G,m,u,I,h;w=Q.state,g=Q.next_in,I=Q.input,f=g+(Q.avail_in-5),d=Q.next_out,h=Q.output,x=d-(e-Q.avail_out),D=d+(Q.avail_out-257),W=w.dmax,i=w.wsize,R=w.whave,B=w.wnext,ee=w.window,le=w.hold,y=w.bits,ce=w.lencode,fe=w.distcode,Ce=(1<<w.lenbits)-1,ue=(1<<w.distbits)-1;e:do{y<15&&(le+=I[g++]<<y,y+=8,le+=I[g++]<<y,y+=8),de=ce[le&Ce];t:for(;;){if(le>>>=ye=de>>>24,y-=ye,(ye=de>>>16&255)===0)h[d++]=65535&de;else{if(!(16&ye)){if(!(64&ye)){de=ce[(65535&de)+(le&(1<<ye)-1)];continue t}if(32&ye){w.mode=12;break e}Q.msg="invalid literal/length code",w.mode=30;break e}b=65535&de,(ye&=15)&&(y<ye&&(le+=I[g++]<<y,y+=8),b+=le&(1<<ye)-1,le>>>=ye,y-=ye),y<15&&(le+=I[g++]<<y,y+=8,le+=I[g++]<<y,y+=8),de=fe[le&ue];r:for(;;){if(le>>>=ye=de>>>24,y-=ye,!(16&(ye=de>>>16&255))){if(!(64&ye)){de=fe[(65535&de)+(le&(1<<ye)-1)];continue r}Q.msg="invalid distance code",w.mode=30;break e}if(G=65535&de,y<(ye&=15)&&(le+=I[g++]<<y,(y+=8)<ye&&(le+=I[g++]<<y,y+=8)),(G+=le&(1<<ye)-1)>W){Q.msg="invalid distance too far back",w.mode=30;break e}if(le>>>=ye,y-=ye,G>(ye=d-x)){if((ye=G-ye)>R&&w.sane){Q.msg="invalid distance too far back",w.mode=30;break e}if(m=0,u=ee,B===0){if(m+=i-ye,ye<b){b-=ye;do h[d++]=ee[m++];while(--ye);m=d-G,u=h}}else if(B<ye){if(m+=i+B-ye,(ye-=B)<b){b-=ye;do h[d++]=ee[m++];while(--ye);if(m=0,B<b){b-=ye=B;do h[d++]=ee[m++];while(--ye);m=d-G,u=h}}}else if(m+=B-ye,ye<b){b-=ye;do h[d++]=ee[m++];while(--ye);m=d-G,u=h}for(;b>2;)h[d++]=u[m++],h[d++]=u[m++],h[d++]=u[m++],b-=3;b&&(h[d++]=u[m++],b>1&&(h[d++]=u[m++]))}else{m=d-G;do h[d++]=h[m++],h[d++]=h[m++],h[d++]=h[m++],b-=3;while(b>2);b&&(h[d++]=h[m++],b>1&&(h[d++]=h[m++]))}break}}break}}while(g<f&&d<D);g-=b=y>>3,le&=(1<<(y-=b<<3))-1,Q.next_in=g,Q.next_out=d,Q.avail_in=g<f?f-g+5:5-(g-f),Q.avail_out=d<D?D-d+257:257-(d-D),w.hold=le,w.bits=y}},7823:function(me,Q,e){var w=e(9187),g=e(3693),f=e(8464),d=e(9365),x=e(6446),D=-2,W=12,i=30;function R(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ee(b){var G;return b&&b.state?(G=b.state,b.total_in=b.total_out=G.total=0,b.msg="",G.wrap&&(b.adler=1&G.wrap),G.mode=1,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new w.Buf32(852),G.distcode=G.distdyn=new w.Buf32(592),G.sane=1,G.back=-1,0):D}function le(b){var G;return b&&b.state?((G=b.state).wsize=0,G.whave=0,G.wnext=0,ee(b)):D}function y(b,G){var m,u;return b&&b.state?(u=b.state,G<0?(m=0,G=-G):(m=1+(G>>4),G<48&&(G&=15)),G&&(G<8||G>15)?D:(u.window!==null&&u.wbits!==G&&(u.window=null),u.wrap=m,u.wbits=G,le(b))):D}function ce(b,G){var m,u;return b?(u=new B,b.state=u,u.window=null,(m=y(b,G))!==0&&(b.state=null),m):D}var fe,Ce,ue=!0;function de(b){if(ue){var G;for(fe=new w.Buf32(512),Ce=new w.Buf32(32),G=0;G<144;)b.lens[G++]=8;for(;G<256;)b.lens[G++]=9;for(;G<280;)b.lens[G++]=7;for(;G<288;)b.lens[G++]=8;for(x(1,b.lens,0,288,fe,0,b.work,{bits:9}),G=0;G<32;)b.lens[G++]=5;x(2,b.lens,0,32,Ce,0,b.work,{bits:5}),ue=!1}b.lencode=fe,b.lenbits=9,b.distcode=Ce,b.distbits=5}function ye(b,G,m,u){var I,h=b.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new w.Buf8(h.wsize)),u>=h.wsize?(w.arraySet(h.window,G,m-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):((I=h.wsize-h.wnext)>u&&(I=u),w.arraySet(h.window,G,m-u,I,h.wnext),(u-=I)?(w.arraySet(h.window,G,m-u,u,0),h.wnext=u,h.whave=h.wsize):(h.wnext+=I,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=I))),0}Q.inflateReset=le,Q.inflateReset2=y,Q.inflateResetKeep=ee,Q.inflateInit=function(b){return ce(b,15)},Q.inflateInit2=ce,Q.inflate=function(b,G){var m,u,I,h,c,a,n,t,o,l,s,S,X,C,q,A,_,ae,U,H,j,F,T,K,ie=0,M=new w.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return D;(m=b.state).mode===W&&(m.mode=13),c=b.next_out,I=b.output,n=b.avail_out,h=b.next_in,u=b.input,a=b.avail_in,t=m.hold,o=m.bits,l=a,s=n,F=0;e:for(;;)switch(m.mode){case 1:if(m.wrap===0){m.mode=13;break}for(;o<16;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(2&m.wrap&&t===35615){m.check=0,M[0]=255&t,M[1]=t>>>8&255,m.check=f(m.check,M,2,0),t=0,o=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&t)<<8)+(t>>8))%31){b.msg="incorrect header check",m.mode=i;break}if((15&t)!=8){b.msg="unknown compression method",m.mode=i;break}if(o-=4,j=8+(15&(t>>>=4)),m.wbits===0)m.wbits=j;else if(j>m.wbits){b.msg="invalid window size",m.mode=i;break}m.dmax=1<<j,b.adler=m.check=1,m.mode=512&t?10:W,t=0,o=0;break;case 2:for(;o<16;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(m.flags=t,(255&m.flags)!=8){b.msg="unknown compression method",m.mode=i;break}if(57344&m.flags){b.msg="unknown header flags set",m.mode=i;break}m.head&&(m.head.text=t>>8&1),512&m.flags&&(M[0]=255&t,M[1]=t>>>8&255,m.check=f(m.check,M,2,0)),t=0,o=0,m.mode=3;case 3:for(;o<32;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.head&&(m.head.time=t),512&m.flags&&(M[0]=255&t,M[1]=t>>>8&255,M[2]=t>>>16&255,M[3]=t>>>24&255,m.check=f(m.check,M,4,0)),t=0,o=0,m.mode=4;case 4:for(;o<16;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.head&&(m.head.xflags=255&t,m.head.os=t>>8),512&m.flags&&(M[0]=255&t,M[1]=t>>>8&255,m.check=f(m.check,M,2,0)),t=0,o=0,m.mode=5;case 5:if(1024&m.flags){for(;o<16;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.length=t,m.head&&(m.head.extra_len=t),512&m.flags&&(M[0]=255&t,M[1]=t>>>8&255,m.check=f(m.check,M,2,0)),t=0,o=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&((S=m.length)>a&&(S=a),S&&(m.head&&(j=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),w.arraySet(m.head.extra,u,h,S,j)),512&m.flags&&(m.check=f(m.check,u,S,h)),a-=S,h+=S,m.length-=S),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(a===0)break e;S=0;do j=u[h+S++],m.head&&j&&m.length<65536&&(m.head.name+=String.fromCharCode(j));while(j&&S<a);if(512&m.flags&&(m.check=f(m.check,u,S,h)),a-=S,h+=S,j)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(a===0)break e;S=0;do j=u[h+S++],m.head&&j&&m.length<65536&&(m.head.comment+=String.fromCharCode(j));while(j&&S<a);if(512&m.flags&&(m.check=f(m.check,u,S,h)),a-=S,h+=S,j)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;o<16;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(t!==(65535&m.check)){b.msg="header crc mismatch",m.mode=i;break}t=0,o=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),b.adler=m.check=0,m.mode=W;break;case 10:for(;o<32;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}b.adler=m.check=R(t),t=0,o=0,m.mode=11;case 11:if(m.havedict===0)return b.next_out=c,b.avail_out=n,b.next_in=h,b.avail_in=a,m.hold=t,m.bits=o,2;b.adler=m.check=1,m.mode=W;case W:if(G===5||G===6)break e;case 13:if(m.last){t>>>=7&o,o-=7&o,m.mode=27;break}for(;o<3;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}switch(m.last=1&t,o-=1,3&(t>>>=1)){case 0:m.mode=14;break;case 1:if(de(m),m.mode=20,G===6){t>>>=2,o-=2;break e}break;case 2:m.mode=17;break;case 3:b.msg="invalid block type",m.mode=i}t>>>=2,o-=2;break;case 14:for(t>>>=7&o,o-=7&o;o<32;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if((65535&t)!=(t>>>16^65535)){b.msg="invalid stored block lengths",m.mode=i;break}if(m.length=65535&t,t=0,o=0,m.mode=15,G===6)break e;case 15:m.mode=16;case 16:if(S=m.length){if(S>a&&(S=a),S>n&&(S=n),S===0)break e;w.arraySet(I,u,h,S,c),a-=S,h+=S,n-=S,c+=S,m.length-=S;break}m.mode=W;break;case 17:for(;o<14;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(m.nlen=257+(31&t),t>>>=5,o-=5,m.ndist=1+(31&t),t>>>=5,o-=5,m.ncode=4+(15&t),t>>>=4,o-=4,m.nlen>286||m.ndist>30){b.msg="too many length or distance symbols",m.mode=i;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;o<3;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.lens[O[m.have++]]=7&t,t>>>=3,o-=3}for(;m.have<19;)m.lens[O[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,T={bits:m.lenbits},F=x(0,m.lens,0,19,m.lencode,0,m.work,T),m.lenbits=T.bits,F){b.msg="invalid code lengths set",m.mode=i;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;A=(ie=m.lencode[t&(1<<m.lenbits)-1])>>>16&255,_=65535&ie,!((q=ie>>>24)<=o);){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(_<16)t>>>=q,o-=q,m.lens[m.have++]=_;else{if(_===16){for(K=q+2;o<K;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(t>>>=q,o-=q,m.have===0){b.msg="invalid bit length repeat",m.mode=i;break}j=m.lens[m.have-1],S=3+(3&t),t>>>=2,o-=2}else if(_===17){for(K=q+3;o<K;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}o-=q,j=0,S=3+(7&(t>>>=q)),t>>>=3,o-=3}else{for(K=q+7;o<K;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}o-=q,j=0,S=11+(127&(t>>>=q)),t>>>=7,o-=7}if(m.have+S>m.nlen+m.ndist){b.msg="invalid bit length repeat",m.mode=i;break}for(;S--;)m.lens[m.have++]=j}}if(m.mode===i)break;if(m.lens[256]===0){b.msg="invalid code -- missing end-of-block",m.mode=i;break}if(m.lenbits=9,T={bits:m.lenbits},F=x(1,m.lens,0,m.nlen,m.lencode,0,m.work,T),m.lenbits=T.bits,F){b.msg="invalid literal/lengths set",m.mode=i;break}if(m.distbits=6,m.distcode=m.distdyn,T={bits:m.distbits},F=x(2,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,T),m.distbits=T.bits,F){b.msg="invalid distances set",m.mode=i;break}if(m.mode=20,G===6)break e;case 20:m.mode=21;case 21:if(a>=6&&n>=258){b.next_out=c,b.avail_out=n,b.next_in=h,b.avail_in=a,m.hold=t,m.bits=o,d(b,s),c=b.next_out,I=b.output,n=b.avail_out,h=b.next_in,u=b.input,a=b.avail_in,t=m.hold,o=m.bits,m.mode===W&&(m.back=-1);break}for(m.back=0;A=(ie=m.lencode[t&(1<<m.lenbits)-1])>>>16&255,_=65535&ie,!((q=ie>>>24)<=o);){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(A&&!(240&A)){for(ae=q,U=A,H=_;A=(ie=m.lencode[H+((t&(1<<ae+U)-1)>>ae)])>>>16&255,_=65535&ie,!(ae+(q=ie>>>24)<=o);){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}t>>>=ae,o-=ae,m.back+=ae}if(t>>>=q,o-=q,m.back+=q,m.length=_,A===0){m.mode=26;break}if(32&A){m.back=-1,m.mode=W;break}if(64&A){b.msg="invalid literal/length code",m.mode=i;break}m.extra=15&A,m.mode=22;case 22:if(m.extra){for(K=m.extra;o<K;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.length+=t&(1<<m.extra)-1,t>>>=m.extra,o-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;A=(ie=m.distcode[t&(1<<m.distbits)-1])>>>16&255,_=65535&ie,!((q=ie>>>24)<=o);){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(!(240&A)){for(ae=q,U=A,H=_;A=(ie=m.distcode[H+((t&(1<<ae+U)-1)>>ae)])>>>16&255,_=65535&ie,!(ae+(q=ie>>>24)<=o);){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}t>>>=ae,o-=ae,m.back+=ae}if(t>>>=q,o-=q,m.back+=q,64&A){b.msg="invalid distance code",m.mode=i;break}m.offset=_,m.extra=15&A,m.mode=24;case 24:if(m.extra){for(K=m.extra;o<K;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}m.offset+=t&(1<<m.extra)-1,t>>>=m.extra,o-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){b.msg="invalid distance too far back",m.mode=i;break}m.mode=25;case 25:if(n===0)break e;if(S=s-n,m.offset>S){if((S=m.offset-S)>m.whave&&m.sane){b.msg="invalid distance too far back",m.mode=i;break}S>m.wnext?(S-=m.wnext,X=m.wsize-S):X=m.wnext-S,S>m.length&&(S=m.length),C=m.window}else C=I,X=c-m.offset,S=m.length;S>n&&(S=n),n-=S,m.length-=S;do I[c++]=C[X++];while(--S);m.length===0&&(m.mode=21);break;case 26:if(n===0)break e;I[c++]=m.length,n--,m.mode=21;break;case 27:if(m.wrap){for(;o<32;){if(a===0)break e;a--,t|=u[h++]<<o,o+=8}if(s-=n,b.total_out+=s,m.total+=s,s&&(b.adler=m.check=m.flags?f(m.check,I,s,c-s):g(m.check,I,s,c-s)),s=n,(m.flags?t:R(t))!==m.check){b.msg="incorrect data check",m.mode=i;break}t=0,o=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;o<32;){if(a===0)break e;a--,t+=u[h++]<<o,o+=8}if(t!==(4294967295&m.total)){b.msg="incorrect length check",m.mode=i;break}t=0,o=0}m.mode=29;case 29:F=1;break e;case i:F=-3;break e;case 31:return-4;default:return D}return b.next_out=c,b.avail_out=n,b.next_in=h,b.avail_in=a,m.hold=t,m.bits=o,(m.wsize||s!==b.avail_out&&m.mode<i&&(m.mode<27||G!==4))&&ye(b,b.output,b.next_out,s-b.avail_out)?(m.mode=31,-4):(l-=b.avail_in,s-=b.avail_out,b.total_in+=l,b.total_out+=s,m.total+=s,m.wrap&&s&&(b.adler=m.check=m.flags?f(m.check,I,s,b.next_out-s):g(m.check,I,s,b.next_out-s)),b.data_type=m.bits+(m.last?64:0)+(m.mode===W?128:0)+(m.mode===20||m.mode===15?256:0),(l===0&&s===0||G===4)&&F===0&&(F=-5),F)},Q.inflateEnd=function(b){if(!b||!b.state)return D;var G=b.state;return G.window&&(G.window=null),b.state=null,0},Q.inflateGetHeader=function(b,G){var m;return b&&b.state&&2&(m=b.state).wrap?(m.head=G,G.done=!1,0):D},Q.inflateSetDictionary=function(b,G){var m,u=G.length;return b&&b.state?(m=b.state).wrap!==0&&m.mode!==11?D:m.mode===11&&g(1,G,u,0)!==m.check?-3:ye(b,G,u,u)?(m.mode=31,-4):(m.havedict=1,0):D},Q.inflateInfo="pako inflate (from Nodeca project)"},6446:function(me,Q,e){var w=e(9187),g=15,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],D=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];me.exports=function(W,i,R,B,ee,le,y,ce){var fe,Ce,ue,de,ye,b,G,m,u,I=ce.bits,h=0,c=0,a=0,n=0,t=0,o=0,l=0,s=0,S=0,X=0,C=null,q=0,A=new w.Buf16(16),_=new w.Buf16(16),ae=null,U=0;for(h=0;h<=g;h++)A[h]=0;for(c=0;c<B;c++)A[i[R+c]]++;for(t=I,n=g;n>=1&&A[n]===0;n--);if(t>n&&(t=n),n===0)return ee[le++]=20971520,ee[le++]=20971520,ce.bits=1,0;for(a=1;a<n&&A[a]===0;a++);for(t<a&&(t=a),s=1,h=1;h<=g;h++)if(s<<=1,(s-=A[h])<0)return-1;if(s>0&&(W===0||n!==1))return-1;for(_[1]=0,h=1;h<g;h++)_[h+1]=_[h]+A[h];for(c=0;c<B;c++)i[R+c]!==0&&(y[_[i[R+c]]++]=c);if(W===0?(C=ae=y,b=19):W===1?(C=f,q-=257,ae=d,U-=257,b=256):(C=x,ae=D,b=-1),X=0,c=0,h=a,ye=le,o=t,l=0,ue=-1,de=(S=1<<t)-1,W===1&&S>852||W===2&&S>592)return 1;for(;;){G=h-l,y[c]<b?(m=0,u=y[c]):y[c]>b?(m=ae[U+y[c]],u=C[q+y[c]]):(m=96,u=0),fe=1<<h-l,a=Ce=1<<o;do ee[ye+(X>>l)+(Ce-=fe)]=G<<24|m<<16|u|0;while(Ce!==0);for(fe=1<<h-1;X&fe;)fe>>=1;if(fe!==0?(X&=fe-1,X+=fe):X=0,c++,--A[h]==0){if(h===n)break;h=i[R+y[c]]}if(h>t&&(X&de)!==ue){for(l===0&&(l=t),ye+=a,s=1<<(o=h-l);o+l<n&&!((s-=A[o+l])<=0);)o++,s<<=1;if(S+=1<<o,W===1&&S>852||W===2&&S>592)return 1;ee[ue=X&de]=t<<24|o<<16|ye-le|0}}return X!==0&&(ee[ye+X]=h-l<<24|4194304|0),ce.bits=t,0}},5604:function(me){me.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(me,Q,e){var w=e(9187);function g(_){for(var ae=_.length;--ae>=0;)_[ae]=0}var f=256,d=286,x=30,D=15,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],i=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(576);g(ee);var le=new Array(60);g(le);var y=new Array(512);g(y);var ce=new Array(256);g(ce);var fe=new Array(29);g(fe);var Ce,ue,de,ye=new Array(x);function b(_,ae,U,H,j){this.static_tree=_,this.extra_bits=ae,this.extra_base=U,this.elems=H,this.max_length=j,this.has_stree=_&&_.length}function G(_,ae){this.dyn_tree=_,this.max_code=0,this.stat_desc=ae}function m(_){return _<256?y[_]:y[256+(_>>>7)]}function u(_,ae){_.pending_buf[_.pending++]=255&ae,_.pending_buf[_.pending++]=ae>>>8&255}function I(_,ae,U){_.bi_valid>16-U?(_.bi_buf|=ae<<_.bi_valid&65535,u(_,_.bi_buf),_.bi_buf=ae>>16-_.bi_valid,_.bi_valid+=U-16):(_.bi_buf|=ae<<_.bi_valid&65535,_.bi_valid+=U)}function h(_,ae,U){I(_,U[2*ae],U[2*ae+1])}function c(_,ae){var U=0;do U|=1&_,_>>>=1,U<<=1;while(--ae>0);return U>>>1}function a(_,ae,U){var H,j,F=new Array(16),T=0;for(H=1;H<=D;H++)F[H]=T=T+U[H-1]<<1;for(j=0;j<=ae;j++){var K=_[2*j+1];K!==0&&(_[2*j]=c(F[K]++,K))}}function n(_){var ae;for(ae=0;ae<d;ae++)_.dyn_ltree[2*ae]=0;for(ae=0;ae<x;ae++)_.dyn_dtree[2*ae]=0;for(ae=0;ae<19;ae++)_.bl_tree[2*ae]=0;_.dyn_ltree[512]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function t(_){_.bi_valid>8?u(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function o(_,ae,U,H){var j=2*ae,F=2*U;return _[j]<_[F]||_[j]===_[F]&&H[ae]<=H[U]}function l(_,ae,U){for(var H=_.heap[U],j=U<<1;j<=_.heap_len&&(j<_.heap_len&&o(ae,_.heap[j+1],_.heap[j],_.depth)&&j++,!o(ae,H,_.heap[j],_.depth));)_.heap[U]=_.heap[j],U=j,j<<=1;_.heap[U]=H}function s(_,ae,U){var H,j,F,T,K=0;if(_.last_lit!==0)do H=_.pending_buf[_.d_buf+2*K]<<8|_.pending_buf[_.d_buf+2*K+1],j=_.pending_buf[_.l_buf+K],K++,H===0?h(_,j,ae):(h(_,(F=ce[j])+f+1,ae),(T=W[F])!==0&&I(_,j-=fe[F],T),h(_,F=m(--H),U),(T=i[F])!==0&&I(_,H-=ye[F],T));while(K<_.last_lit);h(_,256,ae)}function S(_,ae){var U,H,j,F=ae.dyn_tree,T=ae.stat_desc.static_tree,K=ae.stat_desc.has_stree,ie=ae.stat_desc.elems,M=-1;for(_.heap_len=0,_.heap_max=573,U=0;U<ie;U++)F[2*U]!==0?(_.heap[++_.heap_len]=M=U,_.depth[U]=0):F[2*U+1]=0;for(;_.heap_len<2;)F[2*(j=_.heap[++_.heap_len]=M<2?++M:0)]=1,_.depth[j]=0,_.opt_len--,K&&(_.static_len-=T[2*j+1]);for(ae.max_code=M,U=_.heap_len>>1;U>=1;U--)l(_,F,U);j=ie;do U=_.heap[1],_.heap[1]=_.heap[_.heap_len--],l(_,F,1),H=_.heap[1],_.heap[--_.heap_max]=U,_.heap[--_.heap_max]=H,F[2*j]=F[2*U]+F[2*H],_.depth[j]=(_.depth[U]>=_.depth[H]?_.depth[U]:_.depth[H])+1,F[2*U+1]=F[2*H+1]=j,_.heap[1]=j++,l(_,F,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],function(O,z){var p,E,v,Z,P,oe,se=z.dyn_tree,N=z.max_code,ge=z.stat_desc.static_tree,he=z.stat_desc.has_stree,be=z.stat_desc.extra_bits,Se=z.stat_desc.extra_base,Y=z.stat_desc.max_length,we=0;for(Z=0;Z<=D;Z++)O.bl_count[Z]=0;for(se[2*O.heap[O.heap_max]+1]=0,p=O.heap_max+1;p<573;p++)(Z=se[2*se[2*(E=O.heap[p])+1]+1]+1)>Y&&(Z=Y,we++),se[2*E+1]=Z,E>N||(O.bl_count[Z]++,P=0,E>=Se&&(P=be[E-Se]),oe=se[2*E],O.opt_len+=oe*(Z+P),he&&(O.static_len+=oe*(ge[2*E+1]+P)));if(we!==0){do{for(Z=Y-1;O.bl_count[Z]===0;)Z--;O.bl_count[Z]--,O.bl_count[Z+1]+=2,O.bl_count[Y]--,we-=2}while(we>0);for(Z=Y;Z!==0;Z--)for(E=O.bl_count[Z];E!==0;)(v=O.heap[--p])>N||(se[2*v+1]!==Z&&(O.opt_len+=(Z-se[2*v+1])*se[2*v],se[2*v+1]=Z),E--)}}(_,ae),a(F,M,_.bl_count)}function X(_,ae,U){var H,j,F=-1,T=ae[1],K=0,ie=7,M=4;for(T===0&&(ie=138,M=3),ae[2*(U+1)+1]=65535,H=0;H<=U;H++)j=T,T=ae[2*(H+1)+1],++K<ie&&j===T||(K<M?_.bl_tree[2*j]+=K:j!==0?(j!==F&&_.bl_tree[2*j]++,_.bl_tree[32]++):K<=10?_.bl_tree[34]++:_.bl_tree[36]++,K=0,F=j,T===0?(ie=138,M=3):j===T?(ie=6,M=3):(ie=7,M=4))}function C(_,ae,U){var H,j,F=-1,T=ae[1],K=0,ie=7,M=4;for(T===0&&(ie=138,M=3),H=0;H<=U;H++)if(j=T,T=ae[2*(H+1)+1],!(++K<ie&&j===T)){if(K<M)do h(_,j,_.bl_tree);while(--K!=0);else j!==0?(j!==F&&(h(_,j,_.bl_tree),K--),h(_,16,_.bl_tree),I(_,K-3,2)):K<=10?(h(_,17,_.bl_tree),I(_,K-3,3)):(h(_,18,_.bl_tree),I(_,K-11,7));K=0,F=j,T===0?(ie=138,M=3):j===T?(ie=6,M=3):(ie=7,M=4)}}g(ye);var q=!1;function A(_,ae,U,H){I(_,0+(H?1:0),3),function(j,F,T,K){t(j),K&&(u(j,T),u(j,~T)),w.arraySet(j.pending_buf,j.window,F,T,j.pending),j.pending+=T}(_,ae,U,!0)}Q._tr_init=function(_){q||(function(){var ae,U,H,j,F,T=new Array(16);for(H=0,j=0;j<28;j++)for(fe[j]=H,ae=0;ae<1<<W[j];ae++)ce[H++]=j;for(ce[H-1]=j,F=0,j=0;j<16;j++)for(ye[j]=F,ae=0;ae<1<<i[j];ae++)y[F++]=j;for(F>>=7;j<x;j++)for(ye[j]=F<<7,ae=0;ae<1<<i[j]-7;ae++)y[256+F++]=j;for(U=0;U<=D;U++)T[U]=0;for(ae=0;ae<=143;)ee[2*ae+1]=8,ae++,T[8]++;for(;ae<=255;)ee[2*ae+1]=9,ae++,T[9]++;for(;ae<=279;)ee[2*ae+1]=7,ae++,T[7]++;for(;ae<=287;)ee[2*ae+1]=8,ae++,T[8]++;for(a(ee,287,T),ae=0;ae<x;ae++)le[2*ae+1]=5,le[2*ae]=c(ae,5);Ce=new b(ee,W,257,d,D),ue=new b(le,i,0,x,D),de=new b(new Array(0),R,0,19,7)}(),q=!0),_.l_desc=new G(_.dyn_ltree,Ce),_.d_desc=new G(_.dyn_dtree,ue),_.bl_desc=new G(_.bl_tree,de),_.bi_buf=0,_.bi_valid=0,n(_)},Q._tr_stored_block=A,Q._tr_flush_block=function(_,ae,U,H){var j,F,T=0;_.level>0?(_.strm.data_type===2&&(_.strm.data_type=function(K){var ie,M=4093624447;for(ie=0;ie<=31;ie++,M>>>=1)if(1&M&&K.dyn_ltree[2*ie]!==0)return 0;if(K.dyn_ltree[18]!==0||K.dyn_ltree[20]!==0||K.dyn_ltree[26]!==0)return 1;for(ie=32;ie<f;ie++)if(K.dyn_ltree[2*ie]!==0)return 1;return 0}(_)),S(_,_.l_desc),S(_,_.d_desc),T=function(K){var ie;for(X(K,K.dyn_ltree,K.l_desc.max_code),X(K,K.dyn_dtree,K.d_desc.max_code),S(K,K.bl_desc),ie=18;ie>=3&&K.bl_tree[2*B[ie]+1]===0;ie--);return K.opt_len+=3*(ie+1)+5+5+4,ie}(_),j=_.opt_len+3+7>>>3,(F=_.static_len+3+7>>>3)<=j&&(j=F)):j=F=U+5,U+4<=j&&ae!==-1?A(_,ae,U,H):_.strategy===4||F===j?(I(_,2+(H?1:0),3),s(_,ee,le)):(I(_,4+(H?1:0),3),function(K,ie,M,O){var z;for(I(K,ie-257,5),I(K,M-1,5),I(K,O-4,4),z=0;z<O;z++)I(K,K.bl_tree[2*B[z]+1],3);C(K,K.dyn_ltree,ie-1),C(K,K.dyn_dtree,M-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,T+1),s(_,_.dyn_ltree,_.dyn_dtree)),n(_),H&&t(_)},Q._tr_tally=function(_,ae,U){return _.pending_buf[_.d_buf+2*_.last_lit]=ae>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&ae,_.pending_buf[_.l_buf+_.last_lit]=255&U,_.last_lit++,ae===0?_.dyn_ltree[2*U]++:(_.matches++,ae--,_.dyn_ltree[2*(ce[U]+f+1)]++,_.dyn_dtree[2*m(ae)]++),_.last_lit===_.lit_bufsize-1},Q._tr_align=function(_){I(_,2,3),h(_,256,ee),function(ae){ae.bi_valid===16?(u(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):ae.bi_valid>=8&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(_)}},249:function(me){me.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(me){me.exports=function(Q){Q.data&&Q.name&&(Q=Q.data);for(var e=!0,w="",g="",f=0;f<Q.length;f++){var d=Q[f];if(e)d?g+=String.fromCharCode(d):e=!1;else{if(!d)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");w+=String.fromCharCode(d)}}return{keyword:g,text:w}}},9686:function(me){me.exports=function(Q,e){if(Q=String(Q),e=String(e),!/^[\x00-\xFF]+$/.test(Q)||!/^[\x00-\xFF]+$/.test(e))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(Q.length>=80)throw new Error('Keyword "'+Q+'" is longer than the 79-character limit imposed by the PNG specification');for(var w,g=Q.length+e.length+1,f=new Uint8Array(g),d=0,x=0;x<Q.length;x++){if(!(w=Q.charCodeAt(x)))throw new Error("0x00 character is not permitted in tEXt keywords");f[d++]=w}f[d++]=0;for(var D=0;D<e.length;D++){if(!(w=e.charCodeAt(D)))throw new Error("0x00 character is not permitted in tEXt content");f[d++]=w}return{name:"tEXt",data:f}}},1194:function(me,Q,e){Q.encode=e(9686),Q.decode=e(9066)},3434:function(me,Q,e){var w=e(5714),g=e(6233);me.exports=function(D){var W,i=8,R=i;for(W=0;W<D.length;W++)i+=D[W].data.length,i+=12;var B=new Uint8Array(i);for(B[0]=137,B[1]=80,B[2]=78,B[3]=71,B[4]=13,B[5]=10,B[6]=26,B[7]=10,W=0;W<D.length;W++){var ee=D[W],le=ee.name,y=ee.data,ce=y.length,fe=[le.charCodeAt(0),le.charCodeAt(1),le.charCodeAt(2),le.charCodeAt(3)];x[0]=ce,B[R++]=f[3],B[R++]=f[2],B[R++]=f[1],B[R++]=f[0],B[R++]=fe[0],B[R++]=fe[1],B[R++]=fe[2],B[R++]=fe[3];for(var Ce=0;Ce<ce;)B[R++]=y[Ce++];var ue=fe.concat(w(y)),de=g.buf(ue);d[0]=de,B[R++]=f[3],B[R++]=f[2],B[R++]=f[1],B[R++]=f[0]}return B};var f=new Uint8Array(4),d=new Int32Array(f.buffer),x=new Uint32Array(f.buffer)},2983:function(me,Q,e){var w=e(6233);me.exports=function(x){if(x[0]!==137)throw new Error("Invalid .png file header");if(x[1]!==80)throw new Error("Invalid .png file header");if(x[2]!==78)throw new Error("Invalid .png file header");if(x[3]!==71)throw new Error("Invalid .png file header");if(x[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(x[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(x[6]!==26)throw new Error("Invalid .png file header");if(x[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var D=!1,W=[],i=8;i<x.length;){g[3]=x[i++],g[2]=x[i++],g[1]=x[i++],g[0]=x[i++];var R=d[0]+4,B=new Uint8Array(R);B[0]=x[i++],B[1]=x[i++],B[2]=x[i++],B[3]=x[i++];var ee=String.fromCharCode(B[0])+String.fromCharCode(B[1])+String.fromCharCode(B[2])+String.fromCharCode(B[3]);if(!W.length&&ee!=="IHDR")throw new Error("IHDR header missing");if(ee==="IEND"){D=!0,W.push({name:ee,data:new Uint8Array(0)});break}for(var le=4;le<R;le++)B[le]=x[i++];g[3]=x[i++],g[2]=x[i++],g[1]=x[i++],g[0]=x[i++];var y=f[0];if(w.buf(B)!==y)throw new Error("CRC values for "+ee+" header do not match, PNG file is likely corrupted");var ce=new Uint8Array(B.buffer.slice(4));W.push({name:ee,data:ce})}if(!D)throw new Error(".png file ended prematurely: no IEND header was found");return W};var g=new Uint8Array(4),f=new Int32Array(g.buffer),d=new Uint32Array(g.buffer)},1493:function(me,Q,e){function w(i,R){return Math.pow(i[0]-R[0],2)+Math.pow(i[1]-R[1],2)}function g(i,R,B){const ee=w(R,B);if(ee===0)return w(i,R);let le=((i[0]-R[0])*(B[0]-R[0])+(i[1]-R[1])*(B[1]-R[1]))/ee;return le=Math.max(0,Math.min(1,le)),w(i,f(R,B,le))}function f(i,R,B){return[i[0]+(R[0]-i[0])*B,i[1]+(R[1]-i[1])*B]}function d(i,R,B,ee){const le=ee||[];if(function(fe,Ce){const ue=fe[Ce+0],de=fe[Ce+1],ye=fe[Ce+2],b=fe[Ce+3];let G=3*de[0]-2*ue[0]-b[0];G*=G;let m=3*de[1]-2*ue[1]-b[1];m*=m;let u=3*ye[0]-2*b[0]-ue[0];u*=u;let I=3*ye[1]-2*b[1]-ue[1];return I*=I,G<u&&(G=u),m<I&&(m=I),G+m}(i,R)<B){const fe=i[R+0];le.length?(y=le[le.length-1],ce=fe,Math.sqrt(w(y,ce))>1&&le.push(fe)):le.push(fe),le.push(i[R+3])}else{const Ce=i[R+0],ue=i[R+1],de=i[R+2],ye=i[R+3],b=f(Ce,ue,.5),G=f(ue,de,.5),m=f(de,ye,.5),u=f(b,G,.5),I=f(G,m,.5),h=f(u,I,.5);d([Ce,b,u,h],0,B,le),d([h,I,m,ye],0,B,le)}var y,ce;return le}function x(i,R){return D(i,0,i.length,R)}function D(i,R,B,ee,le){const y=le||[],ce=i[R],fe=i[B-1];let Ce=0,ue=1;for(let de=R+1;de<B-1;++de){const ye=g(i[de],ce,fe);ye>Ce&&(Ce=ye,ue=de)}return Math.sqrt(Ce)>ee?(D(i,R,ue+1,ee,y),D(i,ue,B,ee,y)):(y.length||y.push(ce),y.push(fe)),y}function W(i,R=.15,B){const ee=[],le=(i.length-1)/3;for(let y=0;y<le;y++)d(i,3*y,R,ee);return B&&B>0?D(ee,0,ee.length,B):ee}e.d(Q,{o:function(){return x},s:function(){return W}})},6094:function(me,Q,e){var w=e(9787),g=Symbol.for("react.element"),f=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,x=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function W(i,R,B){var ee,le={},y=null,ce=null;for(ee in B!==void 0&&(y=""+B),R.key!==void 0&&(y=""+R.key),R.ref!==void 0&&(ce=R.ref),R)d.call(R,ee)&&!D.hasOwnProperty(ee)&&(le[ee]=R[ee]);if(i&&i.defaultProps)for(ee in R=i.defaultProps)le[ee]===void 0&&(le[ee]=R[ee]);return{$$typeof:g,type:i,key:y,ref:ce,props:le,_owner:x.current}}Q.Fragment=f,Q.jsx=W,Q.jsxs=W},4512:function(me,Q,e){me.exports=e(6094)},8152:function(me,Q,e){function w(){return Math.floor(Math.random()*2147483648)}e.d(Q,{W:function(){return w},k:function(){return g}});class g{constructor(d){this.seed=d}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(me,Q,e){function w(M,O,z){if(M&&M.length){const[p,E]=O,v=Math.PI/180*z,Z=Math.cos(v),P=Math.sin(v);M.forEach(oe=>{const[se,N]=oe;oe[0]=(se-p)*Z-(N-E)*P+p,oe[1]=(se-p)*P+(N-E)*Z+E})}}function g(M){const O=M[0],z=M[1];return Math.sqrt(Math.pow(O[0]-z[0],2)+Math.pow(O[1]-z[1],2))}function f(M,O){const z=O.hachureAngle+90;let p=O.hachureGap;p<0&&(p=4*O.strokeWidth),p=Math.max(p,.1);const E=[0,0];if(z)for(const Z of M)w(Z,E,z);const v=function(Z,P){const oe=[];for(const be of Z){const Se=[...be];Se[0].join(",")!==Se[Se.length-1].join(",")&&Se.push([Se[0][0],Se[0][1]]),Se.length>2&&oe.push(Se)}const se=[];P=Math.max(P,.1);const N=[];for(const be of oe)for(let Se=0;Se<be.length-1;Se++){const Y=be[Se],we=be[Se+1];if(Y[1]!==we[1]){const te=Math.min(Y[1],we[1]);N.push({ymin:te,ymax:Math.max(Y[1],we[1]),x:te===Y[1]?Y[0]:we[0],islope:(we[0]-Y[0])/(we[1]-Y[1])})}}if(N.sort((be,Se)=>be.ymin<Se.ymin?-1:be.ymin>Se.ymin?1:be.x<Se.x?-1:be.x>Se.x?1:be.ymax===Se.ymax?0:(be.ymax-Se.ymax)/Math.abs(be.ymax-Se.ymax)),!N.length)return se;let ge=[],he=N[0].ymin;for(;ge.length||N.length;){if(N.length){let be=-1;for(let Se=0;Se<N.length&&!(N[Se].ymin>he);Se++)be=Se;N.splice(0,be+1).forEach(Se=>{ge.push({s:he,edge:Se})})}if(ge=ge.filter(be=>!(be.edge.ymax<=he)),ge.sort((be,Se)=>be.edge.x===Se.edge.x?0:(be.edge.x-Se.edge.x)/Math.abs(be.edge.x-Se.edge.x)),ge.length>1)for(let be=0;be<ge.length;be+=2){const Se=be+1;if(Se>=ge.length)break;const Y=ge[be].edge,we=ge[Se].edge;se.push([[Math.round(Y.x),he],[Math.round(we.x),he]])}he+=P,ge.forEach(be=>{be.edge.x=be.edge.x+P*be.edge.islope})}return se}(M,p);if(z){for(const Z of M)w(Z,E,-z);(function(Z,P,oe){const se=[];Z.forEach(N=>se.push(...N)),w(se,P,oe)})(v,E,-z)}return v}e.d(Q,{Z:function(){return ie}});class d{constructor(O){this.helper=O}fillPolygons(O,z){return this._fillPolygons(O,z)}_fillPolygons(O,z){const p=f(O,z);return{type:"fillSketch",ops:this.renderLines(p,z)}}renderLines(O,z){const p=[];for(const E of O)p.push(...this.helper.doubleLineOps(E[0][0],E[0][1],E[1][0],E[1][1],z));return p}}class x extends d{fillPolygons(O,z){let p=z.hachureGap;p<0&&(p=4*z.strokeWidth),p=Math.max(p,.1);const E=f(O,Object.assign({},z,{hachureGap:p})),v=Math.PI/180*z.hachureAngle,Z=[],P=.5*p*Math.cos(v),oe=.5*p*Math.sin(v);for(const[se,N]of E)g([se,N])&&Z.push([[se[0]-P,se[1]+oe],[...N]],[[se[0]+P,se[1]-oe],[...N]]);return{type:"fillSketch",ops:this.renderLines(Z,z)}}}class D extends d{fillPolygons(O,z){const p=this._fillPolygons(O,z),E=Object.assign({},z,{hachureAngle:z.hachureAngle+90}),v=this._fillPolygons(O,E);return p.ops=p.ops.concat(v.ops),p}}class W{constructor(O){this.helper=O}fillPolygons(O,z){const p=f(O,z=Object.assign({},z,{hachureAngle:0}));return this.dotsOnLines(p,z)}dotsOnLines(O,z){const p=[];let E=z.hachureGap;E<0&&(E=4*z.strokeWidth),E=Math.max(E,.1);let v=z.fillWeight;v<0&&(v=z.strokeWidth/2);const Z=E/4;for(const P of O){const oe=g(P),se=oe/E,N=Math.ceil(se)-1,ge=oe-N*E,he=(P[0][0]+P[1][0])/2-E/4,be=Math.min(P[0][1],P[1][1]);for(let Se=0;Se<N;Se++){const Y=be+ge+Se*E,we=he-Z+2*Math.random()*Z,te=Y-Z+2*Math.random()*Z,_e=this.helper.ellipse(we,te,v,v,z);p.push(..._e.ops)}}return{type:"fillSketch",ops:p}}}class i{constructor(O){this.helper=O}fillPolygons(O,z){const p=f(O,z);return{type:"fillSketch",ops:this.dashedLine(p,z)}}dashedLine(O,z){const p=z.dashOffset<0?z.hachureGap<0?4*z.strokeWidth:z.hachureGap:z.dashOffset,E=z.dashGap<0?z.hachureGap<0?4*z.strokeWidth:z.hachureGap:z.dashGap,v=[];return O.forEach(Z=>{const P=g(Z),oe=Math.floor(P/(p+E)),se=(P+E-oe*(p+E))/2;let N=Z[0],ge=Z[1];N[0]>ge[0]&&(N=Z[1],ge=Z[0]);const he=Math.atan((ge[1]-N[1])/(ge[0]-N[0]));for(let be=0;be<oe;be++){const Se=be*(p+E),Y=Se+p,we=[N[0]+Se*Math.cos(he)+se*Math.cos(he),N[1]+Se*Math.sin(he)+se*Math.sin(he)],te=[N[0]+Y*Math.cos(he)+se*Math.cos(he),N[1]+Y*Math.sin(he)+se*Math.sin(he)];v.push(...this.helper.doubleLineOps(we[0],we[1],te[0],te[1],z))}}),v}}class R{constructor(O){this.helper=O}fillPolygons(O,z){const p=z.hachureGap<0?4*z.strokeWidth:z.hachureGap,E=z.zigzagOffset<0?p:z.zigzagOffset,v=f(O,z=Object.assign({},z,{hachureGap:p+E}));return{type:"fillSketch",ops:this.zigzagLines(v,E,z)}}zigzagLines(O,z,p){const E=[];return O.forEach(v=>{const Z=g(v),P=Math.round(Z/(2*z));let oe=v[0],se=v[1];oe[0]>se[0]&&(oe=v[1],se=v[0]);const N=Math.atan((se[1]-oe[1])/(se[0]-oe[0]));for(let ge=0;ge<P;ge++){const he=2*ge*z,be=2*(ge+1)*z,Se=Math.sqrt(2*Math.pow(z,2)),Y=[oe[0]+he*Math.cos(N),oe[1]+he*Math.sin(N)],we=[oe[0]+be*Math.cos(N),oe[1]+be*Math.sin(N)],te=[Y[0]+Se*Math.cos(N+Math.PI/4),Y[1]+Se*Math.sin(N+Math.PI/4)];E.push(...this.helper.doubleLineOps(Y[0],Y[1],te[0],te[1],p),...this.helper.doubleLineOps(te[0],te[1],we[0],we[1],p))}}),E}}const B={};var ee=e(8152);const le={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y(M,O){return M.type===O}function ce(M){const O=[],z=function(Z){const P=new Array;for(;Z!=="";)if(Z.match(/^([ \t\r\n,]+)/))Z=Z.substr(RegExp.$1.length);else if(Z.match(/^([aAcChHlLmMqQsStTvVzZ])/))P[P.length]={type:0,text:RegExp.$1},Z=Z.substr(RegExp.$1.length);else{if(!Z.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];P[P.length]={type:1,text:`${parseFloat(RegExp.$1)}`},Z=Z.substr(RegExp.$1.length)}return P[P.length]={type:2,text:""},P}(M);let p="BOD",E=0,v=z[E];for(;!y(v,2);){let Z=0;const P=[];if(p==="BOD"){if(v.text!=="M"&&v.text!=="m")return ce("M0,0"+M);E++,Z=le[v.text],p=v.text}else y(v,1)?Z=le[p]:(E++,Z=le[v.text],p=v.text);if(!(E+Z<z.length))throw new Error("Path data ended short");for(let oe=E;oe<E+Z;oe++){const se=z[oe];if(!y(se,1))throw new Error("Param not a number: "+p+","+se.text);P[P.length]=+se.text}if(typeof le[p]!="number")throw new Error("Bad segment: "+p);{const oe={key:p,data:P};O.push(oe),E+=Z,v=z[E],p==="M"&&(p="L"),p==="m"&&(p="l")}}return O}function fe(M){let O=0,z=0,p=0,E=0;const v=[];for(const{key:Z,data:P}of M)switch(Z){case"M":v.push({key:"M",data:[...P]}),[O,z]=P,[p,E]=P;break;case"m":O+=P[0],z+=P[1],v.push({key:"M",data:[O,z]}),p=O,E=z;break;case"L":v.push({key:"L",data:[...P]}),[O,z]=P;break;case"l":O+=P[0],z+=P[1],v.push({key:"L",data:[O,z]});break;case"C":v.push({key:"C",data:[...P]}),O=P[4],z=P[5];break;case"c":{const oe=P.map((se,N)=>N%2?se+z:se+O);v.push({key:"C",data:oe}),O=oe[4],z=oe[5];break}case"Q":v.push({key:"Q",data:[...P]}),O=P[2],z=P[3];break;case"q":{const oe=P.map((se,N)=>N%2?se+z:se+O);v.push({key:"Q",data:oe}),O=oe[2],z=oe[3];break}case"A":v.push({key:"A",data:[...P]}),O=P[5],z=P[6];break;case"a":O+=P[5],z+=P[6],v.push({key:"A",data:[P[0],P[1],P[2],P[3],P[4],O,z]});break;case"H":v.push({key:"H",data:[...P]}),O=P[0];break;case"h":O+=P[0],v.push({key:"H",data:[O]});break;case"V":v.push({key:"V",data:[...P]}),z=P[0];break;case"v":z+=P[0],v.push({key:"V",data:[z]});break;case"S":v.push({key:"S",data:[...P]}),O=P[2],z=P[3];break;case"s":{const oe=P.map((se,N)=>N%2?se+z:se+O);v.push({key:"S",data:oe}),O=oe[2],z=oe[3];break}case"T":v.push({key:"T",data:[...P]}),O=P[0],z=P[1];break;case"t":O+=P[0],z+=P[1],v.push({key:"T",data:[O,z]});break;case"Z":case"z":v.push({key:"Z",data:[]}),O=p,z=E}return v}function Ce(M){const O=[];let z="",p=0,E=0,v=0,Z=0,P=0,oe=0;for(const{key:se,data:N}of M){switch(se){case"M":O.push({key:"M",data:[...N]}),[p,E]=N,[v,Z]=N;break;case"C":O.push({key:"C",data:[...N]}),p=N[4],E=N[5],P=N[2],oe=N[3];break;case"L":O.push({key:"L",data:[...N]}),[p,E]=N;break;case"H":p=N[0],O.push({key:"L",data:[p,E]});break;case"V":E=N[0],O.push({key:"L",data:[p,E]});break;case"S":{let ge=0,he=0;z==="C"||z==="S"?(ge=p+(p-P),he=E+(E-oe)):(ge=p,he=E),O.push({key:"C",data:[ge,he,...N]}),P=N[0],oe=N[1],p=N[2],E=N[3];break}case"T":{const[ge,he]=N;let be=0,Se=0;z==="Q"||z==="T"?(be=p+(p-P),Se=E+(E-oe)):(be=p,Se=E);const Y=p+2*(be-p)/3,we=E+2*(Se-E)/3,te=ge+2*(be-ge)/3,_e=he+2*(Se-he)/3;O.push({key:"C",data:[Y,we,te,_e,ge,he]}),P=be,oe=Se,p=ge,E=he;break}case"Q":{const[ge,he,be,Se]=N,Y=p+2*(ge-p)/3,we=E+2*(he-E)/3,te=be+2*(ge-be)/3,_e=Se+2*(he-Se)/3;O.push({key:"C",data:[Y,we,te,_e,be,Se]}),P=ge,oe=he,p=be,E=Se;break}case"A":{const ge=Math.abs(N[0]),he=Math.abs(N[1]),be=N[2],Se=N[3],Y=N[4],we=N[5],te=N[6];ge===0||he===0?(O.push({key:"C",data:[p,E,we,te,we,te]}),p=we,E=te):(p!==we||E!==te)&&(de(p,E,we,te,ge,he,be,Se,Y).forEach(function(_e){O.push({key:"C",data:_e})}),p=we,E=te);break}case"Z":O.push({key:"Z",data:[]}),p=v,E=Z}z=se}return O}function ue(M,O,z){return[M*Math.cos(z)-O*Math.sin(z),M*Math.sin(z)+O*Math.cos(z)]}function de(M,O,z,p,E,v,Z,P,oe,se){const N=(ge=Z,Math.PI*ge/180);var ge;let he=[],be=0,Se=0,Y=0,we=0;if(se)[be,Se,Y,we]=se;else{[M,O]=ue(M,O,-N),[z,p]=ue(z,p,-N);const Ze=(M-z)/2,Re=(O-p)/2;let Ue=Ze*Ze/(E*E)+Re*Re/(v*v);Ue>1&&(Ue=Math.sqrt(Ue),E*=Ue,v*=Ue);const Ke=E*E,Ye=v*v,lt=Ke*Ye-Ke*Re*Re-Ye*Ze*Ze,ht=Ke*Re*Re+Ye*Ze*Ze,ot=(P===oe?-1:1)*Math.sqrt(Math.abs(lt/ht));Y=ot*E*Re/v+(M+z)/2,we=ot*-v*Ze/E+(O+p)/2,be=Math.asin(parseFloat(((O-we)/v).toFixed(9))),Se=Math.asin(parseFloat(((p-we)/v).toFixed(9))),M<Y&&(be=Math.PI-be),z<Y&&(Se=Math.PI-Se),be<0&&(be=2*Math.PI+be),Se<0&&(Se=2*Math.PI+Se),oe&&be>Se&&(be-=2*Math.PI),!oe&&Se>be&&(Se-=2*Math.PI)}let te=Se-be;if(Math.abs(te)>120*Math.PI/180){const Ze=Se,Re=z,Ue=p;Se=oe&&Se>be?be+120*Math.PI/180*1:be+120*Math.PI/180*-1,he=de(z=Y+E*Math.cos(Se),p=we+v*Math.sin(Se),Re,Ue,E,v,Z,0,oe,[Se,Ze,Y,we])}te=Se-be;const _e=Math.cos(be),Le=Math.sin(be),ze=Math.cos(Se),He=Math.sin(Se),Fe=Math.tan(te/4),Pe=4/3*E*Fe,J=4/3*v*Fe,ve=[M,O],xe=[M+Pe*Le,O-J*_e],Ie=[z+Pe*He,p-J*ze],De=[z,p];if(xe[0]=2*ve[0]-xe[0],xe[1]=2*ve[1]-xe[1],se)return[xe,Ie,De].concat(he);{he=[xe,Ie,De].concat(he);const Ze=[];for(let Re=0;Re<he.length;Re+=3){const Ue=ue(he[Re][0],he[Re][1],N),Ke=ue(he[Re+1][0],he[Re+1][1],N),Ye=ue(he[Re+2][0],he[Re+2][1],N);Ze.push([Ue[0],Ue[1],Ke[0],Ke[1],Ye[0],Ye[1]])}return Ze}}const ye={randOffset:function(M,O){return l(M,O)},randOffsetWithRange:function(M,O,z){return o(M,O,z)},ellipse:function(M,O,z,p,E){const v=I(z,p,E);return h(M,O,E,v).opset},doubleLineOps:function(M,O,z,p,E){return s(M,O,z,p,E,!0)}};function b(M,O,z,p,E){return{type:"path",ops:s(M,O,z,p,E)}}function G(M,O,z){const p=(M||[]).length;if(p>2){const E=[];for(let v=0;v<p-1;v++)E.push(...s(M[v][0],M[v][1],M[v+1][0],M[v+1][1],z));return O&&E.push(...s(M[p-1][0],M[p-1][1],M[0][0],M[0][1],z)),{type:"path",ops:E}}return p===2?b(M[0][0],M[0][1],M[1][0],M[1][1],z):{type:"path",ops:[]}}function m(M,O,z,p,E){return function(v,Z){return G(v,!0,Z)}([[M,O],[M+z,O],[M+z,O+p],[M,O+p]],E)}function u(M,O){let z=X(M,1*(1+.2*O.roughness),O);if(!O.disableMultiStroke){const p=X(M,1.5*(1+.22*O.roughness),function(E){const v=Object.assign({},E);return v.randomizer=void 0,E.seed&&(v.seed=E.seed+1),v}(O));z=z.concat(p)}return{type:"path",ops:z}}function I(M,O,z){const p=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(M/2,2)+Math.pow(O/2,2))/2)),E=Math.ceil(Math.max(z.curveStepCount,z.curveStepCount/Math.sqrt(200)*p)),v=2*Math.PI/E;let Z=Math.abs(M/2),P=Math.abs(O/2);const oe=1-z.curveFitting;return Z+=l(Z*oe,z),P+=l(P*oe,z),{increment:v,rx:Z,ry:P}}function h(M,O,z,p){const[E,v]=q(p.increment,M,O,p.rx,p.ry,1,p.increment*o(.1,o(.4,1,z),z),z);let Z=C(E,null,z);if(!z.disableMultiStroke&&z.roughness!==0){const[P]=q(p.increment,M,O,p.rx,p.ry,1.5,0,z),oe=C(P,null,z);Z=Z.concat(oe)}return{estimatedPoints:v,opset:{type:"path",ops:Z}}}function c(M,O,z,p,E,v,Z,P,oe){const se=M,N=O;let ge=Math.abs(z/2),he=Math.abs(p/2);ge+=l(.01*ge,oe),he+=l(.01*he,oe);let be=E,Se=v;for(;be<0;)be+=2*Math.PI,Se+=2*Math.PI;Se-be>2*Math.PI&&(be=0,Se=2*Math.PI);const Y=2*Math.PI/oe.curveStepCount,we=Math.min(Y/2,(Se-be)/2),te=A(we,se,N,ge,he,be,Se,1,oe);if(!oe.disableMultiStroke){const _e=A(we,se,N,ge,he,be,Se,1.5,oe);te.push(..._e)}return Z&&(P?te.push(...s(se,N,se+ge*Math.cos(be),N+he*Math.sin(be),oe),...s(se,N,se+ge*Math.cos(Se),N+he*Math.sin(Se),oe)):te.push({op:"lineTo",data:[se,N]},{op:"lineTo",data:[se+ge*Math.cos(be),N+he*Math.sin(be)]})),{type:"path",ops:te}}function a(M,O){const z=[];for(const p of M)if(p.length){const E=O.maxRandomnessOffset||0,v=p.length;if(v>2){z.push({op:"move",data:[p[0][0]+l(E,O),p[0][1]+l(E,O)]});for(let Z=1;Z<v;Z++)z.push({op:"lineTo",data:[p[Z][0]+l(E,O),p[Z][1]+l(E,O)]})}}return{type:"fillPath",ops:z}}function n(M,O){return function(z,p){let E=z.fillStyle||"hachure";if(!B[E])switch(E){case"zigzag":B[E]||(B[E]=new x(p));break;case"cross-hatch":B[E]||(B[E]=new D(p));break;case"dots":B[E]||(B[E]=new W(p));break;case"dashed":B[E]||(B[E]=new i(p));break;case"zigzag-line":B[E]||(B[E]=new R(p));break;default:E="hachure",B[E]||(B[E]=new d(p))}return B[E]}(O,ye).fillPolygons(M,O)}function t(M){return M.randomizer||(M.randomizer=new ee.k(M.seed||0)),M.randomizer.next()}function o(M,O,z,p=1){return z.roughness*p*(t(z)*(O-M)+M)}function l(M,O,z=1){return o(-M,M,O,z)}function s(M,O,z,p,E,v=!1){const Z=v?E.disableMultiStrokeFill:E.disableMultiStroke,P=S(M,O,z,p,E,!0,!1);if(Z)return P;const oe=S(M,O,z,p,E,!0,!0);return P.concat(oe)}function S(M,O,z,p,E,v,Z){const P=Math.pow(M-z,2)+Math.pow(O-p,2),oe=Math.sqrt(P);let se=1;se=oe<200?1:oe>500?.4:-.0016668*oe+1.233334;let N=E.maxRandomnessOffset||0;N*N*100>P&&(N=oe/10);const ge=N/2,he=.2+.2*t(E);let be=E.bowing*E.maxRandomnessOffset*(p-O)/200,Se=E.bowing*E.maxRandomnessOffset*(M-z)/200;be=l(be,E,se),Se=l(Se,E,se);const Y=[],we=()=>l(ge,E,se),te=()=>l(N,E,se),_e=E.preserveVertices;return v&&(Z?Y.push({op:"move",data:[M+(_e?0:we()),O+(_e?0:we())]}):Y.push({op:"move",data:[M+(_e?0:l(N,E,se)),O+(_e?0:l(N,E,se))]})),Z?Y.push({op:"bcurveTo",data:[be+M+(z-M)*he+we(),Se+O+(p-O)*he+we(),be+M+2*(z-M)*he+we(),Se+O+2*(p-O)*he+we(),z+(_e?0:we()),p+(_e?0:we())]}):Y.push({op:"bcurveTo",data:[be+M+(z-M)*he+te(),Se+O+(p-O)*he+te(),be+M+2*(z-M)*he+te(),Se+O+2*(p-O)*he+te(),z+(_e?0:te()),p+(_e?0:te())]}),Y}function X(M,O,z){const p=[];p.push([M[0][0]+l(O,z),M[0][1]+l(O,z)]),p.push([M[0][0]+l(O,z),M[0][1]+l(O,z)]);for(let E=1;E<M.length;E++)p.push([M[E][0]+l(O,z),M[E][1]+l(O,z)]),E===M.length-1&&p.push([M[E][0]+l(O,z),M[E][1]+l(O,z)]);return C(p,null,z)}function C(M,O,z){const p=M.length,E=[];if(p>3){const v=[],Z=1-z.curveTightness;E.push({op:"move",data:[M[1][0],M[1][1]]});for(let P=1;P+2<p;P++){const oe=M[P];v[0]=[oe[0],oe[1]],v[1]=[oe[0]+(Z*M[P+1][0]-Z*M[P-1][0])/6,oe[1]+(Z*M[P+1][1]-Z*M[P-1][1])/6],v[2]=[M[P+1][0]+(Z*M[P][0]-Z*M[P+2][0])/6,M[P+1][1]+(Z*M[P][1]-Z*M[P+2][1])/6],v[3]=[M[P+1][0],M[P+1][1]],E.push({op:"bcurveTo",data:[v[1][0],v[1][1],v[2][0],v[2][1],v[3][0],v[3][1]]})}if(O&&O.length===2){const P=z.maxRandomnessOffset;E.push({op:"lineTo",data:[O[0]+l(P,z),O[1]+l(P,z)]})}}else p===3?(E.push({op:"move",data:[M[1][0],M[1][1]]}),E.push({op:"bcurveTo",data:[M[1][0],M[1][1],M[2][0],M[2][1],M[2][0],M[2][1]]})):p===2&&E.push(...s(M[0][0],M[0][1],M[1][0],M[1][1],z));return E}function q(M,O,z,p,E,v,Z,P){const oe=[],se=[];if(P.roughness===0){M/=4,se.push([O+p*Math.cos(-M),z+E*Math.sin(-M)]);for(let N=0;N<=2*Math.PI;N+=M){const ge=[O+p*Math.cos(N),z+E*Math.sin(N)];oe.push(ge),se.push(ge)}se.push([O+p*Math.cos(0),z+E*Math.sin(0)]),se.push([O+p*Math.cos(M),z+E*Math.sin(M)])}else{const N=l(.5,P)-Math.PI/2;se.push([l(v,P)+O+.9*p*Math.cos(N-M),l(v,P)+z+.9*E*Math.sin(N-M)]);const ge=2*Math.PI+N-.01;for(let he=N;he<ge;he+=M){const be=[l(v,P)+O+p*Math.cos(he),l(v,P)+z+E*Math.sin(he)];oe.push(be),se.push(be)}se.push([l(v,P)+O+p*Math.cos(N+2*Math.PI+.5*Z),l(v,P)+z+E*Math.sin(N+2*Math.PI+.5*Z)]),se.push([l(v,P)+O+.98*p*Math.cos(N+Z),l(v,P)+z+.98*E*Math.sin(N+Z)]),se.push([l(v,P)+O+.9*p*Math.cos(N+.5*Z),l(v,P)+z+.9*E*Math.sin(N+.5*Z)])}return[se,oe]}function A(M,O,z,p,E,v,Z,P,oe){const se=v+l(.1,oe),N=[];N.push([l(P,oe)+O+.9*p*Math.cos(se-M),l(P,oe)+z+.9*E*Math.sin(se-M)]);for(let ge=se;ge<=Z;ge+=M)N.push([l(P,oe)+O+p*Math.cos(ge),l(P,oe)+z+E*Math.sin(ge)]);return N.push([O+p*Math.cos(Z),z+E*Math.sin(Z)]),N.push([O+p*Math.cos(Z),z+E*Math.sin(Z)]),C(N,null,oe)}function _(M,O,z,p,E,v,Z,P){const oe=[],se=[P.maxRandomnessOffset||1,(P.maxRandomnessOffset||1)+.3];let N=[0,0];const ge=P.disableMultiStroke?1:2,he=P.preserveVertices;for(let be=0;be<ge;be++)be===0?oe.push({op:"move",data:[Z[0],Z[1]]}):oe.push({op:"move",data:[Z[0]+(he?0:l(se[0],P)),Z[1]+(he?0:l(se[0],P))]}),N=he?[E,v]:[E+l(se[be],P),v+l(se[be],P)],oe.push({op:"bcurveTo",data:[M+l(se[be],P),O+l(se[be],P),z+l(se[be],P),p+l(se[be],P),N[0],N[1]]});return oe}function ae(M){return[...M]}var U=e(1493);const H="none";class j{constructor(O){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=O||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,ee.W)()}_o(O){return O?Object.assign({},this.defaultOptions,O):this.defaultOptions}_d(O,z,p){return{shape:O,sets:z||[],options:p||this.defaultOptions}}line(O,z,p,E,v){const Z=this._o(v);return this._d("line",[b(O,z,p,E,Z)],Z)}rectangle(O,z,p,E,v){const Z=this._o(v),P=[],oe=m(O,z,p,E,Z);if(Z.fill){const se=[[O,z],[O+p,z],[O+p,z+E],[O,z+E]];Z.fillStyle==="solid"?P.push(a([se],Z)):P.push(n([se],Z))}return Z.stroke!==H&&P.push(oe),this._d("rectangle",P,Z)}ellipse(O,z,p,E,v){const Z=this._o(v),P=[],oe=I(p,E,Z),se=h(O,z,Z,oe);if(Z.fill)if(Z.fillStyle==="solid"){const N=h(O,z,Z,oe).opset;N.type="fillPath",P.push(N)}else P.push(n([se.estimatedPoints],Z));return Z.stroke!==H&&P.push(se.opset),this._d("ellipse",P,Z)}circle(O,z,p,E){const v=this.ellipse(O,z,p,p,E);return v.shape="circle",v}linearPath(O,z){const p=this._o(z);return this._d("linearPath",[G(O,!1,p)],p)}arc(O,z,p,E,v,Z,P=!1,oe){const se=this._o(oe),N=[],ge=c(O,z,p,E,v,Z,P,!0,se);if(P&&se.fill)if(se.fillStyle==="solid"){const he=Object.assign({},se);he.disableMultiStroke=!0;const be=c(O,z,p,E,v,Z,!0,!1,he);be.type="fillPath",N.push(be)}else N.push(function(he,be,Se,Y,we,te,_e){const Le=he,ze=be;let He=Math.abs(Se/2),Fe=Math.abs(Y/2);He+=l(.01*He,_e),Fe+=l(.01*Fe,_e);let Pe=we,J=te;for(;Pe<0;)Pe+=2*Math.PI,J+=2*Math.PI;J-Pe>2*Math.PI&&(Pe=0,J=2*Math.PI);const ve=(J-Pe)/_e.curveStepCount,xe=[];for(let Ie=Pe;Ie<=J;Ie+=ve)xe.push([Le+He*Math.cos(Ie),ze+Fe*Math.sin(Ie)]);return xe.push([Le+He*Math.cos(J),ze+Fe*Math.sin(J)]),xe.push([Le,ze]),n([xe],_e)}(O,z,p,E,v,Z,se));return se.stroke!==H&&N.push(ge),this._d("arc",N,se)}curve(O,z){const p=this._o(z),E=[],v=u(O,p);if(p.fill&&p.fill!==H&&O.length>=3){const Z=function(oe,se=0){const N=oe.length;if(N<3)throw new Error("A curve must have at least three points.");const ge=[];if(N===3)ge.push(ae(oe[0]),ae(oe[1]),ae(oe[2]),ae(oe[2]));else{const he=[];he.push(oe[0],oe[0]);for(let Y=1;Y<oe.length;Y++)he.push(oe[Y]),Y===oe.length-1&&he.push(oe[Y]);const be=[],Se=1-se;ge.push(ae(he[0]));for(let Y=1;Y+2<he.length;Y++){const we=he[Y];be[0]=[we[0],we[1]],be[1]=[we[0]+(Se*he[Y+1][0]-Se*he[Y-1][0])/6,we[1]+(Se*he[Y+1][1]-Se*he[Y-1][1])/6],be[2]=[he[Y+1][0]+(Se*he[Y][0]-Se*he[Y+2][0])/6,he[Y+1][1]+(Se*he[Y][1]-Se*he[Y+2][1])/6],be[3]=[he[Y+1][0],he[Y+1][1]],ge.push(be[1],be[2],be[3])}}return ge}(O),P=(0,U.s)(Z,10,(1+p.roughness)/2);p.fillStyle==="solid"?E.push(a([P],p)):E.push(n([P],p))}return p.stroke!==H&&E.push(v),this._d("curve",E,p)}polygon(O,z){const p=this._o(z),E=[],v=G(O,!0,p);return p.fill&&(p.fillStyle==="solid"?E.push(a([O],p)):E.push(n([O],p))),p.stroke!==H&&E.push(v),this._d("polygon",E,p)}path(O,z){const p=this._o(z),E=[];if(!O)return this._d("path",E,p);O=(O||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const v=p.fill&&p.fill!=="transparent"&&p.fill!==H,Z=p.stroke!==H,P=!!(p.simplification&&p.simplification<1),oe=function(se,N,ge){const he=Ce(fe(ce(se))),be=[];let Se=[],Y=[0,0],we=[];const te=()=>{we.length>=4&&Se.push(...(0,U.s)(we,N)),we=[]},_e=()=>{te(),Se.length&&(be.push(Se),Se=[])};for(const{key:ze,data:He}of he)switch(ze){case"M":_e(),Y=[He[0],He[1]],Se.push(Y);break;case"L":te(),Se.push([He[0],He[1]]);break;case"C":if(!we.length){const Fe=Se.length?Se[Se.length-1]:Y;we.push([Fe[0],Fe[1]])}we.push([He[0],He[1]]),we.push([He[2],He[3]]),we.push([He[4],He[5]]);break;case"Z":te(),Se.push([Y[0],Y[1]])}if(_e(),!ge)return be;const Le=[];for(const ze of be){const He=(0,U.o)(ze,ge);He.length&&Le.push(He)}return Le}(O,1,P?4-4*p.simplification:(1+p.roughness)/2);return v&&(p.fillStyle==="solid"?E.push(a(oe,p)):E.push(n(oe,p))),Z&&(P?oe.forEach(se=>{E.push(G(se,!1,p))}):E.push(function(se,N){const ge=Ce(fe(ce(se))),he=[];let be=[0,0],Se=[0,0];for(const{key:Y,data:we}of ge)switch(Y){case"M":{const te=1*(N.maxRandomnessOffset||0),_e=N.preserveVertices;he.push({op:"move",data:we.map(Le=>Le+(_e?0:l(te,N)))}),Se=[we[0],we[1]],be=[we[0],we[1]];break}case"L":he.push(...s(Se[0],Se[1],we[0],we[1],N)),Se=[we[0],we[1]];break;case"C":{const[te,_e,Le,ze,He,Fe]=we;he.push(..._(te,_e,Le,ze,He,Fe,Se,N)),Se=[He,Fe];break}case"Z":he.push(...s(Se[0],Se[1],be[0],be[1],N)),Se=[be[0],be[1]]}return{type:"path",ops:he}}(O,p))),this._d("path",E,p)}opsToPath(O,z){let p="";for(const E of O.ops){const v=typeof z=="number"&&z>=0?E.data.map(Z=>+Z.toFixed(z)):E.data;switch(E.op){case"move":p+=`M${v[0]} ${v[1]} `;break;case"bcurveTo":p+=`C${v[0]} ${v[1]}, ${v[2]} ${v[3]}, ${v[4]} ${v[5]} `;break;case"lineTo":p+=`L${v[0]} ${v[1]} `}}return p.trim()}toPaths(O){const z=O.sets||[],p=O.options||this.defaultOptions,E=[];for(const v of z){let Z=null;switch(v.type){case"path":Z={d:this.opsToPath(v),stroke:p.stroke,strokeWidth:p.strokeWidth,fill:H};break;case"fillPath":Z={d:this.opsToPath(v),stroke:H,strokeWidth:0,fill:p.fill||H};break;case"fillSketch":Z=this.fillSketch(v,p)}Z&&E.push(Z)}return E}fillSketch(O,z){let p=z.fillWeight;return p<0&&(p=z.strokeWidth/2),{d:this.opsToPath(O),stroke:z.fill||H,strokeWidth:p,fill:H}}}class F{constructor(O,z){this.canvas=O,this.ctx=this.canvas.getContext("2d"),this.gen=new j(z)}draw(O){const z=O.sets||[],p=O.options||this.getDefaultOptions(),E=this.ctx,v=O.options.fixedDecimalPlaceDigits;for(const Z of z)switch(Z.type){case"path":E.save(),E.strokeStyle=p.stroke==="none"?"transparent":p.stroke,E.lineWidth=p.strokeWidth,p.strokeLineDash&&E.setLineDash(p.strokeLineDash),p.strokeLineDashOffset&&(E.lineDashOffset=p.strokeLineDashOffset),this._drawToContext(E,Z,v),E.restore();break;case"fillPath":{E.save(),E.fillStyle=p.fill||"";const P=O.shape==="curve"||O.shape==="polygon"||O.shape==="path"?"evenodd":"nonzero";this._drawToContext(E,Z,v,P),E.restore();break}case"fillSketch":this.fillSketch(E,Z,p)}}fillSketch(O,z,p){let E=p.fillWeight;E<0&&(E=p.strokeWidth/2),O.save(),p.fillLineDash&&O.setLineDash(p.fillLineDash),p.fillLineDashOffset&&(O.lineDashOffset=p.fillLineDashOffset),O.strokeStyle=p.fill||"",O.lineWidth=E,this._drawToContext(O,z,p.fixedDecimalPlaceDigits),O.restore()}_drawToContext(O,z,p,E="nonzero"){O.beginPath();for(const v of z.ops){const Z=typeof p=="number"&&p>=0?v.data.map(P=>+P.toFixed(p)):v.data;switch(v.op){case"move":O.moveTo(Z[0],Z[1]);break;case"bcurveTo":O.bezierCurveTo(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]);break;case"lineTo":O.lineTo(Z[0],Z[1])}}z.type==="fillPath"?O.fill(E):O.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(O,z,p,E,v){const Z=this.gen.line(O,z,p,E,v);return this.draw(Z),Z}rectangle(O,z,p,E,v){const Z=this.gen.rectangle(O,z,p,E,v);return this.draw(Z),Z}ellipse(O,z,p,E,v){const Z=this.gen.ellipse(O,z,p,E,v);return this.draw(Z),Z}circle(O,z,p,E){const v=this.gen.circle(O,z,p,E);return this.draw(v),v}linearPath(O,z){const p=this.gen.linearPath(O,z);return this.draw(p),p}polygon(O,z){const p=this.gen.polygon(O,z);return this.draw(p),p}arc(O,z,p,E,v,Z,P=!1,oe){const se=this.gen.arc(O,z,p,E,v,Z,P,oe);return this.draw(se),se}curve(O,z){const p=this.gen.curve(O,z);return this.draw(p),p}path(O,z){const p=this.gen.path(O,z);return this.draw(p),p}}const T="http://www.w3.org/2000/svg";class K{constructor(O,z){this.svg=O,this.gen=new j(z)}draw(O){const z=O.sets||[],p=O.options||this.getDefaultOptions(),E=this.svg.ownerDocument||window.document,v=E.createElementNS(T,"g"),Z=O.options.fixedDecimalPlaceDigits;for(const P of z){let oe=null;switch(P.type){case"path":oe=E.createElementNS(T,"path"),oe.setAttribute("d",this.opsToPath(P,Z)),oe.setAttribute("stroke",p.stroke),oe.setAttribute("stroke-width",p.strokeWidth+""),oe.setAttribute("fill","none"),p.strokeLineDash&&oe.setAttribute("stroke-dasharray",p.strokeLineDash.join(" ").trim()),p.strokeLineDashOffset&&oe.setAttribute("stroke-dashoffset",`${p.strokeLineDashOffset}`);break;case"fillPath":oe=E.createElementNS(T,"path"),oe.setAttribute("d",this.opsToPath(P,Z)),oe.setAttribute("stroke","none"),oe.setAttribute("stroke-width","0"),oe.setAttribute("fill",p.fill||""),O.shape!=="curve"&&O.shape!=="polygon"||oe.setAttribute("fill-rule","evenodd");break;case"fillSketch":oe=this.fillSketch(E,P,p)}oe&&v.appendChild(oe)}return v}fillSketch(O,z,p){let E=p.fillWeight;E<0&&(E=p.strokeWidth/2);const v=O.createElementNS(T,"path");return v.setAttribute("d",this.opsToPath(z,p.fixedDecimalPlaceDigits)),v.setAttribute("stroke",p.fill||""),v.setAttribute("stroke-width",E+""),v.setAttribute("fill","none"),p.fillLineDash&&v.setAttribute("stroke-dasharray",p.fillLineDash.join(" ").trim()),p.fillLineDashOffset&&v.setAttribute("stroke-dashoffset",`${p.fillLineDashOffset}`),v}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(O,z){return this.gen.opsToPath(O,z)}line(O,z,p,E,v){const Z=this.gen.line(O,z,p,E,v);return this.draw(Z)}rectangle(O,z,p,E,v){const Z=this.gen.rectangle(O,z,p,E,v);return this.draw(Z)}ellipse(O,z,p,E,v){const Z=this.gen.ellipse(O,z,p,E,v);return this.draw(Z)}circle(O,z,p,E){const v=this.gen.circle(O,z,p,E);return this.draw(v)}linearPath(O,z){const p=this.gen.linearPath(O,z);return this.draw(p)}polygon(O,z){const p=this.gen.polygon(O,z);return this.draw(p)}arc(O,z,p,E,v,Z,P=!1,oe){const se=this.gen.arc(O,z,p,E,v,Z,P,oe);return this.draw(se)}curve(O,z){const p=this.gen.curve(O,z);return this.draw(p)}path(O,z){const p=this.gen.path(O,z);return this.draw(p)}}var ie={canvas:(M,O)=>new F(M,O),svg:(M,O)=>new K(M,O),generator:M=>new j(M),newSeed:()=>j.newSeed()}},5714:function(me){me.exports=function(Q,e,w){var g=[],f=Q.length;if(f===0)return g;var d=e<0?Math.max(0,e+f):e||0;for(w!==void 0&&(f=w<0?w+f:w);f-- >d;)g[f-d]=Q[f];return g}},5422:function(me,Q,e){var w=e(487),g=e.n(w),f=e(631),d=e.n(f),x=e(2052),D=e.n(x),W=e(4010),i=e.n(W),R=e(1469),B=e.n(R),ee=e(9329),le=e.n(ee),y=e(2044),ce={};ce.styleTagTransform=le(),ce.setAttributes=i(),ce.insert=D().bind(null,"head"),ce.domAPI=d(),ce.insertStyleElement=B(),g()(y.Z,ce),y.Z&&y.Z.locals&&y.Z.locals},487:function(me){var Q=[];function e(f){for(var d=-1,x=0;x<Q.length;x++)if(Q[x].identifier===f){d=x;break}return d}function w(f,d){for(var x={},D=[],W=0;W<f.length;W++){var i=f[W],R=d.base?i[0]+d.base:i[0],B=x[R]||0,ee="".concat(R," ").concat(B);x[R]=B+1;var le=e(ee),y={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(le!==-1)Q[le].references++,Q[le].updater(y);else{var ce=g(y,d);d.byIndex=W,Q.splice(W,0,{identifier:ee,updater:ce,references:1})}D.push(ee)}return D}function g(f,d){var x=d.domAPI(d);return x.update(f),function(D){if(D){if(D.css===f.css&&D.media===f.media&&D.sourceMap===f.sourceMap&&D.supports===f.supports&&D.layer===f.layer)return;x.update(f=D)}else x.remove()}}me.exports=function(f,d){var x=w(f=f||[],d=d||{});return function(D){D=D||[];for(var W=0;W<x.length;W++){var i=e(x[W]);Q[i].references--}for(var R=w(D,d),B=0;B<x.length;B++){var ee=e(x[B]);Q[ee].references===0&&(Q[ee].updater(),Q.splice(ee,1))}x=R}}},2052:function(me){var Q={};me.exports=function(e,w){var g=function(f){if(Q[f]===void 0){var d=document.querySelector(f);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}Q[f]=d}return Q[f]}(e);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(w)}},1469:function(me){me.exports=function(Q){var e=document.createElement("style");return Q.setAttributes(e,Q.attributes),Q.insert(e,Q.options),e}},4010:function(me,Q,e){me.exports=function(w){var g=e.nc;g&&w.setAttribute("nonce",g)}},631:function(me){me.exports=function(Q){var e=Q.insertStyleElement(Q);return{update:function(w){(function(g,f,d){var x="";d.supports&&(x+="@supports (".concat(d.supports,") {")),d.media&&(x+="@media ".concat(d.media," {"));var D=d.layer!==void 0;D&&(x+="@layer".concat(d.layer.length>0?" ".concat(d.layer):""," {")),x+=d.css,D&&(x+="}"),d.media&&(x+="}"),d.supports&&(x+="}");var W=d.sourceMap;W&&typeof btoa<"u"&&(x+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(W))))," */")),f.styleTagTransform(x,g,f.options)})(e,Q,w)},remove:function(){(function(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)})(e)}}}},9329:function(me){me.exports=function(Q,e){if(e.styleSheet)e.styleSheet.cssText=Q;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(Q))}}},2173:function(me,Q,e){var w=e(9787),g=typeof Object.is=="function"?Object.is:function(R,B){return R===B&&(R!==0||1/R==1/B)||R!=R&&B!=B},f=w.useState,d=w.useEffect,x=w.useLayoutEffect,D=w.useDebugValue;function W(R){var B=R.getSnapshot;R=R.value;try{var ee=B();return!g(R,ee)}catch{return!0}}var i=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(R,B){return B()}:function(R,B){var ee=B(),le=f({inst:{value:ee,getSnapshot:B}}),y=le[0].inst,ce=le[1];return x(function(){y.value=ee,y.getSnapshot=B,W(y)&&ce({inst:y})},[R,ee,B]),d(function(){return W(y)&&ce({inst:y}),R(function(){W(y)&&ce({inst:y})})},[R]),D(ee),ee};Q.useSyncExternalStore=w.useSyncExternalStore!==void 0?w.useSyncExternalStore:i},5917:function(me,Q,e){var w=e(9787),g=e(1374),f=typeof Object.is=="function"?Object.is:function(R,B){return R===B&&(R!==0||1/R==1/B)||R!=R&&B!=B},d=g.useSyncExternalStore,x=w.useRef,D=w.useEffect,W=w.useMemo,i=w.useDebugValue;Q.useSyncExternalStoreWithSelector=function(R,B,ee,le,y){var ce=x(null);if(ce.current===null){var fe={hasValue:!1,value:null};ce.current=fe}else fe=ce.current;ce=W(function(){function ue(m){if(!b){if(b=!0,de=m,m=le(m),y!==void 0&&fe.hasValue){var u=fe.value;if(y(u,m))return ye=u}return ye=m}if(u=ye,f(de,m))return u;var I=le(m);return y!==void 0&&y(u,I)?u:(de=m,ye=I)}var de,ye,b=!1,G=ee===void 0?null:ee;return[function(){return ue(B())},G===null?void 0:function(){return ue(G())}]},[B,ee,le,y]);var Ce=d(R,ce[0],ce[1]);return D(function(){fe.hasValue=!0,fe.value=Ce},[Ce]),i(Ce),Ce}},1374:function(me,Q,e){me.exports=e(2173)},5668:function(me,Q,e){me.exports=e(5917)},940:function(me,Q,e){var w={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function g(f){if(!e.o(w,f))return Promise.resolve().then(function(){var D=new Error("Cannot find module '"+f+"'");throw D.code="MODULE_NOT_FOUND",D});var d=w[f],x=d[0];return Promise.all(d.slice(1).map(e.e)).then(function(){return e.t(x,19)})}g.keys=function(){return Object.keys(w)},g.id=940,me.exports=g},9713:function(me){me.exports=function(Q,e,w){return e in Q?Object.defineProperty(Q,e,{value:w,enumerable:!0,configurable:!0,writable:!0}):Q[e]=w,Q}},6479:function(me,Q,e){var w=e(7316);me.exports=function(g,f){if(g==null)return{};var d,x,D=w(g,f);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(g);for(x=0;x<W.length;x++)d=W[x],f.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(g,d)&&(D[d]=g[d])}return D}},7316:function(me){me.exports=function(Q,e){if(Q==null)return{};var w,g,f={},d=Object.keys(Q);for(g=0;g<d.length;g++)w=d[g],e.indexOf(w)>=0||(f[w]=Q[w]);return f}},4295:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f),x=e(1667),D=e.n(x),W=new URL(e(3940),e.b),i=new URL(e(3147),e.b),R=new URL(e(8303),e.b),B=new URL(e(1273),e.b),ee=new URL(e(9577),e.b),le=new URL(e(9729),e.b),y=d()(g()),ce=D()(W),fe=D()(i),Ce=D()(R),ue=D()(B),de=D()(ee),ye=D()(le);y.push([me.id,'@font-face{font-family:"Virgil";src:url('+ce+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+fe+');font-display:swap}@font-face{font-family:"Assistant";src:url('+Ce+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ue+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+de+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+ye+");font-display:swap;font-weight:700}",""]),Q.Z=y},6086:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),Q.Z=d},3729:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),Q.Z=d},3137:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f),x=e(1667),D=e.n(x),W=new URL(e(7984),e.b),i=new URL(e(1639),e.b),R=d()(g()),B=D()(W),ee=D()(i);R.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+ee+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),Q.Z=R},4241:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),Q.Z=d},6029:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),Q.Z=d},2345:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f),x=e(1667),D=e.n(x),W=new URL(e(9669),e.b),i=d()(g()),R=D()(W);i.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+R+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),Q.Z=i},9393:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),Q.Z=d},6578:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),Q.Z=d},9482:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),Q.Z=d},6148:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),Q.Z=d},7955:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f),x=e(1667),D=e.n(x),W=new URL(e(9669),e.b),i=d()(g()),R=D()(W);i.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+R+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),Q.Z=i},3195:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),Q.Z=d},2978:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),Q.Z=d},1587:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),Q.Z=d},9478:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),Q.Z=d},7369:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),Q.Z=d},1434:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),Q.Z=d},2316:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),Q.Z=d},8923:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),Q.Z=d},6440:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),Q.Z=d},2701:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),Q.Z=d},6843:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),Q.Z=d},8461:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),Q.Z=d},9935:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),Q.Z=d},532:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),Q.Z=d},7589:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),Q.Z=d},8208:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),Q.Z=d},5892:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),Q.Z=d},3874:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),Q.Z=d},2681:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),Q.Z=d},6759:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),Q.Z=d},9650:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),Q.Z=d},2044:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),Q.Z=d},9144:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),Q.Z=d},6626:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),Q.Z=d},6359:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),Q.Z=d},7399:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),Q.Z=d},8793:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),Q.Z=d},3397:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),Q.Z=d},4343:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),Q.Z=d},1569:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),Q.Z=d},9915:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),Q.Z=d},9310:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f),x=e(1667),D=e.n(x),W=new URL(e(7984),e.b),i=new URL(e(1639),e.b),R=d()(g()),B=D()(W),ee=D()(i);R.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+ee+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:auto;max-width:90vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),Q.Z=R},6464:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,"",""]),d.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},Q.Z=d},5260:function(me,Q,e){var w=e(8081),g=e.n(w),f=e(3645),d=e.n(f)()(g());d.push([me.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),Q.Z=d},3645:function(me){me.exports=function(Q){var e=[];return e.toString=function(){return this.map(function(w){var g="",f=w[5]!==void 0;return w[4]&&(g+="@supports (".concat(w[4],") {")),w[2]&&(g+="@media ".concat(w[2]," {")),f&&(g+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),g+=Q(w),f&&(g+="}"),w[2]&&(g+="}"),w[4]&&(g+="}"),g}).join("")},e.i=function(w,g,f,d,x){typeof w=="string"&&(w=[[null,w,void 0]]);var D={};if(f)for(var W=0;W<this.length;W++){var i=this[W][0];i!=null&&(D[i]=!0)}for(var R=0;R<w.length;R++){var B=[].concat(w[R]);f&&D[B[0]]||(x!==void 0&&(B[5]===void 0||(B[1]="@layer".concat(B[5].length>0?" ".concat(B[5]):""," {").concat(B[1],"}")),B[5]=x),g&&(B[2]&&(B[1]="@media ".concat(B[2]," {").concat(B[1],"}")),B[2]=g),d&&(B[4]?(B[1]="@supports (".concat(B[4],") {").concat(B[1],"}"),B[4]=d):B[4]="".concat(d)),e.push(B))}},e}},1667:function(me){me.exports=function(Q,e){return e||(e={}),Q&&(Q=String(Q.__esModule?Q.default:Q),/^['"].*['"]$/.test(Q)&&(Q=Q.slice(1,-1)),e.hash&&(Q+=e.hash),/["'() \t\n]|(%20)/.test(Q)||e.needQuotes?'"'.concat(Q.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Q)}},8081:function(me){me.exports=function(Q){return Q[1]}},202:function(me,Q,e){e.d(Q,{JQ:function(){return ye},vD:function(){return ue},y7:function(){return Ce}});var w=e(1930),g=e(7169),f=e(2335),d=e(1047),x=e(1935),D=e(5710),W=e(6906),i=e(1974),R=e(75),B=e(6340),ee=e(7901);function le(b,G){var m=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!m){if(Array.isArray(b)||(m=function(n,t){if(n){if(typeof n=="string")return y(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(n,t)}}(b))||G&&b&&typeof b.length=="number"){m&&(b=m);var u=0,I=function(){};return{s:I,n:function(){return u>=b.length?{done:!0}:{done:!1,value:b[u++]}},e:function(n){throw n},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,c=!0,a=!1;return{s:function(){m=m.call(b)},n:function(){var n=m.next();return c=n.done,n},e:function(n){a=!0,h=n},f:function(){try{c||m.return==null||m.return()}finally{if(a)throw h}}}}function y(b,G){(G==null||G>b.length)&&(G=b.length);for(var m=0,u=new Array(G);m<G;m++)u[m]=b[m];return u}function ce(b,G){var m=Object.keys(b);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(b);G&&(u=u.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),m.push.apply(m,u)}return m}function fe(b){for(var G=1;G<arguments.length;G++){var m=arguments[G]!=null?arguments[G]:{};G%2?ce(Object(m),!0).forEach(function(u){(0,g.Z)(b,u,m[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(m)):ce(Object(m)).forEach(function(u){Object.defineProperty(b,u,Object.getOwnPropertyDescriptor(m,u))})}return b}var Ce=(0,ee.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(b,G){return(0,R.eD)(b,G).some(function(m){return(0,i.Xo)(m)})},perform:function(b,G){return(0,R.eD)((0,d.Lm)(b),G).forEach(function(m){var u=(0,D.WJ)(m);if(u){var I,h=(0,D.X1)(u.originalText,(0,B.mO)(u),u.lineHeight),c=h.width,a=h.height,n=h.baseline,t=(0,W.eR)(m.id);(0,W.kT)(m.id);var o=(0,D.FE)(m,u),l=o.x,s=o.y;(0,x.DR)(u,{containerId:null,width:c,height:a,baseline:n,text:u.originalText,x:l,y:s}),(0,x.DR)(m,{boundElements:(I=m.boundElements)===null||I===void 0?void 0:I.filter(function(S){return S.id!==u.id}),height:t||m.height})}}),{elements:b,appState:G,commitToHistory:!0}}}),ue=(0,ee.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(b,G){var m=(0,R.eD)(b,G);if(m.length===2){var u,I=(0,d.iB)(m[0])||(0,d.iB)(m[1]);if((0,i.mG)(m[0])?u=m[0]:(0,i.mG)(m[1])&&(u=m[1]),I&&u&&(0,D.WJ)(u)===null)return!0}return!1},perform:function(b,G){var m,u,I=(0,R.eD)((0,d.Lm)(b),G);(0,d.iB)(I[0])&&(0,i.mG)(I[1])?(m=I[0],u=I[1]):(m=I[1],u=I[0]),(0,x.DR)(m,{containerId:u.id,verticalAlign:f.oX.MIDDLE,textAlign:f.I8.CENTER}),(0,x.DR)(u,{boundElements:(u.boundElements||[]).concat({type:"text",id:m.id})});var h=u.height;return(0,D.oN)(m,u),(0,W.h_)(u.id,h),{elements:de(b,u,m),appState:fe(fe({},G),{},{selectedElementIds:(0,g.Z)({},u.id,!0)}),commitToHistory:!0}}}),de=function(b,G,m){var u=b.slice(),I=u.findIndex(function(c){return c.id===m.id});u.splice(I,1);var h=u.findIndex(function(c){return c.id===G.id});return u.splice(h+1,0,m),u},ye=(0,ee.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(b,G){var m=(0,R.eD)(b,G),u=m.every(function(I){return(0,d.iB)(I)});return m.length>0&&u},perform:function(b,G){var m,u=(0,R.eD)((0,d.Lm)(b),G),I=b.slice(),h={},c=le(u);try{var a=function(){var n=m.value;if((0,d.iB)(n)){var t,o=(0,d.Up)({type:"rectangle",backgroundColor:G.currentItemBackgroundColor,boundElements:[].concat((0,w.Z)(n.boundElements||[]),[{id:n.id,type:"text"}]),angle:n.angle,fillStyle:G.currentItemFillStyle,strokeColor:G.currentItemStrokeColor,roughness:G.currentItemRoughness,strokeWidth:G.currentItemStrokeWidth,strokeStyle:G.currentItemStrokeStyle,roundness:G.currentItemRoundness==="round"?{type:(0,i.QI)("rectangle")?f.a6.ADAPTIVE_RADIUS:f.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:n.x-f.gK,y:n.y-f.gK,width:(0,D.NS)(n.width,"rectangle"),height:(0,D.NS)(n.height,"rectangle"),groupIds:n.groupIds});if((t=n.boundElements)!==null&&t!==void 0&&t.length){var l=n.boundElements.filter(function(s){return s.type==="arrow"}).map(function(s){return s.id});I.filter(function(s){return l.includes(s.id)}).forEach(function(s){var S,X,C=s.startBinding,q=s.endBinding;((S=C)===null||S===void 0?void 0:S.elementId)===n.id&&(C=fe(fe({},C),{},{elementId:o.id})),((X=q)===null||X===void 0?void 0:X.elementId)===n.id&&(q=fe(fe({},q),{},{elementId:o.id})),(C||q)&&(0,x.DR)(s,{startBinding:C,endBinding:q},!1)})}(0,x.DR)(n,{containerId:o.id,verticalAlign:f.oX.MIDDLE,boundElements:null,textAlign:f.I8.CENTER},!1),(0,D.oN)(n,o),I=function(s,S,X){var C=s.slice(),q=C.findIndex(function(_){return _.id===S.id});C.splice(q,1);var A=C.findIndex(function(_){return _.id===X.id});return C.splice(A,0,S),C}([].concat((0,w.Z)(I),[o]),o,n),h[o.id]=!0}};for(c.s();!(m=c.n()).done;)a()}catch(n){c.e(n)}finally{c.f()}return{elements:I,appState:fe(fe({},G),{},{selectedElementIds:h}),commitToHistory:!0}}})},2416:function(me,Q,e){e.d(Q,{CZ:function(){return u},Lo:function(){return m},Zp:function(){return c},eF:function(){return a},md:function(){return h},mo:function(){return G}});var w=e(2577),g=e(7169),f=e(4499),d=e(3646),x=e(1319),D=e(2335),W=e(1047),i=e(8211),R=e(6066),B=e(75),ee=e(2264),le=e(746),y=e(6340),ce=e(7901),fe=e(1894),Ce=e(1935),ue=e(8897),de=e(4512);function ye(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);t&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),o.push.apply(o,l)}return o}function b(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(o),!0).forEach(function(l){(0,g.Z)(n,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ye(Object(o)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(o,l))})}return n}(0,ce.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(n,t,o,l){return!!l.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled},perform:function(n,t,o){return{appState:b(b({},t),o),commitToHistory:!!o.viewBackgroundColor}},PanelComponent:function(n){var t=n.elements,o=n.appState,l=n.updateData;return(0,de.jsx)("div",{style:{position:"relative"},children:(0,de.jsx)(f.z,{label:(0,i.t)("labels.canvasBackground"),type:"canvasBackground",color:o.viewBackgroundColor,onChange:function(s){return l({viewBackgroundColor:s})},isActive:o.openPopup==="canvasColorPicker",setActive:function(s){return l({openPopup:s?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:t,appState:o})})}});var G=(0,ce.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(n,t,o,l){return!!l.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled},perform:function(n,t,o,l){return l.imageCache.clear(),{elements:n.map(function(s){return(0,Ce.BE)(s,{isDeleted:!0})}),appState:b(b({},(0,ue.im)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,activeTool:t.activeTool.type==="image"?b(b({},t.activeTool),{},{type:"selection"}):t.activeTool}),commitToHistory:!0}}}),m=(0,ce.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,t,o,l){return{appState:b(b({},t),(0,le.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,B.j)(t.zoom.value+D.V4)},t)),commitToHistory:!1}},PanelComponent:function(n){var t=n.updateData;return(0,de.jsx)(x.V,{type:"button",className:"zoom-in-button zoom-button",icon:d.Sd,title:"".concat((0,i.t)("buttons.zoomIn"),"  ").concat((0,y.uY)("CtrlOrCmd++")),"aria-label":(0,i.t)("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(n){return(n.code===R.aU.EQUAL||n.code===R.aU.NUM_ADD)&&(n[R.tW.CTRL_OR_CMD]||n.shiftKey)}}),u=(0,ce.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,t,o,l){return{appState:b(b({},t),(0,le.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,B.j)(t.zoom.value-D.V4)},t)),commitToHistory:!1}},PanelComponent:function(n){var t=n.updateData;return(0,de.jsx)(x.V,{type:"button",className:"zoom-out-button zoom-button",icon:d.xL,title:"".concat((0,i.t)("buttons.zoomOut"),"  ").concat((0,y.uY)("CtrlOrCmd+-")),"aria-label":(0,i.t)("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(n){return(n.code===R.aU.MINUS||n.code===R.aU.NUM_SUBTRACT)&&(n[R.tW.CTRL_OR_CMD]||n.shiftKey)}}),I=((0,ce.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,t,o,l){return{appState:b(b({},t),(0,le.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,B.j)(1)},t)),commitToHistory:!1}},PanelComponent:function(n){var t=n.updateData,o=n.appState;return(0,de.jsx)(fe.u,{label:(0,i.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,de.jsxs)(x.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,i.t)("buttons.resetZoom"),"aria-label":(0,i.t)("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*o.zoom.value).toFixed(0),"%"]})})},keyTest:function(n){return(n.code===R.aU.ZERO||n.code===R.aU.NUM_ZERO)&&(n[R.tW.CTRL_OR_CMD]||n.shiftKey)}}),function(n,t){var o=(0,w.Z)(n,4),l=o[0],s=o[1],S=o[2],X=o[3],C=S-l,q=t.width/C,A=X-s,_=t.height/A,ae=Math.min(q,_),U=Math.floor(ae/D.V4)*D.V4;return Math.min(Math.max(U,D.Zj),1)}),h=function(n,t,o){var l=(0,W.Lm)(n),s=(0,B.eD)(l,t),S=o&&s.length>0?(0,W.KP)(s):(0,W.KP)(l),X={value:I(S,{width:t.width,height:t.height})},C=(0,w.Z)(S,4),q=C[0],A=C[1],_=(q+C[2])/2,ae=(A+C[3])/2;return{appState:b(b(b({},t),(0,ee.s)({scenePoint:{x:_,y:ae},viewportDimensions:{width:t.width,height:t.height},zoom:X})),{},{zoom:X}),commitToHistory:!1}},c=((0,ce.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(n,t){return h(n,t,!0)},keyTest:function(n){return n.code===R.aU.TWO&&n.shiftKey&&!n.altKey&&!n[R.tW.CTRL_OR_CMD]}}),(0,ce.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,t){return h(n,t,!1)},keyTest:function(n){return n.code===R.aU.ONE&&n.shiftKey&&!n.altKey&&!n[R.tW.CTRL_OR_CMD]}}),(0,ce.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,t,o){return{appState:b(b({},t),{},{theme:o||(t.theme===D.C6.LIGHT?D.C6.DARK:D.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(n){return n.altKey&&n.shiftKey&&n.code===R.aU.D},predicate:function(n,t,o,l){return!!l.props.UIOptions.canvasActions.toggleTheme}})),a=((0,ce.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(n,t){var o;return o=(0,ue.EN)(t)?(0,y.Om)(t,b(b({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,y.Om)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:b(b({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:o}),commitToHistory:!0}},keyTest:function(n){return n.key===R.tW.E}}),(0,ce.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(n,t,o,l){var s;return(0,ue.l$)(t)?s=(0,y.Om)(t,b(b({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(s=(0,y.Om)(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),(0,y.KJ)(l.canvas,D.oc.GRAB)),{appState:b(b({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:s}),commitToHistory:!0}},keyTest:function(n){return n.key===R.tW.H}}))},4688:function(me,Q,e){e.d(Q,{FA:function(){return b},ZM:function(){return ye},jK:function(){return G},uN:function(){return ue},yQ:function(){return de},zp:function(){return m}});var w=e(7169),g=e(8950),f=e(2975),d=e.n(f),x=e(6066),D=e(7901),W=e(6665),i=e(533),R=e(1868),B=e(9485),ee=e(1047),le=e(8211);function y(u,I){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);I&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),h.push.apply(h,c)}return h}function ce(u){for(var I=1;I<arguments.length;I++){var h=arguments[I]!=null?arguments[I]:{};I%2?y(Object(h),!0).forEach(function(c){(0,w.Z)(u,c,h[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):y(Object(h)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(h,c))})}return u}var fe,Ce,ue=(0,D.z)({name:"copy",trackEvent:{category:"element"},perform:function(u,I,h,c){var a=(0,R.eD)(u,I,!0);return(0,W.vQ)(a,I,c.files),{commitToHistory:!1}},predicate:function(u,I,h,c){return c.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),de=(0,D.z)({name:"paste",trackEvent:{category:"element"},perform:function(u,I,h,c){return c.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(u,I,h,c){return c.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),ye=(0,D.z)({name:"cut",trackEvent:{category:"element"},perform:function(u,I,h,c){return ue.perform(u,I,h,c),i.X.perform(u,I)},predicate:function(u,I,h,c){return c.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(u){return u[x.tW.CTRL_OR_CMD]&&u.key===x.tW.X}}),b=(0,D.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(fe=(0,g.Z)(d().mark(function u(I,h,c,a){var n;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.canvas){t.next=2;break}return t.abrupt("return",{commitToHistory:!1});case 2:return n=(0,R.eD)((0,ee.Lm)(I),h,!0),t.prev=3,t.next=6,(0,B.p1)("clipboard-svg",n.length?n:(0,ee.Lm)(I),h,a.files,h);case 6:return t.abrupt("return",{commitToHistory:!1});case 9:return t.prev=9,t.t0=t.catch(3),console.error(t.t0),t.abrupt("return",{appState:ce(ce({},h),{},{errorMessage:t.t0.message}),commitToHistory:!1});case 13:case"end":return t.stop()}},u,null,[[3,9]])})),function(u,I,h,c){return fe.apply(this,arguments)}),predicate:function(u){return W.wx&&u.length>0},contextItemLabel:"labels.copyAsSvg"}),G=(0,D.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Ce=(0,g.Z)(d().mark(function u(I,h,c,a){var n;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.canvas){t.next=2;break}return t.abrupt("return",{commitToHistory:!1});case 2:return n=(0,R.eD)((0,ee.Lm)(I),h,!0),t.prev=3,t.next=6,(0,B.p1)("clipboard",n.length?n:(0,ee.Lm)(I),h,a.files,h);case 6:return t.abrupt("return",{appState:ce(ce({},h),{},{toast:{message:(0,le.t)("toast.copyToClipboardAsPng",{exportSelection:n.length?(0,le.t)("toast.selection"):(0,le.t)("toast.canvas"),exportColorScheme:h.exportWithDarkMode?(0,le.t)("buttons.darkMode"):(0,le.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return t.prev=9,t.t0=t.catch(3),console.error(t.t0),t.abrupt("return",{appState:ce(ce({},h),{},{errorMessage:t.t0.message}),commitToHistory:!1});case 13:case"end":return t.stop()}},u,null,[[3,9]])})),function(u,I,h,c){return Ce.apply(this,arguments)}),predicate:function(u){return W.vt&&u.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(u){return u.code===x.aU.C&&u.altKey&&u.shiftKey}}),m=(0,D.z)({name:"copyText",trackEvent:{category:"element"},perform:function(u,I){var h=(0,R.eD)((0,ee.Lm)(u),I,!0).reduce(function(c,a){return(0,ee.iB)(a)&&c.push(a.text),c},[]).join(`

`);return(0,W.dd)(h),{commitToHistory:!1}},predicate:function(u,I){return W.wx&&(0,R.eD)(u,I,!0).some(ee.iB)},contextItemLabel:"labels.copyText"})},533:function(me,Q,e){e.d(Q,{X:function(){return ye}});var w=e(7169),g=e(75),f=e(6066),d=e(1319),x=e(8211),D=e(7901),W=e(1047),i=e(1935),R=e(242),B=e(6938),ee=e(8290),le=e(1974),y=e(6340),ce=e(3646),fe=e(4512);function Ce(b,G){var m=Object.keys(b);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(b);G&&(u=u.filter(function(I){return Object.getOwnPropertyDescriptor(b,I).enumerable})),m.push.apply(m,u)}return m}function ue(b){for(var G=1;G<arguments.length;G++){var m=arguments[G]!=null?arguments[G]:{};G%2?Ce(Object(m),!0).forEach(function(u){(0,w.Z)(b,u,m[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(m)):Ce(Object(m)).forEach(function(u){Object.defineProperty(b,u,Object.getOwnPropertyDescriptor(m,u))})}return b}var de=function(b,G){if(b.editingGroupId){var m=(0,R.Fb)((0,W.Lm)(G),b.editingGroupId);if(m.length)return ue(ue({},b),{},{selectedElementIds:(0,w.Z)({},m[0].id,!0)})}return b},ye=(0,D.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(b,G){if(G.editingLinearElement){var m=G.editingLinearElement,u=m.elementId,I=m.selectedPointsIndices,h=m.startBindingElement,c=m.endBindingElement,a=B._.getElement(u);if(!a||I==null)return!1;if(a.points.length<2){var n=b.map(function(S){return S.id===a.id?(0,i.BE)(S,{isDeleted:!0}):S});return{elements:n,appState:ue(ue({},de(G,n)),{},{editingLinearElement:null}),commitToHistory:!1}}var t={startBindingElement:I!=null&&I.includes(0)?null:h,endBindingElement:I!=null&&I.includes(a.points.length-1)?null:c};return B._.deletePoints(a,I),{elements:b,appState:ue(ue({},G),{},{editingLinearElement:ue(ue(ue({},G.editingLinearElement),t),{},{selectedPointsIndices:(I==null?void 0:I[0])>0?[I[0]-1]:[0]})}),commitToHistory:!0}}var o=function(S,X){return{elements:S.map(function(C){return X.selectedElementIds[C.id]||(0,le.Xh)(C)&&X.selectedElementIds[C.containerId]?(0,i.BE)(C,{isDeleted:!0}):C}),appState:ue(ue({},X),{},{selectedElementIds:{}})}}(b,G),l=o.elements,s=o.appState;return(0,ee.$q)(l,b.filter(function(S){var X=S.id;return G.selectedElementIds[X]})),{elements:l,appState:ue(ue({},s=de(s,l)),{},{activeTool:(0,y.Om)(G,{type:"selection"}),multiElement:null}),commitToHistory:(0,g.N)((0,W.Lm)(b),G)}},contextItemLabel:"labels.delete",keyTest:function(b,G,m){return(b.key===f.tW.BACKSPACE||b.key===f.tW.DELETE)&&!b[f.tW.CTRL_OR_CMD]},PanelComponent:function(b){var G=b.elements,m=b.appState,u=b.updateData;return(0,fe.jsx)(d.V,{type:"button",icon:ce.XH,title:(0,x.t)("labels.delete"),"aria-label":(0,x.t)("labels.delete"),onClick:function(){return u(null)},visible:(0,g.N)((0,W.Lm)(G),m)})}})},8671:function(me,Q,e){e.d(Q,{_d:function(){return Z},mM:function(){return v},ns:function(){return E}});var w=e(8950),g=e(2577),f=e(7169),d=e(2975),x=e.n(d),D=e(3646),W=e(487),i=e.n(W),R=e(631),B=e.n(R),ee=e(2052),le=e.n(ee),y=e(4010),ce=e.n(y),fe=e(1469),Ce=e.n(fe),ue=e(9329),de=e.n(ue),ye=e(6759),b={};b.styleTagTransform=de(),b.setAttributes=ce(),b.insert=le().bind(null,"head"),b.domAPI=B(),b.insertStyleElement=Ce(),i()(ye.Z,b),ye.Z&&ye.Z.locals&&ye.Z.locals;var G=e(9787),m=e(6340),u=e(532),I={};I.styleTagTransform=de(),I.setAttributes=ce(),I.insert=le().bind(null,"head"),I.domAPI=B(),I.insertStyleElement=Ce(),i()(u.Z,I),u.Z&&u.Z.locals&&u.Z.locals;var h=e(2134),c=e(4512),a=function(P){var oe=(0,h.J0)().id,se=(0,G.useState)(P.value),N=(0,g.Z)(se,2),ge=N[0],he=N[1];return(0,c.jsxs)("div",{className:"ProjectName",children:[(0,c.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(P.label).concat(P.isNameEditable?"":":")}),P.isNameEditable?(0,c.jsx)("input",{type:"text",className:"TextInput",onBlur:function(be){(0,m.qz)(be.target);var Se=be.target.value;Se!==P.value&&P.onChange(Se)},onKeyDown:function(be){if(be.key==="Enter"){if(be.preventDefault(),be.nativeEvent.isComposing||be.keyCode===229)return;be.currentTarget.blur()}},id:"".concat(oe,"-filename"),value:ge,onChange:function(be){return he(be.target.value)}}):(0,c.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(oe,"-filename"),children:P.value})]})},n=e(1319),t=e(1894),o=(e(5422),e(8211)),l=e(2335),s=function(P){var oe=P.title||(P.value==="dark"?(0,o.t)("buttons.lightMode"):(0,o.t)("buttons.darkMode"));return(0,c.jsx)(n.V,{type:"icon",icon:P.value===l.C6.LIGHT?S.MOON:S.SUN,title:oe,"aria-label":oe,onClick:function(){return P.onChange(P.value===l.C6.DARK?l.C6.LIGHT:l.C6.DARK)},"data-testid":"toggle-dark-mode"})},S={SUN:(0,c.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,c.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,c.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,c.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},X=e(9485),C=e(1047),q=e(434);function A(P,oe){var se=Object.keys(P);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(P);oe&&(N=N.filter(function(ge){return Object.getOwnPropertyDescriptor(P,ge).enumerable})),se.push.apply(se,N)}return se}function _(P){for(var oe=1;oe<arguments.length;oe++){var se=arguments[oe]!=null?arguments[oe]:{};oe%2?A(Object(se),!0).forEach(function(N){(0,f.Z)(P,N,se[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(se)):A(Object(se)).forEach(function(N){Object.defineProperty(P,N,Object.getOwnPropertyDescriptor(se,N))})}return P}var ae=function(){var P=(0,w.Z)(x().mark(function oe(se,N,ge){var he,be,Se,Y,we,te;return x().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(be=(he=N).exportBackground,Se=he.viewBackgroundColor,Y=he.name,we=he.fileHandle,te=(0,q.Qk)(we),we&&(0,q.DQ)(te)){_e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return N=_(_({},N),{},{exportEmbedScene:!0}),_e.next=7,(0,X.p1)(te,(0,C.Lm)(se),N,ge,{exportBackground:be,viewBackgroundColor:Se,name:Y,fileHandle:we});case 7:return _e.abrupt("return",{fileHandle:we});case 8:case"end":return _e.stop()}},oe)}));return function(oe,se,N){return P.apply(this,arguments)}}(),U=e(6066),H=e(7901),j=e(3807),F=e(4162),T=e(75),K=e(1393);function ie(P,oe){var se=Object.keys(P);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(P);oe&&(N=N.filter(function(ge){return Object.getOwnPropertyDescriptor(P,ge).enumerable})),se.push.apply(se,N)}return se}function M(P){for(var oe=1;oe<arguments.length;oe++){var se=arguments[oe]!=null?arguments[oe]:{};oe%2?ie(Object(se),!0).forEach(function(N){(0,f.Z)(P,N,se[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(se)):ie(Object(se)).forEach(function(N){Object.defineProperty(P,N,Object.getOwnPropertyDescriptor(se,N))})}return P}(0,H.z)({name:"changeProjectName",trackEvent:!1,perform:function(P,oe,se){return{appState:M(M({},oe),{},{name:se}),commitToHistory:!1}},PanelComponent:function(P){var oe=P.appState,se=P.updateData,N=P.appProps;return(0,c.jsx)(a,{label:(0,o.t)("labels.fileTitle"),value:oe.name||"Unnamed",onChange:function(ge){return se(ge)},isNameEditable:N.name===void 0&&!oe.viewModeEnabled})}}),(0,H.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(P,oe,se){return{appState:M(M({},oe),{},{exportScale:se}),commitToHistory:!1}},PanelComponent:function(P){var oe=P.elements,se=P.appState,N=P.updateData,ge=(0,C.Lm)(oe),he=(0,T.N)(ge,se)?(0,T.eD)(ge,se):ge;return(0,c.jsx)(c.Fragment,{children:l.ZB.map(function(be){var Se=(0,F.Cg)(he,l.qy,be),Y=(0,g.Z)(Se,2),we=Y[0],te=Y[1],_e="".concat((0,o.t)("buttons.scale")," ").concat(be,"x (").concat(we,"x").concat(te,")");return(0,c.jsx)(n.V,{size:"small",type:"radio",icon:"".concat(be,"x"),name:"export-canvas-scale",title:_e,"aria-label":_e,id:"export-canvas-scale",checked:be===se.exportScale,onChange:function(){return N(be)}},be)})})}}),(0,H.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(P,oe,se){return{appState:M(M({},oe),{},{exportBackground:se}),commitToHistory:!1}},PanelComponent:function(P){var oe=P.appState,se=P.updateData;return(0,c.jsx)(j.o,{checked:oe.exportBackground,onChange:function(N){return se(N)},children:(0,o.t)("labels.withBackground")})}}),(0,H.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(P,oe,se){return{appState:M(M({},oe),{},{exportEmbedScene:se}),commitToHistory:!1}},PanelComponent:function(P){var oe=P.appState,se=P.updateData;return(0,c.jsxs)(j.o,{checked:oe.exportEmbedScene,onChange:function(N){return se(N)},children:[(0,o.t)("labels.exportEmbedScene"),(0,c.jsx)(t.u,{label:(0,o.t)("labels.exportEmbedScene_details"),long:!0,children:(0,c.jsx)("div",{className:"excalidraw-tooltip-icon",children:D.Vl})})]})}});var O,z,p,E=(0,H.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(P,oe,se,N){return!!N.props.UIOptions.canvasActions.saveToActiveFile&&!!oe.fileHandle&&!oe.viewModeEnabled},perform:(O=(0,w.Z)(x().mark(function P(oe,se,N,ge){var he,be,Se;return x().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(he=!!se.fileHandle,Y.prev=1,!(0,q.g8)(se.fileHandle)){Y.next=8;break}return Y.next=5,ae(oe,se,ge.files);case 5:Y.t0=Y.sent,Y.next=11;break;case 8:return Y.next=10,(0,X.Um)(oe,se,ge.files);case 10:Y.t0=Y.sent;case 11:return be=Y.t0,Se=be.fileHandle,Y.abrupt("return",{commitToHistory:!1,appState:M(M({},se),{},{fileHandle:Se,toast:he?{message:Se!=null&&Se.name?(0,o.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Se.name,'"')):(0,o.t)("toast.fileSaved")}:null})});case 16:return Y.prev=16,Y.t1=Y.catch(1),(Y.t1===null||Y.t1===void 0?void 0:Y.t1.name)!=="AbortError"?console.error(Y.t1):console.warn(Y.t1),Y.abrupt("return",{commitToHistory:!1});case 20:case"end":return Y.stop()}},P,null,[[1,16]])})),function(P,oe,se,N){return O.apply(this,arguments)}),keyTest:function(P){return P.key===U.tW.S&&P[U.tW.CTRL_OR_CMD]&&!P.shiftKey}}),v=(0,H.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(z=(0,w.Z)(x().mark(function P(oe,se,N,ge){var he,be;return x().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.prev=0,Se.next=3,(0,X.Um)(oe,M(M({},se),{},{fileHandle:null}),ge.files);case 3:return he=Se.sent,be=he.fileHandle,Se.abrupt("return",{commitToHistory:!1,appState:M(M({},se),{},{fileHandle:be})});case 8:return Se.prev=8,Se.t0=Se.catch(0),(Se.t0===null||Se.t0===void 0?void 0:Se.t0.name)!=="AbortError"?console.error(Se.t0):console.warn(Se.t0),Se.abrupt("return",{commitToHistory:!1});case 12:case"end":return Se.stop()}},P,null,[[0,8]])})),function(P,oe,se,N){return z.apply(this,arguments)}),keyTest:function(P){return P.key===U.tW.S&&P.shiftKey&&P[U.tW.CTRL_OR_CMD]},PanelComponent:function(P){var oe=P.updateData;return(0,c.jsx)(n.V,{type:"button",icon:D.po,title:(0,o.t)("buttons.saveAs"),"aria-label":(0,o.t)("buttons.saveAs"),showAriaLabel:(0,h.Fy)().isMobile,hidden:!K.kr,onClick:function(){return oe(null)},"data-testid":"save-as-button"})}}),Z=(0,H.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(P,oe,se,N){return!!N.props.UIOptions.canvasActions.loadScene&&!oe.viewModeEnabled},perform:(p=(0,w.Z)(x().mark(function P(oe,se,N,ge){var he,be,Se,Y;return x().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.prev=0,we.next=3,(0,X.n8)(se,oe);case 3:return he=we.sent,be=he.elements,Se=he.appState,Y=he.files,we.abrupt("return",{elements:be,appState:Se,files:Y,commitToHistory:!0});case 10:if(we.prev=10,we.t0=we.catch(0),(we.t0===null||we.t0===void 0?void 0:we.t0.name)!=="AbortError"){we.next=15;break}return console.warn(we.t0),we.abrupt("return",!1);case 15:return we.abrupt("return",{elements:oe,appState:M(M({},se),{},{errorMessage:we.t0.message}),files:ge.files,commitToHistory:!1});case 16:case"end":return we.stop()}},P,null,[[0,10]])})),function(P,oe,se,N){return p.apply(this,arguments)}),keyTest:function(P){return P[U.tW.CTRL_OR_CMD]&&P.key===U.tW.O}});(0,H.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(P,oe,se){return{appState:M(M({},oe),{},{exportWithDarkMode:se}),commitToHistory:!1}},PanelComponent:function(P){var oe=P.appState,se=P.updateData;return(0,c.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,c.jsx)(s,{value:oe.exportWithDarkMode?l.C6.DARK:l.C6.LIGHT,onChange:function(N){se(N===l.C6.DARK)},title:(0,o.t)("labels.toggleExportColorScheme")})})}})},6208:function(me,Q,e){e.d(Q,{Tu:function(){return O},Zq:function(){return z}});var w=e(1930),g=e(7169),f=e(7047),d=e(45),x=e(4512),D=function(p){return(0,x.jsx)("div",{className:"buttonList buttonListIcon",children:p.options.map(function(E){var v;return p.type==="button"?(0,x.jsx)("button",{onClick:function(Z){return p.onClick(E.value,Z)},className:(0,d.Z)({active:(v=E.active)!==null&&v!==void 0?v:p.value===E.value}),"data-testid":E.testId,title:E.text,children:E.icon},E.text):(0,x.jsxs)("label",{className:(0,d.Z)({active:p.value===E.value}),title:E.text,children:[(0,x.jsx)("input",{type:"radio",name:p.group,onChange:function(){return p.onChange(E.value)},checked:p.value===E.value,"data-testid":E.testId}),E.icon]},E.text)})})},W=e(4499),i=e(2577),R=e(9787),B=e.n(R),ee=e(2891),le=e(487),y=e.n(le),ce=e(631),fe=e.n(ce),Ce=e(2052),ue=e.n(Ce),de=e(4010),ye=e.n(de),b=e(1469),G=e.n(b),m=e(9329),u=e.n(m),I=e(9478),h={};h.styleTagTransform=u(),h.setAttributes=ye(),h.insert=ue().bind(null,"head"),h.domAPI=fe(),h.insertStyleElement=G(),y()(I.Z,h),I.Z&&I.Z.locals&&I.Z.locals;var c=e(6066),a=e(8211);function n(p,E){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(p);E&&(Z=Z.filter(function(P){return Object.getOwnPropertyDescriptor(p,P).enumerable})),v.push.apply(v,Z)}return v}function t(p){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?n(Object(v),!0).forEach(function(Z){(0,g.Z)(p,Z,v[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):n(Object(v)).forEach(function(Z){Object.defineProperty(p,Z,Object.getOwnPropertyDescriptor(v,Z))})}return p}function o(p){var E=p.options,v=p.value,Z=p.label,P=p.onChange,oe=p.onClose,se=B().useRef(),N=B().useRef(),ge=B().useRef(null);return B().useEffect(function(){N.current?N.current.focus():ge.current&&ge.current.focus()},[]),(0,x.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Z,onKeyDown:function(he){var be=E.find(function(ze){return ze.keyBinding===he.key.toLowerCase()});if(he.metaKey||he.altKey||he.ctrlKey||!be)if(he.key===c.tW.TAB)setTimeout(function(){N.current!==document.activeElement&&oe()},0);else if((0,c.Wl)(he.key)){var Se=document.activeElement,Y=(0,a.G3)().rtl,we=Array.prototype.indexOf.call(ge.current.children,Se);if(we!==-1){var te=E.length,_e=we;switch(he.key){case(Y?c.tW.ARROW_LEFT:c.tW.ARROW_RIGHT):case c.tW.ARROW_DOWN:_e=(we+1)%te;break;case(Y?c.tW.ARROW_RIGHT:c.tW.ARROW_LEFT):case c.tW.ARROW_UP:_e=(te+we-1)%te}ge.current.children[_e].focus()}he.preventDefault()}else he.key!==c.tW.ESCAPE&&he.key!==c.tW.ENTER||(he.preventDefault(),oe());else{var Le=E.indexOf(be);ge.current.children[Le].focus(),he.preventDefault()}he.nativeEvent.stopImmediatePropagation(),he.stopPropagation()},children:(0,x.jsx)("div",{className:"picker-content",ref:ge,children:E.map(function(he,be){return(0,x.jsxs)("button",{className:(0,d.Z)("picker-option",{active:v===he.value}),onClick:function(Se){Se.currentTarget.focus(),P(he.value)},title:"".concat(he.text,"  ").concat(he.keyBinding.toUpperCase()),"aria-label":he.text||"none","aria-keyshortcuts":he.keyBinding,ref:function(Se){Se&&be===0&&(se.current=Se),Se&&he.value===v&&(N.current=Se)},onFocus:function(){P(he.value)},children:[he.icon,(0,x.jsx)("span",{className:"picker-keybinding",children:he.keyBinding})]},he.text)})})})}function l(p){var E,v=p.value,Z=p.label,P=p.options,oe=p.onChange,se=p.group,N=se===void 0?"":se,ge=B().useState(!1),he=(0,i.Z)(ge,2),be=he[0],Se=he[1],Y=B().useRef(null),we=(0,a.G3)().rtl;return(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{name:N,className:be?"active":"","aria-label":Z,onClick:function(){return Se(!be)},ref:Y,children:(E=P.find(function(te){return te.value===v}))===null||E===void 0?void 0:E.icon}),(0,x.jsx)(B().Suspense,{fallback:"",children:be?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ee.J,t(t({onCloseRequest:function(te){return te.target!==Y.current&&Se(!1)}},we?{right:5.5}:{left:-5.5}),{},{children:(0,x.jsx)(o,{options:P,value:v,label:Z,onChange:oe,onClose:function(){var te;Se(!1),(te=Y.current)===null||te===void 0||te.focus()}})})),(0,x.jsx)("div",{className:"picker-triangle"})]}):null})]})}var s=e(3646),S=e(2335),X=e(1047),C=e(1935),q=e(5710),A=e(1974),_=e(6954),ae=e(75),U=e(8120),H=e(6340),j=e(7901);function F(p,E){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(p);E&&(Z=Z.filter(function(P){return Object.getOwnPropertyDescriptor(p,P).enumerable})),v.push.apply(v,Z)}return v}function T(p){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?F(Object(v),!0).forEach(function(Z){(0,g.Z)(p,Z,v[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):F(Object(v)).forEach(function(Z){Object.defineProperty(p,Z,Object.getOwnPropertyDescriptor(v,Z))})}return p}var K=function(p,E,v){var Z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],P=(0,H.xn)((0,ae.eD)(p,E,Z));return p.map(function(oe){var se;return P.get(oe.id)||oe.id===((se=E.editingElement)===null||se===void 0?void 0:se.id)?v(oe):oe})},ie=function(p,E,v,Z){var P,oe,se=E.editingElement,N=(0,X.Lm)(p);return(P=(oe=se&&v(se))!==null&&oe!==void 0?oe:(0,ae.N)(N,E)?(0,ae.PR)(N,E,v):Z)!==null&&P!==void 0?P:null},M=function(p,E,v,Z){var P=new Set;return{elements:K(p,E,function(oe){if((0,X.iB)(oe)){var se=v(oe);P.add(se);var N=(0,C.BE)(oe,{fontSize:se});return(0,X.oN)(N,(0,q.tl)(oe)),ge=oe,he=N,N=(0,A.Xh)(he)?he:(0,C.DR)(he,{x:ge.textAlign==="left"?ge.x:ge.x+(ge.width-he.width)/(ge.textAlign==="center"?2:1),y:ge.y+(ge.height-he.height)/2},!1)}var ge,he;return oe},!0),appState:T(T({},E),{},{currentItemFontSize:P.size===1?(0,w.Z)(P)[0]:Z??E.currentItemFontSize}),commitToHistory:!0}},O=((0,j.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(p,E,v){return T(T({},v.currentItemStrokeColor&&{elements:K(p,E,function(Z){return(0,U.PD)(Z.type)?(0,C.BE)(Z,{strokeColor:v.currentItemStrokeColor}):Z},!0)}),{},{appState:T(T({},E),v),commitToHistory:!!v.currentItemStrokeColor})},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h3",{"aria-hidden":"true",children:(0,a.t)("labels.stroke")}),(0,x.jsx)(W.z,{type:"elementStroke",label:(0,a.t)("labels.stroke"),color:ie(E,v,function(P){return P.strokeColor},v.currentItemStrokeColor),onChange:function(P){return Z({currentItemStrokeColor:P})},isActive:v.openPopup==="strokeColorPicker",setActive:function(P){return Z({openPopup:P?"strokeColorPicker":null})},elements:E,appState:v})]})}}),(0,j.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(p,E,v){return T(T({},v.currentItemBackgroundColor&&{elements:K(p,E,function(Z){return(0,C.BE)(Z,{backgroundColor:v.currentItemBackgroundColor})})}),{},{appState:T(T({},E),v),commitToHistory:!!v.currentItemBackgroundColor})},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h3",{"aria-hidden":"true",children:(0,a.t)("labels.background")}),(0,x.jsx)(W.z,{type:"elementBackground",label:(0,a.t)("labels.background"),color:ie(E,v,function(P){return P.backgroundColor},v.currentItemBackgroundColor),onChange:function(P){return Z({currentItemBackgroundColor:P})},isActive:v.openPopup==="backgroundColorPicker",setActive:function(P){return Z({openPopup:P?"backgroundColorPicker":null})},elements:E,appState:v})]})}}),(0,j.z)({name:"changeFillStyle",trackEvent:!1,perform:function(p,E,v,Z){return(0,f.L)("element","changeFillStyle","".concat(v," (").concat(Z.device.isMobile?"mobile":"desktop",")")),{elements:K(p,E,function(P){return(0,C.BE)(P,{fillStyle:v})}),appState:T(T({},E),{},{currentItemFillStyle:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData,P=(0,ae.eD)(E,v),oe=P.length>0&&P.every(function(se){return se.fillStyle==="zigzag"});return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.fill")}),(0,x.jsx)(D,{type:"button",options:[{value:"hachure",text:"".concat(oe?(0,a.t)("labels.zigzag"):(0,a.t)("labels.hachure")," (").concat((0,H.uY)("Alt-Click"),")"),icon:oe?s.lF:s.a0,active:!!oe||void 0},{value:"cross-hatch",text:(0,a.t)("labels.crossHatch"),icon:s.np},{value:"solid",text:(0,a.t)("labels.solid"),icon:s.X7}],value:ie(E,v,function(se){return se.fillStyle},v.currentItemFillStyle),onClick:function(se,N){var ge=N.altKey&&se==="hachure"&&P.every(function(he){return he.fillStyle==="hachure"})?"zigzag":se;Z(ge)}})]})}}),(0,j.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){return(0,C.BE)(Z,{strokeWidth:v})}),appState:T(T({},E),{},{currentItemStrokeWidth:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.strokeWidth")}),(0,x.jsx)(D,{group:"stroke-width",options:[{value:1,text:(0,a.t)("labels.thin"),icon:s.ZA},{value:2,text:(0,a.t)("labels.bold"),icon:s.Wl},{value:4,text:(0,a.t)("labels.extraBold"),icon:s.m9}],value:ie(E,v,function(P){return P.strokeWidth},v.currentItemStrokeWidth),onChange:function(P){return Z(P)}})]})}}),(0,j.z)({name:"changeSloppiness",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){return(0,C.BE)(Z,{seed:(0,_.LU)(),roughness:v})}),appState:T(T({},E),{},{currentItemRoughness:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.sloppiness")}),(0,x.jsx)(D,{group:"sloppiness",options:[{value:0,text:(0,a.t)("labels.architect"),icon:s.bf},{value:1,text:(0,a.t)("labels.artist"),icon:s.kM},{value:2,text:(0,a.t)("labels.cartoonist"),icon:s.W2}],value:ie(E,v,function(P){return P.roughness},v.currentItemRoughness),onChange:function(P){return Z(P)}})]})}}),(0,j.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){return(0,C.BE)(Z,{strokeStyle:v})}),appState:T(T({},E),{},{currentItemStrokeStyle:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.strokeStyle")}),(0,x.jsx)(D,{group:"strokeStyle",options:[{value:"solid",text:(0,a.t)("labels.strokeStyle_solid"),icon:s.ZA},{value:"dashed",text:(0,a.t)("labels.strokeStyle_dashed"),icon:s.a5},{value:"dotted",text:(0,a.t)("labels.strokeStyle_dotted"),icon:s.aT}],value:ie(E,v,function(P){return P.strokeStyle},v.currentItemStrokeStyle),onChange:function(P){return Z(P)}})]})}}),(0,j.z)({name:"changeOpacity",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){return(0,C.BE)(Z,{opacity:v})},!0),appState:T(T({},E),{},{currentItemOpacity:v}),commitToHistory:!0}},PanelComponent:function(p){var E,v=p.elements,Z=p.appState,P=p.updateData;return(0,x.jsxs)("label",{className:"control-label",children:[(0,a.t)("labels.opacity"),(0,x.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(oe){return P(+oe.target.value)},value:(E=ie(v,Z,function(oe){return oe.opacity},Z.currentItemOpacity))!==null&&E!==void 0?E:void 0})]})}}),(0,j.z)({name:"changeFontSize",trackEvent:!1,perform:function(p,E,v){return M(p,E,function(){return v},v)},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.fontSize")}),(0,x.jsx)(D,{group:"font-size",options:[{value:16,text:(0,a.t)("labels.small"),icon:s.q0,testId:"fontSize-small"},{value:20,text:(0,a.t)("labels.medium"),icon:s.nq,testId:"fontSize-medium"},{value:28,text:(0,a.t)("labels.large"),icon:s.tW,testId:"fontSize-large"},{value:36,text:(0,a.t)("labels.veryLarge"),icon:s.OA,testId:"fontSize-veryLarge"}],value:ie(E,v,function(P){if((0,X.iB)(P))return P.fontSize;var oe=(0,q.WJ)(P);return oe?oe.fontSize:null},v.currentItemFontSize||S.n5),onChange:function(P){return Z(P)}})]})}}),(0,j.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(p,E,v){return M(p,E,function(Z){return Math.round(1/1.1*Z.fontSize)})},keyTest:function(p){return p[c.tW.CTRL_OR_CMD]&&p.shiftKey&&(p.key===c.tW.CHEVRON_LEFT||p.key===c.tW.COMMA)}})),z=(0,j.z)({name:"increaseFontSize",trackEvent:!1,perform:function(p,E,v){return M(p,E,function(Z){return Math.round(1.1*Z.fontSize)})},keyTest:function(p){return p[c.tW.CTRL_OR_CMD]&&p.shiftKey&&(p.key===c.tW.CHEVRON_RIGHT||p.key===c.tW.PERIOD)}});(0,j.z)({name:"changeFontFamily",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){if((0,X.iB)(Z)){var P=(0,C.BE)(Z,{fontFamily:v,lineHeight:(0,q.PT)(v)});return(0,X.oN)(P,(0,q.tl)(Z)),P}return Z},!0),appState:T(T({},E),{},{currentItemFontFamily:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData,P=[{value:S.ut.Virgil,text:(0,a.t)("labels.handDrawn"),icon:s.Pm},{value:S.ut.Helvetica,text:(0,a.t)("labels.normal"),icon:s.vo},{value:S.ut.Cascadia,text:(0,a.t)("labels.code"),icon:s.z6}];return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.fontFamily")}),(0,x.jsx)(D,{group:"font-family",options:P,value:ie(E,v,function(oe){if((0,X.iB)(oe))return oe.fontFamily;var se=(0,q.WJ)(oe);return se?se.fontFamily:null},v.currentItemFontFamily||S.rk),onChange:function(oe){return Z(oe)}})]})}}),(0,j.z)({name:"changeTextAlign",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){if((0,X.iB)(Z)){var P=(0,C.BE)(Z,{textAlign:v});return(0,X.oN)(P,(0,q.tl)(Z)),P}return Z},!0),appState:T(T({},E),{},{currentItemTextAlign:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.textAlign")}),(0,x.jsx)(D,{group:"text-align",options:[{value:"left",text:(0,a.t)("labels.left"),icon:s.rr,testId:"align-left"},{value:"center",text:(0,a.t)("labels.center"),icon:s.o3,testId:"align-horizontal-center"},{value:"right",text:(0,a.t)("labels.right"),icon:s.oT,testId:"align-right"}],value:ie(E,v,function(P){if((0,X.iB)(P))return P.textAlign;var oe=(0,q.WJ)(P);return oe?oe.textAlign:null},v.currentItemTextAlign),onChange:function(P){return Z(P)}})]})}}),(0,j.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(p,E,v){return{elements:K(p,E,function(Z){if((0,X.iB)(Z)){var P=(0,C.BE)(Z,{verticalAlign:v});return(0,X.oN)(P,(0,q.tl)(Z)),P}return Z},!0),appState:T({},E),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData;return(0,x.jsx)("fieldset",{children:(0,x.jsx)(D,{group:"text-align",options:[{value:S.oX.TOP,text:(0,a.t)("labels.alignTop"),icon:(0,x.jsx)(s.EO,{theme:v.theme}),testId:"align-top"},{value:S.oX.MIDDLE,text:(0,a.t)("labels.centerVertically"),icon:(0,x.jsx)(s.P7,{theme:v.theme}),testId:"align-middle"},{value:S.oX.BOTTOM,text:(0,a.t)("labels.alignBottom"),icon:(0,x.jsx)(s.aA,{theme:v.theme}),testId:"align-bottom"}],value:ie(E,v,function(P){if((0,X.iB)(P)&&P.containerId)return P.verticalAlign;var oe=(0,q.WJ)(P);return oe?oe.verticalAlign:null}),onChange:function(P){return Z(P)}})})}}),(0,j.z)({name:"changeRoundness",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){return(0,C.BE)(Z,{roundness:v==="round"?{type:(0,A.QI)(Z.type)?S.a6.ADAPTIVE_RADIUS:S.a6.PROPORTIONAL_RADIUS}:null})}),appState:T(T({},E),{},{currentItemRoundness:v}),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData,P=(0,ae.Zs)((0,X.Lm)(E),v).some(function(oe){var se;return((se=oe.roundness)===null||se===void 0?void 0:se.type)===S.a6.LEGACY});return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.edges")}),(0,x.jsx)(D,{group:"edges",options:[{value:"sharp",text:(0,a.t)("labels.sharp"),icon:s.wr},{value:"round",text:(0,a.t)("labels.round"),icon:s.DS}],value:ie(E,v,function(oe){return P?null:oe.roundness?"round":"sharp"},(0,ae.sh)(v.activeTool.type)&&v.currentItemRoundness||null),onChange:function(oe){return Z(oe)}})]})}}),(0,j.z)({name:"changeArrowhead",trackEvent:!1,perform:function(p,E,v){return{elements:K(p,E,function(Z){if((0,A.bt)(Z)){var P=v.position,oe=v.type;if(P==="start")return(0,C.BE)(Z,{startArrowhead:oe});if(P==="end")return(0,C.BE)(Z,{endArrowhead:oe})}return Z}),appState:T(T({},E),{},(0,g.Z)({},v.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",v.type)),commitToHistory:!0}},PanelComponent:function(p){var E=p.elements,v=p.appState,Z=p.updateData,P=(0,a.G3)().rtl;return(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{children:(0,a.t)("labels.arrowheads")}),(0,x.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,x.jsx)(l,{label:"arrowhead_start",options:[{value:null,text:(0,a.t)("labels.arrowhead_none"),icon:s.fr,keyBinding:"q"},{value:"arrow",text:(0,a.t)("labels.arrowhead_arrow"),icon:(0,x.jsx)(s.il,{flip:!P}),keyBinding:"w"},{value:"bar",text:(0,a.t)("labels.arrowhead_bar"),icon:(0,x.jsx)(s.m,{flip:!P}),keyBinding:"e"},{value:"dot",text:(0,a.t)("labels.arrowhead_dot"),icon:(0,x.jsx)(s.tn,{flip:!P}),keyBinding:"r"},{value:"triangle",text:(0,a.t)("labels.arrowhead_triangle"),icon:(0,x.jsx)(s.j8,{flip:!P}),keyBinding:"t"}],value:ie(E,v,function(oe){return(0,A.bt)(oe)&&(0,ae.Un)(oe.type)?oe.startArrowhead:v.currentItemStartArrowhead},v.currentItemStartArrowhead),onChange:function(oe){return Z({position:"start",type:oe})}}),(0,x.jsx)(l,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,a.t)("labels.arrowhead_none"),keyBinding:"q",icon:s.fr},{value:"arrow",text:(0,a.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,x.jsx)(s.il,{flip:P})},{value:"bar",text:(0,a.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,x.jsx)(s.m,{flip:P})},{value:"dot",text:(0,a.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,x.jsx)(s.tn,{flip:P})},{value:"triangle",text:(0,a.t)("labels.arrowhead_triangle"),icon:(0,x.jsx)(s.j8,{flip:P}),keyBinding:"t"}],value:ie(E,v,function(oe){return(0,A.bt)(oe)&&(0,ae.Un)(oe.type)?oe.endArrowhead:v.currentItemEndArrowhead},v.currentItemEndArrowhead),onChange:function(oe){return Z({position:"end",type:oe})}})]})]})}})},4958:function(me,Q,e){e.d(Q,{u:function(){return D}});var w=e(7169),g=e(7901),f=e(6066);function d(W,i){var R=Object.keys(W);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(W);i&&(B=B.filter(function(ee){return Object.getOwnPropertyDescriptor(W,ee).enumerable})),R.push.apply(R,B)}return R}function x(W){for(var i=1;i<arguments.length;i++){var R=arguments[i]!=null?arguments[i]:{};i%2?d(Object(R),!0).forEach(function(B){(0,w.Z)(W,B,R[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(R)):d(Object(R)).forEach(function(B){Object.defineProperty(W,B,Object.getOwnPropertyDescriptor(R,B))})}return W}var D=(0,g.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(W,i){return{appState:x(x({},i),{},{showStats:!this.checked(i)}),commitToHistory:!1}},checked:function(W){return W.showStats},contextItemLabel:"stats.title",keyTest:function(W){return!W[f.tW.CTRL_OR_CMD]&&W.altKey&&W.code===f.aU.SLASH}})},6710:function(me,Q,e){e.d(Q,{FL:function(){return Pt},vD:function(){return Dr.vD},yA:function(){return I},BZ:function(){return c},mo:function(){return M.mo},uN:function(){return zt.uN},jK:function(){return zt.jK},FA:function(){return zt.FA},pw:function(){return N},ZM:function(){return zt.ZM},X9:function(){return w.X},xF:function(){return K},pL:function(){return v},jl:function(){return At},kt:function(){return er},EQ:function(){return Fe},nz:function(){return gr.nz},_d:function(){return Z._d},W3:function(){return ge},ns:function(){return Z.ns},Yy:function(){return S},V:function(){return u},zi:function(){return h},jY:function(){return Se},Pb:function(){return cr},Qs:function(){return fn},iL:function(){return qr},u0:function(){return Xr.u},Zp:function(){return M.Zp},JN:function(){return Yr},y7:function(){return Dr.y7},s:function(){return Pe},zp:function(){return zt.zp}});var w=e(533),g=e(1930),f=e(1935),d=e(242),x=e(75),D=e(1564),W=e(6340),i=function($,pe){for(var Oe=[],Te=[],Je=null,rt=-1,mt=(0,W.xn)((0,x.eD)($,pe,!0));++rt<$.length;)mt.get($[rt].id)?(Te.length&&(Oe=Oe.concat(Te),Te=[]),Oe.push(rt),Je=rt+1):$[rt].isDeleted&&Je===rt?(Je=rt+1,Te.push(rt)):Te=[];return Oe},R=function($,pe,Oe){if("containerId"in $&&$.containerId){if(Oe!=="left")return pe.indexOf($);var Te=D.Z.getScene($).getElement($.containerId);if(Te)return pe.indexOf(Te)}else{var Je,rt,mt=(Je=$.boundElements)===null||Je===void 0||(rt=Je.find(function(tt){return tt.type!=="arrow"}))===null||rt===void 0?void 0:rt.id;if(mt){if(Oe==="left")return pe.indexOf($);var bt=D.Z.getScene($).getElement(mt);if(bt)return pe.indexOf(bt)}}},B=function($,pe){return pe.reduce(function(Oe,Te){var Je=$[Te];return Oe[Je.id]=Je,Oe},{})},ee=function($,pe,Oe){var Te,Je,rt=i(pe,$),mt=B(pe,rt),bt=(Je=0,(Te=rt).reduce(function(tt,xt,dt){return dt>0&&Te[dt-1]!==xt-1&&(Je=++Je),(tt[Je]||(tt[Je]=[])).push(xt),tt},[]));return Oe==="right"&&(bt=bt.reverse()),bt.forEach(function(tt,xt){var dt=tt[0],Ct=tt[tt.length-1],Ut=Oe==="left"?dt:Ct,Lt=function(ur,sr,xr,ar){var dr,gt=sr[xr],fr=function(Jr){return!Jr.isDeleted&&(!ur.editingGroupId||Jr.groupIds.includes(ur.editingGroupId))},_r=ar==="left"?(0,W.qr)(sr,fr,Math.max(0,xr-1)):(0,W.cx)(sr,fr,xr+1),pr=sr[_r];if(!pr)return-1;if(ur.editingGroupId){var Fr;if((gt==null?void 0:gt.groupIds.join(""))===(pr==null?void 0:pr.groupIds.join("")))return(Fr=R(pr,sr,ar))!==null&&Fr!==void 0?Fr:_r;if(pr==null||!pr.groupIds.includes(ur.editingGroupId))return-1}if(!pr.groupIds.length)return(dr=R(pr,sr,ar))!==null&&dr!==void 0?dr:_r;var Ur=ur.editingGroupId?pr.groupIds[pr.groupIds.indexOf(ur.editingGroupId)-1]:pr.groupIds[pr.groupIds.length-1],wr=(0,d.Fb)(sr,Ur);return wr.length?ar==="left"?sr.indexOf(wr[0]):sr.indexOf(wr[wr.length-1]):_r}($,pe,Ut,Oe);if(Lt!==-1&&Ut!==Lt){var Xt=Oe==="left"?pe.slice(0,Lt):pe.slice(0,dt),Rt=pe.slice(dt,Ct+1),kt=Oe==="left"?pe.slice(Lt,dt):pe.slice(Ct+1,Lt+1),hr=Oe==="left"?pe.slice(Ct+1):pe.slice(Lt+1);pe=Oe==="left"?[].concat((0,g.Z)(Xt),(0,g.Z)(Rt),(0,g.Z)(kt),(0,g.Z)(hr)):[].concat((0,g.Z)(Xt),(0,g.Z)(kt),(0,g.Z)(Rt),(0,g.Z)(hr))}}),pe.map(function(tt){return mt[tt.id]?(0,f.ZP)(tt):tt})},le=function($,pe,Oe){var Te,Je,rt=i($,pe),mt=B($,rt),bt=[];if(Oe==="left"){if(pe.editingGroupId){var tt=(0,d.Fb)($,pe.editingGroupId);if(!tt.length)return $;Te=$.indexOf(tt[0])}else Te=0;Je=rt[rt.length-1]}else{if(pe.editingGroupId){var xt=(0,d.Fb)($,pe.editingGroupId);if(!xt.length)return $;Je=$.indexOf(xt[xt.length-1])}else Je=$.length-1;Te=rt[0]}for(var dt=Te;dt<Je+1;dt++)rt.includes(dt)||bt.push($[dt]);var Ct=Object.values(mt).map(function(Xt){return(0,f.ZP)(Xt)}),Ut=$.slice(0,Te),Lt=$.slice(Je+1);return Oe==="left"?[].concat((0,g.Z)(Ut),(0,g.Z)(Ct),bt,(0,g.Z)(Lt)):[].concat((0,g.Z)(Ut),bt,(0,g.Z)(Ct),(0,g.Z)(Lt))},y=function($,pe){return ee(pe,$,"left")},ce=function($,pe){return ee(pe,$,"right")},fe=function($,pe){return le($,pe,"left")},Ce=function($,pe){return le($,pe,"right")},ue=e(6066),de=e(8211),ye=e(7901),b=e(3646),G=e(2335),m=e(4512),u=(0,ye.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function($,pe){return{elements:y($,pe),appState:pe,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&!$.shiftKey&&$.code===ue.aU.BRACKET_LEFT},PanelComponent:function($){var pe=$.updateData;return $.appState,(0,m.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return pe(null)},title:"".concat((0,de.t)("labels.sendBackward"),"  ").concat((0,W.uY)("CtrlOrCmd+[")),children:b.Gc})}}),I=(0,ye.z)({name:"bringForward",trackEvent:{category:"element"},perform:function($,pe){return{elements:ce($,pe),appState:pe,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&!$.shiftKey&&$.code===ue.aU.BRACKET_RIGHT},PanelComponent:function($){var pe=$.updateData;return $.appState,(0,m.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return pe(null)},title:"".concat((0,de.t)("labels.bringForward"),"  ").concat((0,W.uY)("CtrlOrCmd+]")),children:b.t5})}}),h=(0,ye.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function($,pe){return{elements:fe($,pe),appState:pe,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function($){return G.Um?$[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.BRACKET_LEFT:$[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.code===ue.aU.BRACKET_LEFT},PanelComponent:function($){var pe=$.updateData;return $.appState,(0,m.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return pe(null)},title:"".concat((0,de.t)("labels.sendToBack"),"  ").concat(G.Um?(0,W.uY)("CtrlOrCmd+Alt+["):(0,W.uY)("CtrlOrCmd+Shift+[")),children:b.pw})}}),c=(0,ye.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function($,pe){return{elements:Ce($,pe),appState:pe,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function($){return G.Um?$[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.BRACKET_RIGHT:$[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.code===ue.aU.BRACKET_RIGHT},PanelComponent:function($){var pe=$.updateData;return $.appState,(0,m.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Oe){return pe(null)},title:"".concat((0,de.t)("labels.bringToFront"),"  ").concat(G.Um?(0,W.uY)("CtrlOrCmd+Alt+]"):(0,W.uY)("CtrlOrCmd+Shift+]")),children:b.IN})}}),a=e(7169),n=e(1047),t=e(1974),o=e(6938);function l($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function s($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?l(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):l(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var S=(0,ye.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function($,pe,Oe,Te){if(pe.editingLinearElement)return!1;var Je=$.reduce(function(rt,mt){return mt.isDeleted||(0,n.iB)(mt)&&mt.containerId||mt.locked||(rt[mt.id]=!0),rt},{});return{appState:(0,d.bO)(s(s({},pe),{},{selectedLinearElement:Object.keys(Je).length===1&&(0,t.bt)($[0])?new o._($[0],Te.scene):null,editingGroupId:null,selectedElementIds:Je}),(0,n.Lm)($)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.key===ue.tW.A}}),X=e(1319),C=e(8290),q=e(5710);function A($,pe){var Oe=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!Oe){if(Array.isArray($)||(Oe=function(tt,xt){if(tt){if(typeof tt=="string")return _(tt,xt);var dt=Object.prototype.toString.call(tt).slice(8,-1);if(dt==="Object"&&tt.constructor&&(dt=tt.constructor.name),dt==="Map"||dt==="Set")return Array.from(tt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _(tt,xt)}}($))||pe&&$&&typeof $.length=="number"){Oe&&($=Oe);var Te=0,Je=function(){};return{s:Je,n:function(){return Te>=$.length?{done:!0}:{done:!1,value:$[Te++]}},e:function(tt){throw tt},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,mt=!0,bt=!1;return{s:function(){Oe=Oe.call($)},n:function(){var tt=Oe.next();return mt=tt.done,tt},e:function(tt){bt=!0,rt=tt},f:function(){try{mt||Oe.return==null||Oe.return()}finally{if(bt)throw rt}}}}function _($,pe){(pe==null||pe>$.length)&&(pe=$.length);for(var Oe=0,Te=new Array(pe);Oe<pe;Oe++)Te[Oe]=$[Oe];return Te}var ae=function($){var pe=$.slice(),Oe=new Set,Te=function rt(mt){var bt,tt,xt,dt=(bt=mt[0])===null||bt===void 0||(tt=bt.groupIds)===null||tt===void 0?void 0:tt.join(""),Ct=[mt[0]],Ut=[],Lt=A(mt.slice(1));try{for(Lt.s();!(xt=Lt.n()).done;){var Xt,Rt=xt.value;((Xt=Rt.groupIds)===null||Xt===void 0?void 0:Xt.join(""))===dt?Ct.push(Rt):Ut.push(Rt)}}catch(kt){Lt.e(kt)}finally{Lt.f()}return Ut.length?[].concat(Ct,(0,g.Z)(rt(Ut))):Ct},Je=new Map;return pe.forEach(function(rt,mt){var bt;if(!Je.has(rt.id))if((bt=rt.groupIds)!==null&&bt!==void 0&&bt.length){var tt,xt=rt.groupIds[rt.groupIds.length-1],dt=pe.slice(mt).filter(function(Lt){var Xt,Rt=Lt==null||(Xt=Lt.groupIds)===null||Xt===void 0?void 0:Xt.some(function(kt){return kt===xt});return Rt&&Je.set(Lt.id,!0),Rt}),Ct=A(Te(dt));try{for(Ct.s();!(tt=Ct.n()).done;){var Ut=tt.value;Oe.add(Ut)}}catch(Lt){Ct.e(Lt)}finally{Ct.f()}}else Oe.add(rt)}),Oe.size!==$.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),$):(0,g.Z)(Oe)},U=function($){var pe=function(Oe){var Te=(0,W.I4)(Oe),Je=Oe.slice(),rt=new Set;return Je.forEach(function(mt,bt){var tt;if(mt)if((tt=mt.boundElements)!==null&&tt!==void 0&&tt.length)rt.add(mt),Je[bt]=null,mt.boundElements.forEach(function(Ct){var Ut=Te.get(Ct.id);Ut&&Ct.type==="text"&&(rt.add(Ut[0]),Je[Ut[1]]=null)});else if(mt.type==="text"&&mt.containerId){var xt,dt=Te.get(mt.containerId);dt!=null&&(xt=dt[0].boundElements)!==null&&xt!==void 0&&xt.find(function(Ct){return Ct.id===mt.id})||(rt.add(mt),Je[bt]=null)}else rt.add(mt),Je[bt]=null}),rt.size!==Oe.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Oe):(0,g.Z)(rt)}(ae($));return pe};function H($,pe){var Oe=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!Oe){if(Array.isArray($)||(Oe=function(tt,xt){if(tt){if(typeof tt=="string")return j(tt,xt);var dt=Object.prototype.toString.call(tt).slice(8,-1);if(dt==="Object"&&tt.constructor&&(dt=tt.constructor.name),dt==="Map"||dt==="Set")return Array.from(tt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return j(tt,xt)}}($))||pe&&$&&typeof $.length=="number"){Oe&&($=Oe);var Te=0,Je=function(){};return{s:Je,n:function(){return Te>=$.length?{done:!0}:{done:!1,value:$[Te++]}},e:function(tt){throw tt},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,mt=!0,bt=!1;return{s:function(){Oe=Oe.call($)},n:function(){var tt=Oe.next();return mt=tt.done,tt},e:function(tt){bt=!0,rt=tt},f:function(){try{mt||Oe.return==null||Oe.return()}finally{if(bt)throw rt}}}}function j($,pe){(pe==null||pe>$.length)&&(pe=$.length);for(var Oe=0,Te=new Array(pe);Oe<pe;Oe++)Te[Oe]=$[Oe];return Te}function F($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function T($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?F(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):F(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var K=(0,ye.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function($,pe){if(pe.editingLinearElement){var Oe=o._.duplicateSelectedPoints(pe);return!!Oe&&{elements:$,appState:Oe.appState,commitToHistory:!0}}return T(T({},ie($,pe)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.key===ue.tW.D},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{type:"button",icon:b.NA,title:"".concat((0,de.t)("labels.duplicateSelection"),"  ").concat((0,W.uY)("CtrlOrCmd+D")),"aria-label":(0,de.t)("labels.duplicateSelection"),onClick:function(){return Te(null)},visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),ie=function($,pe){for(var Oe=U($),Te=new Map,Je=[],rt=[],mt=new Map,bt=function(ar){var dr=(0,n.Sy)(pe.editingGroupId,Te,ar,{x:ar.x+G.k/2,y:ar.y+G.k/2});return mt.set(ar.id,dr.id),rt.push(ar),Je.push(dr),dr},tt=(0,W.xn)((0,x.eD)(Oe,pe,!0)),xt=new Map,dt=function(ar){var dr,gt=H(ar);try{for(gt.s();!(dr=gt.n()).done;){var fr=dr.value;xt.set(fr.id,!0)}}catch(_r){gt.e(_r)}finally{gt.f()}return ar},Ct=[],Ut=-1;++Ut<Oe.length;){var Lt=Oe[Ut];if(!xt.get(Lt.id)){var Xt=(0,q.WJ)(Lt);if(tt.get(Lt.id)){if(Lt.groupIds.length||Xt){var Rt=(0,d.yO)(pe,Lt);if(Rt){var kt=(0,d.Fb)(Oe,Rt);Ct.push.apply(Ct,(0,g.Z)(dt([].concat((0,g.Z)(kt),(0,g.Z)(kt.map(function(ar){return bt(ar)}))))));continue}if(Xt){Ct.push.apply(Ct,(0,g.Z)(dt([Lt,Xt,bt(Lt),bt(Xt)])));continue}}Ct.push.apply(Ct,(0,g.Z)(dt([Lt,bt(Lt)])))}else Ct.push.apply(Ct,(0,g.Z)(dt([Lt])))}}var hr=[],ur=new Map;for(Ut=Ct.length;--Ut>=0;){var sr=Ct[Ut];ur.get(sr.id)||(ur.set(sr.id,!0),hr.push(sr))}var xr=hr.reverse();return(0,q.P7)(Ct,rt,mt),(0,C.ek)(Ct,rt,mt),{elements:xr,appState:(0,d.bO)(T(T({},pe),{},{selectedGroupIds:{},selectedElementIds:Je.reduce(function(ar,dr){return(0,t.Xh)(dr)||(ar[dr.id]=!0),ar},{})}),(0,n.Lm)(xr))}},M=(e(6208),e(2416)),O=e(2577),z=e(6552);function p($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function E($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?p(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):p(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var v=(0,ye.z)({name:"finalize",trackEvent:!1,perform:function($,pe,Oe,Te){var Je,rt=Te.canvas,mt=Te.focusContainer,bt=Te.scene;if(pe.editingLinearElement){var tt=pe.editingLinearElement,xt=tt.elementId,dt=tt.startBindingElement,Ct=tt.endBindingElement,Ut=o._.getElement(xt);if(Ut)return(0,t.Mn)(Ut)&&(0,C.HG)(Ut,dt,Ct),{elements:Ut.points.length<2||(0,n.QD)(Ut)?$.filter(function(pr){return pr.id!==Ut.id}):void 0,appState:E(E({},pe),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Lt=$,Xt=pe.pendingImageElementId&&bt.getElement(pe.pendingImageElementId);Xt&&(0,f.DR)(Xt,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&mt();var Rt,kt=pe.multiElement?pe.multiElement:((Je=pe.editingElement)===null||Je===void 0?void 0:Je.type)==="freedraw"?pe.editingElement:null;if(kt){if(kt.type!=="freedraw"&&pe.lastPointerDownWith!=="touch"){var hr=kt.points,ur=kt.lastCommittedPoint;ur&&hr[hr.length-1]===ur||(0,f.DR)(kt,{points:kt.points.slice(0,-1)})}(0,n.QD)(kt)&&(Lt=Lt.slice(0,-1));var sr=(0,z.g6)(kt.points,pe.zoom.value);if((kt.type==="line"||kt.type==="freedraw")&&sr){var xr=kt.points,ar=xr[0];(0,f.DR)(kt,{points:xr.map(function(pr,Fr){return Fr===xr.length-1?[ar[0],ar[1]]:pr})})}if((0,t.Mn)(kt)&&!sr&&kt.points.length>1){var dr=o._.getPointAtIndexGlobalCoordinates(kt,-1),gt=(0,O.Z)(dr,2),fr=gt[0],_r=gt[1];(0,C.R)(kt,pe,D.Z.getScene(kt),{x:fr,y:_r})}pe.activeTool.locked||pe.activeTool.type==="freedraw"||(pe.selectedElementIds[kt.id]=!0)}return(pe.activeTool.locked||pe.activeTool.type==="freedraw")&&kt||(0,W.z8)(rt),Rt=pe.activeTool.type==="eraser"?(0,W.Om)(pe,E(E({},pe.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,W.Om)(pe,{type:"selection"}),{elements:Lt,appState:E(E({},pe),{},{cursorButton:"up",activeTool:(pe.activeTool.locked||pe.activeTool.type==="freedraw")&&kt?pe.activeTool:Rt,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:kt&&!pe.activeTool.locked&&pe.activeTool.type!=="freedraw"?E(E({},pe.selectedElementIds),{},(0,a.Z)({},kt.id,!0)):pe.selectedElementIds,selectedLinearElement:kt&&(0,t.bt)(kt)?new o._(kt,bt):pe.selectedLinearElement,pendingImageElementId:null}),commitToHistory:pe.activeTool.type==="freedraw"}},keyTest:function($,pe){return $.key===ue.tW.ESCAPE&&(pe.editingLinearElement!==null||!pe.draggingElement&&pe.multiElement===null)||($.key===ue.tW.ESCAPE||$.key===ue.tW.ENTER)&&pe.multiElement!==null},PanelComponent:function($){var pe=$.appState,Oe=$.updateData,Te=$.data;return(0,m.jsx)(X.V,{type:"button",icon:b.$c,title:(0,de.t)("buttons.done"),"aria-label":(0,de.t)("buttons.done"),onClick:Oe,visible:pe.multiElement!=null,size:(Te==null?void 0:Te.size)||"medium"})}}),Z=e(8671);function P($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function oe($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?P(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):P(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var se="{}",N=(0,ye.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function($,pe){var Oe=[],Te=$.find(function(rt){return pe.selectedElementIds[rt.id]});if(Oe.push(Te),Te&&(0,t.Xo)(Te)){var Je=(0,q.WJ)(Te);Oe.push(Je)}return Te&&(se=JSON.stringify(Oe)),{appState:oe(oe({},pe),{},{toast:{message:(0,de.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.C}}),ge=(0,ye.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function($,pe){var Oe=JSON.parse(se),Te=Oe[0],Je=Oe[1];if(!(0,n.r2)(Te))return{elements:$,commitToHistory:!1};var rt=(0,x.eD)($,pe,!0),mt=rt.map(function(bt){return bt.id});return{elements:$.map(function(bt){if(mt.includes(bt.id)){var tt,xt,dt,Ct,Ut,Lt,Xt,Rt=Te;if((0,n.iB)(bt)&&bt.containerId&&(Rt=Je),!Rt)return bt;var kt=(0,f.BE)(bt,{backgroundColor:(tt=Rt)===null||tt===void 0?void 0:tt.backgroundColor,strokeWidth:(xt=Rt)===null||xt===void 0?void 0:xt.strokeWidth,strokeColor:(dt=Rt)===null||dt===void 0?void 0:dt.strokeColor,strokeStyle:(Ct=Rt)===null||Ct===void 0?void 0:Ct.strokeStyle,fillStyle:(Ut=Rt)===null||Ut===void 0?void 0:Ut.fillStyle,opacity:(Lt=Rt)===null||Lt===void 0?void 0:Lt.opacity,roughness:(Xt=Rt)===null||Xt===void 0?void 0:Xt.roughness,roundness:Rt.roundness?(0,t.eK)(Rt.roundness.type,bt)?Rt.roundness:(0,t.UQ)(bt):null});if((0,n.iB)(kt)){var hr,ur,sr,xr=((hr=Rt)===null||hr===void 0?void 0:hr.fontSize)||G.n5,ar=((ur=Rt)===null||ur===void 0?void 0:ur.fontFamily)||G.rk,dr=null;(kt=(0,f.BE)(kt,{fontSize:xr,fontFamily:ar,textAlign:((sr=Rt)===null||sr===void 0?void 0:sr.textAlign)||G.Hg,lineHeight:Rt.lineHeight||(0,q.PT)(ar)})).containerId&&(dr=rt.find(function(gt){return(0,n.iB)(kt)&&gt.id===kt.containerId})||null),(0,n.oN)(kt,dr)}return kt.type==="arrow"&&(kt=(0,f.BE)(kt,{startArrowhead:Rt.startArrowhead,endArrowhead:Rt.endArrowhead})),kt}return bt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.V}});function he($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function be($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?he(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):he(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}(0,ye.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function($,pe){return{appState:be(be({},pe),{},{openMenu:pe.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function($){var pe=$.appState,Oe=$.updateData;return(0,m.jsx)(X.V,{type:"button",icon:b.RY,"aria-label":(0,de.t)("buttons.menu"),onClick:Oe,selected:pe.openMenu==="canvas"})}}),(0,ye.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function($,pe){return{appState:be(be({},pe),{},{openMenu:pe.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{visible:(0,n.RT)(Oe,(0,n.Lm)(pe)),type:"button",icon:b.DG,"aria-label":(0,de.t)("buttons.edit"),onClick:Te,selected:Oe.openMenu==="shape"})}}),(0,ye.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function($){return!(0,W.rB)()}},perform:function(){return(0,W.rB)()||(0,W.wo)(),(0,W.rB)()&&(0,W.Pr)(),{commitToHistory:!1}},keyTest:function($){return $.key===ue.tW.F&&!$[ue.tW.CTRL_OR_CMD]}});var Se=(0,ye.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function($,pe,Oe,Te){var Je=Te.focusContainer;return pe.openDialog==="help"&&Je(),{appState:be(be({},pe),{},{openDialog:pe.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function($){return $.key===ue.tW.QUESTION_MARK}}),Y=e(6655),we=e(6954);function te($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function _e($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?te(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):te(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}function Le($,pe){var Oe=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!Oe){if(Array.isArray($)||(Oe=function(tt,xt){if(tt){if(typeof tt=="string")return ze(tt,xt);var dt=Object.prototype.toString.call(tt).slice(8,-1);if(dt==="Object"&&tt.constructor&&(dt=tt.constructor.name),dt==="Map"||dt==="Set")return Array.from(tt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return ze(tt,xt)}}($))||pe&&$&&typeof $.length=="number"){Oe&&($=Oe);var Te=0,Je=function(){};return{s:Je,n:function(){return Te>=$.length?{done:!0}:{done:!1,value:$[Te++]}},e:function(tt){throw tt},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,mt=!0,bt=!1;return{s:function(){Oe=Oe.call($)},n:function(){var tt=Oe.next();return mt=tt.done,tt},e:function(tt){bt=!0,rt=tt},f:function(){try{mt||Oe.return==null||Oe.return()}finally{if(bt)throw rt}}}}function ze($,pe){(pe==null||pe>$.length)&&(pe=$.length);for(var Oe=0,Te=new Array(pe);Oe<pe;Oe++)Te[Oe]=$[Oe];return Te}var He=function($,pe){var Oe=(0,x.eD)((0,n.Lm)($),pe,!0);return Oe.length>=2&&!function(Te){if(Te.length>=2){var Je,rt=Le(Te[0].groupIds);try{var mt=function(){var tt=Je.value;if(Te.reduce(function(xt,dt){return xt&&(0,d.Nd)(dt,tt)},!0))return{v:!0}};for(rt.s();!(Je=rt.n()).done;){var bt=mt();if((0,Y.Z)(bt)==="object")return bt.v}}catch(tt){rt.e(tt)}finally{rt.f()}}return!1}(Oe)},Fe=(0,ye.z)({name:"group",trackEvent:{category:"element"},perform:function($,pe){var Oe=(0,x.eD)((0,n.Lm)($),pe,!0);if(Oe.length<2)return{appState:pe,elements:$,commitToHistory:!1};var Te=(0,d.iJ)(pe);if(Te.length===1){var Je=Te[0],rt=new Set((0,d.Fb)($,Je).map(function(kt){return kt.id})),mt=new Set(Oe.map(function(kt){return kt.id}));if(new Set([].concat((0,g.Z)(Array.from(rt)),(0,g.Z)(Array.from(mt)))).size===rt.size)return{appState:pe,elements:$,commitToHistory:!1}}var bt=(0,we.kb)(),tt=(0,W.xn)(Oe),xt=$.map(function(kt){return tt.get(kt.id)?(0,f.BE)(kt,{groupIds:(0,d.S_)(kt.groupIds,bt,pe.editingGroupId)}):kt}),dt=(0,d.Fb)(xt,bt),Ct=dt[dt.length-1],Ut=xt.lastIndexOf(Ct),Lt=xt.slice(Ut+1),Xt=xt.slice(0,Ut).filter(function(kt){return!(0,d.Nd)(kt,bt)}),Rt=[].concat((0,g.Z)(Xt),(0,g.Z)(dt),(0,g.Z)(Lt));return{appState:(0,d.F$)(bt,_e(_e({},pe),{},{selectedGroupIds:{}}),(0,n.Lm)(Rt)),elements:Rt,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function($,pe){return He($,pe)},keyTest:function($){return!$.shiftKey&&$[ue.tW.CTRL_OR_CMD]&&$.key===ue.tW.G},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!He(pe,Oe),type:"button",icon:(0,m.jsx)(b.BF,{theme:Oe.theme}),onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.group"),"  ").concat((0,W.uY)("CtrlOrCmd+G")),"aria-label":(0,de.t)("labels.group"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),Pe=(0,ye.z)({name:"ungroup",trackEvent:{category:"element"},perform:function($,pe){if((0,d.iJ)(pe).length===0)return{appState:pe,elements:$,commitToHistory:!1};var Oe=[],Te=$.map(function(rt){(0,t.Xh)(rt)&&Oe.push(rt.id);var mt=(0,d.h6)(rt.groupIds,pe.selectedGroupIds);return mt.length===rt.groupIds.length?rt:(0,f.BE)(rt,{groupIds:mt})}),Je=(0,d.bO)(_e(_e({},pe),{},{selectedGroupIds:{}}),(0,n.Lm)(Te));return Oe.forEach(function(rt){return Je.selectedElementIds[rt]=!1}),{appState:Je,elements:Te,commitToHistory:!0}},keyTest:function($){return $.shiftKey&&$[ue.tW.CTRL_OR_CMD]&&$.key===ue.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function($,pe){return(0,d.iJ)(pe).length>0},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{type:"button",hidden:(0,d.iJ)(Oe).length===0,icon:(0,m.jsx)(b.RJ,{theme:Oe.theme}),onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.ungroup"),"  ").concat((0,W.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,de.t)("labels.ungroup"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),J=e(8982),ve=e(487),xe=e.n(ve),Ie=e(631),De=e.n(Ie),Ze=e(2052),Re=e.n(Ze),Ue=e(4010),Ke=e.n(Ue),Ye=e(1469),lt=e.n(Ye),ht=e(9329),ot=e.n(ht),et=e(3729),nt={};nt.styleTagTransform=ot(),nt.setAttributes=Ke(),nt.insert=Re().bind(null,"head"),nt.domAPI=De(),nt.insertStyleElement=lt(),xe()(et.Z,nt),et.Z&&et.Z.locals&&et.Z.locals;var ct=e(9787),vt=function($){var pe=$.color,Oe=$.onClick,Te=$.name,Je=$.src,rt=(0,J.f)(Te),mt=(0,ct.useState)(!1),bt=(0,O.Z)(mt,2),tt=bt[0],xt=bt[1],dt=!tt&&Je,Ct=dt?void 0:{background:pe};return(0,m.jsx)("div",{className:"Avatar",style:Ct,onClick:Oe,children:dt?(0,m.jsx)("img",{className:"Avatar-img",src:Je,alt:rt,referrerPolicy:"no-referrer",onError:function(){return xt(!0)}}):rt})},Tt=e(2264);function Bt($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function Kt($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Bt(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Bt(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}(0,ye.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function($,pe,Oe){var Te=Oe;return Te?{appState:Kt(Kt(Kt({},pe),(0,Tt.s)({scenePoint:Te,viewportDimensions:{width:pe.width,height:pe.height},zoom:pe.zoom})),{},{openMenu:pe.openMenu==="canvas"?null:pe.openMenu}),commitToHistory:!1}:{appState:pe,commitToHistory:!1}},PanelComponent:function($){var pe=$.appState,Oe=$.updateData,Te=$.data,Je=(0,O.Z)(Te,2),rt=Je[0],mt=Je[1],bt=(0,J.X)(rt,pe),tt=bt.background,xt=bt.stroke;return(0,m.jsx)(vt,{color:tt,border:xt,onClick:function(){return Oe(mt.pointer)},name:mt.username||"",src:mt.avatarUrl})}});var Wt=e(2791);function Gt($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function Et($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Gt(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Gt(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var Pt=(0,ye.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function($,pe,Oe,Te){var Je=(0,x.eD)((0,n.Lm)($),pe,!0);return Je.some(function(rt){return rt.type==="image"})?{commitToHistory:!1,appState:Et(Et({},pe),{},{errorMessage:"Support for adding images to the library coming soon!"})}:Te.library.getLatestLibrary().then(function(rt){return Te.library.setLibrary([{id:(0,we.kb)(),status:"unpublished",elements:Je.map(Wt.OL),created:Date.now()}].concat((0,g.Z)(rt)))}).then(function(){return{commitToHistory:!1,appState:Et(Et({},pe),{},{toast:{message:(0,de.t)("toast.addedToLibrary")}})}}).catch(function(rt){return{commitToHistory:!1,appState:Et(Et({},pe),{},{errorMessage:rt.message})}})},contextItemLabel:"labels.addToLibrary"}),Nt=e(8925);function Qt($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function Dt($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Qt(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Qt(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var We=function($,pe,Oe){var Te=Oe.axis,Je=Oe.position,rt=(0,Nt.v2)($),mt=Te==="x"?["minX","maxX"]:["minY","maxY"],bt=(0,O.Z)(mt,2),tt=bt[0],xt=bt[1],dt={x:0,y:0};return Dt(Dt({},dt),{},Je==="start"?(0,a.Z)({},Te,pe[tt]-rt[tt]):Je==="end"?(0,a.Z)({},Te,pe[xt]-rt[xt]):(0,a.Z)({},Te,(pe[tt]+pe[xt])/2-(rt[tt]+rt[xt])/2))},Xe=function($,pe){return(0,x.eD)((0,n.Lm)($),pe).length>1},$e=function($,pe,Oe){var Te=function(rt,mt){var bt=(0,d.AI)(rt),tt=(0,Nt.v2)(rt);return bt.flatMap(function(xt){var dt=We(xt,tt,mt);return xt.map(function(Ct){return(0,f.BE)(Ct,{x:Ct.x+dt.x,y:Ct.y+dt.y})})})}((0,x.eD)((0,n.Lm)($),pe),Oe),Je=(0,W.xn)(Te);return $.map(function(rt){return Je.get(rt.id)||rt})};(0,ye.z)({name:"alignTop",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.key===ue.tW.ARROW_UP},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.Ct,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.alignTop"),"  ").concat((0,W.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,de.t)("labels.alignTop"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.key===ue.tW.ARROW_DOWN},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.HL,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.alignBottom"),"  ").concat((0,W.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,de.t)("labels.alignBottom"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.key===ue.tW.ARROW_LEFT},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.xs,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.alignLeft"),"  ").concat((0,W.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,de.t)("labels.alignLeft"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"alignRight",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&$.key===ue.tW.ARROW_RIGHT},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.mh,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.alignRight"),"  ").concat((0,W.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,de.t)("labels.alignRight"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.ST,onClick:function(){return Te(null)},title:(0,de.t)("labels.centerVertically"),"aria-label":(0,de.t)("labels.centerVertically"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:$e($,pe,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!Xe(pe,Oe),type:"button",icon:b.gK,onClick:function(){return Te(null)},title:(0,de.t)("labels.centerHorizontally"),"aria-label":(0,de.t)("labels.centerHorizontally"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}});function Ve($,pe){var Oe=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!Oe){if(Array.isArray($)||(Oe=function(tt,xt){if(tt){if(typeof tt=="string")return ft(tt,xt);var dt=Object.prototype.toString.call(tt).slice(8,-1);if(dt==="Object"&&tt.constructor&&(dt=tt.constructor.name),dt==="Map"||dt==="Set")return Array.from(tt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return ft(tt,xt)}}($))||pe&&$&&typeof $.length=="number"){Oe&&($=Oe);var Te=0,Je=function(){};return{s:Je,n:function(){return Te>=$.length?{done:!0}:{done:!1,value:$[Te++]}},e:function(tt){throw tt},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,mt=!0,bt=!1;return{s:function(){Oe=Oe.call($)},n:function(){var tt=Oe.next();return mt=tt.done,tt},e:function(tt){bt=!0,rt=tt},f:function(){try{mt||Oe.return==null||Oe.return()}finally{if(bt)throw rt}}}}function ft($,pe){(pe==null||pe>$.length)&&(pe=$.length);for(var Oe=0,Te=new Array(pe);Oe<pe;Oe++)Te[Oe]=$[Oe];return Te}var wt=function($,pe){return(0,x.eD)((0,n.Lm)($),pe).length>1},_t=function($,pe,Oe){var Te=function(rt,mt){var bt,tt=mt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],xt=(0,O.Z)(tt,4),dt=xt[0],Ct=xt[1],Ut=xt[2],Lt=xt[3],Xt=(0,Nt.v2)(rt),Rt=(0,d.AI)(rt).map(function(fr){return[fr,(0,Nt.v2)(fr)]}).sort(function(fr,_r){return fr[1][Ct]-_r[1][Ct]}),kt=0,hr=Ve(Rt);try{for(hr.s();!(bt=hr.n()).done;)kt+=bt.value[1][Lt]}catch(fr){hr.e(fr)}finally{hr.f()}var ur=(Xt[Lt]-kt)/(Rt.length-1);if(ur<0){var sr=Rt.findIndex(function(fr){return fr[1][dt]===Xt[dt]}),xr=Rt.findIndex(function(fr){return fr[1][Ut]===Xt[Ut]}),ar=(Rt[xr][1][Ct]-Rt[sr][1][Ct])/(Rt.length-1),dr=Rt[sr][1][Ct];return Rt.flatMap(function(fr,_r){var pr=(0,O.Z)(fr,2),Fr=pr[0],Ur=pr[1],wr={x:0,y:0};return _r!==sr&&_r!==xr&&(dr+=ar,wr[mt.axis]=dr-Ur[Ct]),Fr.map(function(Jr){return(0,f.BE)(Jr,{x:Jr.x+wr.x,y:Jr.y+wr.y})})})}var gt=Xt[dt];return Rt.flatMap(function(fr){var _r=(0,O.Z)(fr,2),pr=_r[0],Fr=_r[1],Ur={x:0,y:0};return Ur[mt.axis]=gt-Fr[dt],gt+=ur,gt+=Fr[Lt],pr.map(function(wr){return(0,f.BE)(wr,{x:wr.x+Ur.x,y:wr.y+Ur.y})})})}((0,x.eD)((0,n.Lm)($),pe),Oe),Je=(0,W.xn)(Te);return $.map(function(rt){return Je.get(rt.id)||rt})},Ot=((0,ye.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:_t($,pe,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function($){return!$[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.H},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!wt(pe,Oe),type:"button",icon:b.uD,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.distributeHorizontally"),"  ").concat((0,W.uY)("Alt+H")),"aria-label":(0,de.t)("labels.distributeHorizontally"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),(0,ye.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function($,pe){return{appState:pe,elements:_t($,pe,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function($){return!$[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.V},PanelComponent:function($){var pe=$.elements,Oe=$.appState,Te=$.updateData;return(0,m.jsx)(X.V,{hidden:!wt(pe,Oe),type:"button",icon:b.W5,onClick:function(){return Te(null)},title:"".concat((0,de.t)("labels.distributeVertically"),"  ").concat((0,W.uY)("Alt+V")),"aria-label":(0,de.t)("labels.distributeVertically"),visible:(0,x.N)((0,n.Lm)(pe),Oe)})}}),e(8634)),Yt=e(267),At=(0,ye.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function($,pe){return{elements:rr($,pe,"horizontal"),appState:pe,commitToHistory:!0}},keyTest:function($){return $.shiftKey&&$.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function($,pe){return function(Oe,Te){var Je=(0,x.eD)((0,n.Lm)(Oe),Te);return Je.length===1&&Je[0].type!=="text"}($,pe)}}),er=(0,ye.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function($,pe){return{elements:rr($,pe,"vertical"),appState:pe,commitToHistory:!0}},keyTest:function($){return $.shiftKey&&$.code==="KeyV"&&!$[ue.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function($,pe){return function(Oe,Te){return(0,x.eD)((0,n.Lm)(Oe),Te).length===1}($,pe)}}),rr=function($,pe,Oe){var Te=(0,x.eD)((0,n.Lm)($),pe);if(Te.length>1)return $;var Je=or(Te,pe,Oe),rt=(0,W.xn)(Je);return $.map(function(mt){return rt.get(mt.id)||mt})},or=function($,pe,Oe){return $.forEach(function(Te){lr(Te,pe),Oe==="vertical"&&jr(Te,Math.PI)}),$},lr=function($,pe){var Oe=$.x,Te=$.y,Je=$.width,rt=$.height,mt=(0,Ot.LW)($.angle);(0,f.DR)($,{angle:(0,Ot.LW)(0)});var bt=(0,Yt.PC)($,pe.zoom),tt=!0,xt=bt.nw;if(xt||(tt=!1,xt=bt.ne)){var dt,Ct=0;(0,t.bt)($)&&$.points.length<3&&(Ct=2*$.points.reduce(function(sr,xr){return Math.max(sr,xr[0])},0)-$.width),(0,t.bt)($)&&(dt=(0,Nt.Ut)($,$.points));var Ut=(0,Nt.qf)($);if((0,t.bt)($)&&$.points.length<3){for(var Lt=1;Lt<$.points.length;Lt++)o._.movePoints($,[{index:Lt,point:[-$.points[Lt][0],$.points[Lt][1]]}]);o._.normalizePoints($)}else{var Xt=dt?dt[2]-dt[0]:Ut[2]-Ut[0],Rt=dt?[dt[0],dt[1]]:[Ut[0],Ut[1]];(0,Ot.l2)(new Map().set($.id,$),!1,$,tt?"nw":"ne",!0,tt?Rt[0]+Xt:Rt[0]-Xt,Rt[1])}var kt=(0,Ot.LW)(2*Math.PI-mt);if(kt<0&&(kt=(0,Ot.LW)(kt+2*Math.PI)),(0,f.DR)($,{angle:kt}),(0,f.DR)($,{x:Oe+Ct,y:Te,width:Je,height:rt}),(0,C.Ww)($),dt&&(0,t.bt)($)){var hr=(0,Nt.Ut)($,$.points),ur=dt[0]-hr[0]+(dt[2]-hr[2]);(0,f.DR)($,{x:$.x+.5*ur,y:$.y,width:Je,height:rt})}}else(0,f.DR)($,{angle:mt})},jr=function($,pe){var Oe=$.x,Te=$.y,Je=(0,Ot.LW)($.angle+pe);Je<0&&(Je=(0,Ot.LW)(2*Math.PI+Je)),(0,f.DR)($,{angle:Je}),(0,f.DR)($,{x:Oe,y:Te})},zt=e(4688);function Ft($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function $t($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Ft(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Ft(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var cr=(0,ye.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function($){return!$.gridSize}},perform:function($,pe){return{appState:$t($t({},pe),{},{gridSize:this.checked(pe)?null:G.k}),commitToHistory:!1}},checked:function($){return $.gridSize!==null},predicate:function($,pe,Oe){return Oe.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function($){return $[ue.tW.CTRL_OR_CMD]&&$.code===ue.aU.QUOTE}});function Zr($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function Hr($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Zr(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Zr(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var Yr=(0,ye.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function($){return!$.zenModeEnabled}},perform:function($,pe){return{appState:Hr(Hr({},pe),{},{zenModeEnabled:!this.checked(pe)}),commitToHistory:!1}},checked:function($){return $.zenModeEnabled},predicate:function($,pe,Oe){return Oe.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function($){return!$[ue.tW.CTRL_OR_CMD]&&$.altKey&&$.code===ue.aU.Z}}),Xr=e(4958),Dr=e(202),gr=e(4929);function Wr($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function Ir($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?Wr(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):Wr(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var qr=(0,ye.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function($,pe){var Oe=(0,x.eD)($,pe,!0);if(!Oe.length)return!1;var Te=Gr(Oe),Je=(0,W.xn)(Oe),rt=Te==="lock";return{elements:$.map(function(mt){return Je.has(mt.id)?(0,f.BE)(mt,{locked:rt}):mt}),appState:Ir(Ir({},pe),{},{selectedLinearElement:rt?null:pe.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function($,pe){var Oe=(0,x.eD)($,pe,!1);return Oe.length===1?Oe[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":Gr(Oe)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function($,pe,Oe){return $.key.toLocaleLowerCase()===ue.tW.L&&$[ue.tW.CTRL_OR_CMD]&&$.shiftKey&&(0,x.eD)(Oe,pe,!1).length>0}}),Gr=function($){return $.some(function(pe){return!pe.locked})?"lock":"unlock"};function nn($,pe){var Oe=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);pe&&(Te=Te.filter(function(Je){return Object.getOwnPropertyDescriptor($,Je).enumerable})),Oe.push.apply(Oe,Te)}return Oe}function on($){for(var pe=1;pe<arguments.length;pe++){var Oe=arguments[pe]!=null?arguments[pe]:{};pe%2?nn(Object(Oe),!0).forEach(function(Te){(0,a.Z)($,Te,Oe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Oe)):nn(Object(Oe)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(Oe,Te))})}return $}var fn=(0,ye.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function($,pe){var Oe=(0,x.eD)($,pe);return!(Oe.length!==1||!(0,t.bt)(Oe[0]))},perform:function($,pe,Oe,Te){var Je,rt=(0,x.eD)((0,n.Lm)($),pe,!0)[0],mt=((Je=pe.editingLinearElement)===null||Je===void 0?void 0:Je.elementId)===rt.id?null:new o._(rt,Te.scene);return{appState:on(on({},pe),{},{editingLinearElement:mt}),commitToHistory:!1}},contextItemLabel:function($,pe){var Oe,Te=(0,x.eD)((0,n.Lm)($),pe,!0)[0];return((Oe=pe.editingLinearElement)===null||Oe===void 0?void 0:Oe.elementId)===Te.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(me,Q,e){e.d(Q,{N:function(){return w},z:function(){return g}});var w=[],g=function(f){return w=w.concat(f),f}},785:function(me,Q,e){e.d(Q,{C:function(){return x}});var w=e(2335),g=e(8211),f=e(6340),d={toggleTheme:[(0,f.uY)("Shift+Alt+D")],saveScene:[(0,f.uY)("CtrlOrCmd+S")],loadScene:[(0,f.uY)("CtrlOrCmd+O")],clearCanvas:[(0,f.uY)("CtrlOrCmd+Delete")],imageExport:[(0,f.uY)("CtrlOrCmd+Shift+E")],cut:[(0,f.uY)("CtrlOrCmd+X")],copy:[(0,f.uY)("CtrlOrCmd+C")],paste:[(0,f.uY)("CtrlOrCmd+V")],copyStyles:[(0,f.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,f.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,f.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,f.uY)("Delete")],duplicateSelection:[(0,f.uY)("CtrlOrCmd+D"),(0,f.uY)("Alt+".concat((0,g.t)("helpDialog.drag")))],sendBackward:[(0,f.uY)("CtrlOrCmd+[")],bringForward:[(0,f.uY)("CtrlOrCmd+]")],sendToBack:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+["):(0,f.uY)("CtrlOrCmd+Shift+[")],bringToFront:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+]"):(0,f.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,f.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,f.uY)("CtrlOrCmd+G")],ungroup:[(0,f.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,f.uY)("CtrlOrCmd+'")],zenMode:[(0,f.uY)("Alt+Z")],stats:[(0,f.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,f.uY)("Shift+H")],flipVertical:[(0,f.uY)("Shift+V")],viewMode:[(0,f.uY)("Alt+R")],hyperlink:[(0,f.uY)("CtrlOrCmd+K")],toggleLock:[(0,f.uY)("CtrlOrCmd+Shift+L")]},x=function(D){var W=d[D];return W&&W.length>0?W[0]:""}},7047:function(me,Q,e){e.d(Q,{L:function(){return w}});var w=function(g,f,d,x){try{if(typeof window>"u"||{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.3",IS_EXCALIDRAW_NPM_PACKAGE:!0}.JEST_WORKER_ID)return;window.gtag&&window.gtag("event",f,{event_category:g,event_label:d,value:x}),window._paq&&window._paq.push(["trackEvent",g,f,d,x])}catch(D){console.error("error during analytics",D)}}},8897:function(me,Q,e){e.d(Q,{EN:function(){return ee},eS:function(){return B},im:function(){return D},l$:function(){return le},s:function(){return R}});var w=e(5284),g=e(2335),f=e(8211),d=e(6340),x=g.ZB.includes(devicePixelRatio)?devicePixelRatio:1,D=function(){return{showWelcomeScreen:!1,theme:g.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:g.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:g.HN.fillStyle,currentItemFontFamily:g.rk,currentItemFontSize:g.n5,currentItemOpacity:g.HN.opacity,currentItemRoughness:g.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:g.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:g.HN.strokeStyle,currentItemStrokeWidth:g.HN.strokeWidth,currentItemTextAlign:g.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:g.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:x,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,f.t)("labels.untitled"),"-").concat((0,d.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:w.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},W={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},i=function(y,ce){for(var fe={},Ce=0,ue=Object.keys(y);Ce<ue.length;Ce++){var de=ue[Ce],ye=W[de];if(ye!=null&&ye[ce]){var b=y[de];fe[de]=b}}return fe},R=function(y){return i(y,"export")},B=function(y){return i(y,"server")},ee=function(y){return y.activeTool.type==="eraser"},le=function(y){return y.activeTool.type==="hand"}},5674:function(me,Q,e){e.d(Q,{dz:function(){return b},i$:function(){return Ce},ps:function(){return h}});var w=e(1930),g=e(7169),f=e(2577),d=e(56),x=e(2335),D=e(1047),W=e(6954);function i(c,a){var n=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!n){if(Array.isArray(c)||(n=function(X,C){if(X){if(typeof X=="string")return R(X,C);var q=Object.prototype.toString.call(X).slice(8,-1);if(q==="Object"&&X.constructor&&(q=X.constructor.name),q==="Map"||q==="Set")return Array.from(X);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return R(X,C)}}(c))||a&&c&&typeof c.length=="number"){n&&(c=n);var t=0,o=function(){};return{s:o,n:function(){return t>=c.length?{done:!0}:{done:!1,value:c[t++]}},e:function(X){throw X},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,s=!0,S=!1;return{s:function(){n=n.call(c)},n:function(){var X=n.next();return s=X.done,X},e:function(X){S=!0,l=X},f:function(){try{s||n.return==null||n.return()}finally{if(S)throw l}}}}function R(c,a){(a==null||a>c.length)&&(a=c.length);for(var n=0,t=new Array(a);n<a;n++)t[n]=c[n];return t}function B(c,a){var n=Object.keys(c);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(c);a&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),n.push.apply(n,t)}return n}function ee(c){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?B(Object(n),!0).forEach(function(t){(0,g.Z)(c,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(n,t))})}return c}var le=32,y=12,ce=256,fe="NOT_SPREADSHEET",Ce="VALID_SPREADSHEET",ue=function(c){var a=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(c);return a?parseFloat("".concat((a[1]||a[2])+a[3]).replace(/,/g,"")):null},de=function(c,a){return c.slice(1).every(function(n){return ue(n[a])!==null})},ye=function(c){var a=c[0].length;if(a>2)return{type:fe,reason:"More than 2 columns"};if(a===1){if(!de(c,0))return{type:fe,reason:"Value is not numeric"};var n=ue(c[0][0])===null,t=(n?c.slice(1):c).map(function(_){return ue(_[0])});return t.length<2?{type:fe,reason:"Less than two rows"}:{type:Ce,spreadsheet:{title:n?c[0][0]:null,labels:null,values:t}}}var o=de(c,0),l=de(c,1);if(!o&&!l)return{type:fe,reason:"Value is not numeric"};var s=l?[0,1]:[1,0],S=(0,f.Z)(s,2),X=S[0],C=S[1],q=ue(c[0][C])===null,A=q?c.slice(1):c;return A.length<2?{type:fe,reason:"Less than 2 rows"}:{type:Ce,spreadsheet:{title:q?c[0][C]:null,labels:A.map(function(_){return _[X]}),values:A.map(function(_){return ue(_[C])})}}},b=function(c){var a=c.trim().split(`
`).map(function(l){return l.trim().split("	")});if(a.length&&a[0].length!==2&&(a=c.trim().split(`
`).map(function(l){return l.trim().split(",")})),a.length===0)return{type:fe,reason:"No values"};var n=a[0].length;if(!a.every(function(l){return l.length===n}))return{type:fe,reason:"All rows don't have same number of columns"};var t=ye(a);if(t.type!==Ce){var o=ye(function(l){for(var s=[],S=0;S<l[0].length;S++){for(var X=[],C=0;C<l.length;C++)X.push(l[C][S]);s.push(X)}return s}(a));if(o.type===Ce)return o}return t},G=d.Z.elementBackground.slice(2,d.Z.elementBackground.length),m={strokeColor:d.Z.elementStroke[0]},u=function(c){return{chartWidth:44*c.values.length+y,chartHeight:280}},I=function(c,a,n,t,o,l){var s=u(c),S=s.chartWidth,X=s.chartHeight,C=c.title?(0,D.VL)(ee(ee({backgroundColor:o,groupIds:[t]},m),{},{text:c.title,x:a+S/2,y:n-ce-24-x.n5,roundness:null,textAlign:"center"})):null,q=l?(0,D.Up)(ee(ee({backgroundColor:o,groupIds:[t]},m),{},{type:"rectangle",x:a,y:n-X,width:S,height:X,strokeColor:d.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,w.Z)(q?[q]:[]),(0,w.Z)(C?[C]:[]),(0,w.Z)(function(A,_,ae,U,H){var j;return((j=A.labels)===null||j===void 0?void 0:j.map(function(F,T){return(0,D.VL)(ee(ee({groupIds:[U],backgroundColor:H},m),{},{text:F.length>8?"".concat(F.slice(0,5),"..."):F,x:_+44*T+24,y:ae+6,width:le,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(c,a,n,t,o)),(0,w.Z)(function(A,_,ae,U,H){var j=(0,D.VL)(ee(ee({groupIds:[U],backgroundColor:H},m),{},{x:_-y,y:ae-y,text:"0",textAlign:"right"}));return[j,(0,D.VL)(ee(ee({groupIds:[U],backgroundColor:H},m),{},{x:_-y,y:ae-ce-j.height/2,text:Math.max.apply(Math,(0,w.Z)(A.values)).toLocaleString(),textAlign:"right"}))]}(c,a,n,t,o)),(0,w.Z)(function(A,_,ae,U,H){var j=u(A),F=j.chartWidth,T=j.chartHeight;return[(0,D.y8)(ee(ee({backgroundColor:H,groupIds:[U]},m),{},{type:"line",x:_,y:ae,startArrowhead:null,endArrowhead:null,width:F,points:[[0,0],[F,0]]})),(0,D.y8)(ee(ee({backgroundColor:H,groupIds:[U]},m),{},{type:"line",x:_,y:ae,startArrowhead:null,endArrowhead:null,height:T,points:[[0,0],[0,-T]]})),(0,D.y8)(ee(ee({backgroundColor:H,groupIds:[U]},m),{},{type:"line",x:_,y:ae-ce-y,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:F,opacity:50,points:[[0,0],[F,0]]}))]}(c,a,n,t,o)))},h=function(c,a,n,t){return c==="line"?function(o,l,s){var S,X=Math.max.apply(Math,(0,w.Z)(o.values)),C=(0,W.kb)(),q=G[Math.floor(Math.random()*G.length)],A=0,_=[],ae=i(o.values);try{for(ae.s();!(S=ae.n()).done;){var U=S.value,H=44*A,j=-U/X*ce;_.push([H,j]),A++}}catch(p){ae.e(p)}finally{ae.f()}var F=Math.max.apply(Math,(0,w.Z)(_.map(function(p){return p[0]}))),T=Math.max.apply(Math,(0,w.Z)(_.map(function(p){return p[1]}))),K=Math.min.apply(Math,(0,w.Z)(_.map(function(p){return p[0]}))),ie=Math.min.apply(Math,(0,w.Z)(_.map(function(p){return p[1]}))),M=(0,D.y8)(ee(ee({backgroundColor:q,groupIds:[C]},m),{},{type:"line",x:l+y+16,y:s-y,startArrowhead:null,endArrowhead:null,height:T-ie,width:F-K,strokeWidth:2,points:_})),O=o.values.map(function(p,E){var v=44*E+6,Z=-p/X*ce+6;return(0,D.Up)(ee(ee({backgroundColor:q,groupIds:[C]},m),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:l+v+16,y:s+Z-24,width:y,height:y}))}),z=o.values.map(function(p,E){var v=44*E+6,Z=p/X*ce+6+y;return(0,D.y8)(ee(ee({backgroundColor:q,groupIds:[C]},m),{},{type:"line",x:l+v+16+6,y:s-Z,startArrowhead:null,endArrowhead:null,height:Z,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Z]]}))});return[].concat((0,w.Z)(I(o,l,s,C,q,x.Vi.DEVELOPMENT==="production")),[M],(0,w.Z)(z),(0,w.Z)(O))}(a,n,t):function(o,l,s){var S=Math.max.apply(Math,(0,w.Z)(o.values)),X=(0,W.kb)(),C=G[Math.floor(Math.random()*G.length)],q=o.values.map(function(A,_){var ae=A/S*ce;return(0,D.Up)(ee(ee({backgroundColor:C,groupIds:[X]},m),{},{type:"rectangle",x:l+44*_+y,y:s-ae-y,width:le,height:ae}))});return[].concat((0,w.Z)(q),(0,w.Z)(I(o,l,s,X,C,x.Vi.DEVELOPMENT==="production")))}(a,n,t)}},8982:function(me,Q,e){e.d(Q,{X:function(){return g},f:function(){return f}});var w=e(56),g=function(d,x){if(x!=null&&x.collaborators){var D=x.collaborators.get(d);if(D!=null&&D.color)return D.color}var W=d.split("").reduce(function(B,ee){return B+ee.charCodeAt(0)},0),i=w.Z.elementBackground.slice(3),R=w.Z.elementStroke.slice(3);return{background:i[W%i.length],stroke:R[W%R.length]}},f=function(d){return d!=null&&d.trim()?d.trim()[0].toUpperCase():"?"}},6665:function(me,Q,e){e.d(Q,{dd:function(){return I},mQ:function(){return m},uR:function(){return u},vQ:function(){return de},vt:function(){return Ce},wx:function(){return fe}});var w=e(7169),g=e(8950),f=e(2975),d=e.n(f),x=e(4162),D=e(5674),W=e(2335),i=e(1974),R=e(6340);function B(c,a){var n=Object.keys(c);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(c);a&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),n.push.apply(n,t)}return n}function ee(c){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?B(Object(n),!0).forEach(function(t){(0,w.Z)(c,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(n,t))})}return c}var le="",y=!1,ce="clipboard"in navigator&&"readText"in navigator.clipboard,fe="clipboard"in navigator&&"writeText"in navigator.clipboard,Ce="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ue=function(c){return!(![W.r8.excalidraw,W.r8.excalidrawClipboard].includes(c==null?void 0:c.type)||!Array.isArray(c.elements))},de=function(){var c=(0,g.Z)(d().mark(function a(n,t,o){var l,s;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return l={type:W.r8.excalidrawClipboard,elements:n,files:o?n.reduce(function(X,C){return(0,i.wi)(C)&&o[C.fileId]&&(X[C.fileId]=o[C.fileId]),X},{}):void 0},s=JSON.stringify(l),le=s,S.prev=3,y=!1,S.next=7,I(s);case 7:S.next=13;break;case 9:S.prev=9,S.t0=S.catch(3),y=!0,console.error(S.t0);case 13:case"end":return S.stop()}},a,null,[[3,9]])}));return function(a,n,t){return c.apply(this,arguments)}}(),ye=function(){if(!le)return{};try{return JSON.parse(le)}catch(c){return console.error(c),{}}},b=function(c){var a=(0,D.dz)(c);return a.type===D.i$?{spreadsheet:a.spreadsheet}:null},G=function(){var c=(0,g.Z)(d().mark(function a(n){var t,o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,!n){l.next=5;break}l.t0=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("text/plain"),l.next=11;break;case 5:if(l.t1=ce,!l.t1){l.next=10;break}return l.next=9,navigator.clipboard.readText();case 9:l.t1=l.sent;case 10:l.t0=l.t1;case 11:return o=l.t0,l.abrupt("return",(o||"").trim());case 15:return l.prev=15,l.t2=l.catch(0),l.abrupt("return","");case 18:case"end":return l.stop()}},a,null,[[0,15]])}));return function(a){return c.apply(this,arguments)}}(),m=function(){var c=(0,g.Z)(d().mark(function a(n){var t,o,l,s,S,X=arguments;return d().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return t=X.length>1&&X[1]!==void 0&&X[1],C.next=3,G(n);case 3:if((o=C.sent)&&(t||!o.includes(x.oj))){C.next=6;break}return C.abrupt("return",ye());case 6:if(!(l=!t&&b(o))){C.next=9;break}return C.abrupt("return",l);case 9:if(s=ye(),C.prev=10,S=JSON.parse(o),!ue(S)){C.next=14;break}return C.abrupt("return",{elements:S.elements,files:S.files,text:t?JSON.stringify(S.elements,null,2):void 0});case 14:C.next=18;break;case 16:C.prev=16,C.t0=C.catch(10);case 18:return C.abrupt("return",y&&s.elements?ee(ee({},s),{},{text:t?JSON.stringify(s.elements,null,2):void 0}):{text:o});case 19:case"end":return C.stop()}},a,null,[[10,16]])}));return function(a){return c.apply(this,arguments)}}(),u=function(){var c=(0,g.Z)(d().mark(function a(n){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.write([new window.ClipboardItem((0,w.Z)({},W.LO.png,n))]);case 3:case 21:t.next=24;break;case 5:if(t.prev=5,t.t0=t.catch(0),!(0,R.y8)(n)){t.next=23;break}return t.t1=navigator.clipboard,t.t2=window.ClipboardItem,t.t3=w.Z,t.t4={},t.t5=W.LO.png,t.next=15,n;case 15:return t.t6=t.sent,t.t7=(0,t.t3)(t.t4,t.t5,t.t6),t.t8=new t.t2(t.t7),t.t9=[t.t8],t.next=21,t.t1.write.call(t.t1,t.t9);case 23:throw t.t0;case 24:case"end":return t.stop()}},a,null,[[0,5]])}));return function(a){return c.apply(this,arguments)}}(),I=function(){var c=(0,g.Z)(d().mark(function a(n){var t;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=!1,!fe){o.next=11;break}return o.prev=2,o.next=5,navigator.clipboard.writeText(n||"");case 5:t=!0,o.next=11;break;case 8:o.prev=8,o.t0=o.catch(2),console.error(o.t0);case 11:if(t||h(n||" ")){o.next=13;break}throw new Error("couldn't copy");case 13:case"end":return o.stop()}},a,null,[[2,8]])}));return function(a){return c.apply(this,arguments)}}(),h=function(c){var a=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[a?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(t,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=c,document.body.appendChild(n);var o=!1;try{n.select(),n.setSelectionRange(0,n.value.length),o=document.execCommand("copy")}catch(l){console.error(l)}return n.remove(),o}},56:function(me,Q,e){var w=e(1930),g=e(5284),f=function(d){return[g.red[d],g.pink[d],g.grape[d],g.violet[d],g.indigo[d],g.blue[d],g.cyan[d],g.teal[d],g.green[d],g.lime[d],g.yellow[d],g.orange[d]]};Q.Z={canvasBackground:[g.white,g.gray[0],g.gray[1]].concat((0,w.Z)(f(0))),elementBackground:["transparent",g.gray[4],g.gray[6]].concat((0,w.Z)(f(6))),elementStroke:[g.black,g.gray[8],g.gray[7]].concat((0,w.Z)(f(9)))}},6798:function(me,Q,e){e.d(Q,{o:function(){return B},w:function(){return R}});var w=e(2577),g=e(4739),f=e(6710),d=e(8211),x=e(9487),D=e(2134),W=e(7046),i=e(4512),R=(0,g.cn)(null),B=function(){var ee=(0,g.KO)(R,x.yE),le=(0,w.Z)(ee,2),y=le[0],ce=le[1],fe=(0,D.eh)();return y&&y==="clearCanvas"?(0,i.jsx)(W.Z,{onConfirm:function(){fe.executeAction(f.mo),ce(null)},onCancel:function(){return ce(null)},title:(0,d.t)("clearCanvasDialog.title"),children:(0,i.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,d.t)("alerts.clearReset")]})}):null}},2134:function(me,Q,e){e.d(Q,{ZP:function(){return fi},Fy:function(){return an},eh:function(){return ui},gF:function(){return _o},J0:function(){return Kn},bd:function(){return Yn},n9:function(){return Gn}});var w=e(6655),g=e(2577),f=e(1930),d=e(8950),x=e(8821),D=e(5169),W=e(3173),i=e(2248),R=e(7245),B=e(2312),ee=e(7169),le=e(2975),y=e.n(le),ce=e(9787),fe=e.n(ce),Ce=e(5156),ue=e(8234),de=e(45),ye=e(5605),b=e(6710),G=e(3646),m=e(1319),u=e(8211),I=e(6066),h=e(1935),c=e(8290),a=e(6340),n=e(2335),t=e(4512);function o(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function l(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?o(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):o(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var s=function(r,k,V){var re=!1;if(!(k.multiElement||k.resizingElement||k.editingElement||k.draggingElement)){var je=V();if(je===null)return{commitToHistory:re};var ne=(0,a.xn)(r),L=je.elements,ke=(0,a.xn)(L),Ee=r.filter(function(Ae){return!ke.has(Ae.id)}),Me=L.map(function(Ae){return(0,h.BE)(ne.get(Ae.id)||Ae,Ae)}).concat(Ee.map(function(Ae){return(0,h.BE)(Ae,{isDeleted:!0})}));return(0,c.$q)(Me,Ee),{elements:Me,appState:l(l({},k),je.appState),commitToHistory:re,syncHistory:!0}}return{commitToHistory:re}},S=e(7047),X=function(r,k,V,re,je,ne){if(r.trackEvent)try{(0,w.Z)(r.trackEvent)==="object"&&(!r.trackEvent.predicate||r.trackEvent.predicate(V,re,ne))&&(0,S.L)(r.trackEvent.category,r.trackEvent.action||r.name,"".concat(k," (").concat(je.device.isMobile?"mobile":"desktop",")"))}catch(L){console.error("error while logging action:",L)}},C=function(){function r(k,V,re,je){var ne=this;(0,x.Z)(this,r),this.actions={},this.renderAction=function(L,ke){var Ee=ne.app.props.UIOptions.canvasActions;if(ne.actions[L]&&"PanelComponent"in ne.actions[L]&&(!(L in Ee)||Ee[L])){var Me=ne.actions[L],Ae=Me.PanelComponent;Ae.displayName="PanelComponent";var Ne=ne.getElementsIncludingDeleted(),Be=ne.getAppState();return(0,t.jsx)(Ae,{elements:ne.getElementsIncludingDeleted(),appState:ne.getAppState(),updateData:function(qe){X(Me,"ui",Be,Ne,ne.app,qe),ne.updater(Me.perform(ne.getElementsIncludingDeleted(),ne.getAppState(),qe,ne.app))},appProps:ne.app.props,data:ke})}return null},this.isActionEnabled=function(L){var ke=ne.getElementsIncludingDeleted(),Ee=ne.getAppState();return!L.predicate||L.predicate(ke,Ee,ne.app.props,ne.app)},this.updater=function(L){if(!L||!("then"in L))return k(L);L.then(function(ke){return k(ke)})},this.getAppState=V,this.getElementsIncludingDeleted=re,this.app=je}return(0,D.Z)(r,[{key:"registerAction",value:function(k){this.actions[k.name]=k}},{key:"registerAll",value:function(k){var V=this;k.forEach(function(re){return V.registerAction(re)})}},{key:"handleKeyDown",value:function(k){var V=this,re=this.app.props.UIOptions.canvasActions,je=Object.values(this.actions).sort(function(Ee,Me){return(Me.keyPriority||0)-(Ee.keyPriority||0)}).filter(function(Ee){return(!(Ee.name in re)||re[Ee.name])&&Ee.keyTest&&Ee.keyTest(k,V.getAppState(),V.getElementsIncludingDeleted())});if(je.length!==1)return je.length>1&&console.warn("Canceling as multiple actions match this shortcut",je),!1;var ne=je[0];if(this.getAppState().viewModeEnabled&&ne.viewMode!==!0)return!1;var L=this.getElementsIncludingDeleted(),ke=this.getAppState();return X(ne,"keyboard",ke,L,this.app,null),k.preventDefault(),k.stopPropagation(),this.updater(je[0].perform(L,ke,null,this.app)),!0}},{key:"executeAction",value:function(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",re=this.getElementsIncludingDeleted(),je=this.getAppState(),ne=null;X(k,V,je,re,this.app,ne),this.updater(k.perform(re,je,ne,this.app))}}]),r}(),q=e(7901),A=e(8897),_=e(6665),ae=e(9485),U=e(7053),H=e(679),j=e(1047),F=e(6938),T=e(2791),K=e(1974),ie=function(r){var k=Array.from(r.values());return{x:O(k,function(V){return V.x})/k.length,y:O(k,function(V){return V.y})/k.length}},M=function(r){var k=(0,g.Z)(r,2),V=k[0],re=k[1];return Math.hypot(V.x-re.x,V.y-re.y)},O=function(r,k){return r.reduce(function(V,re){return V+k(re)},0)},z=e(242);function p(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function E(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?p(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):p(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var v=function(r){return{selectedElementIds:r.selectedElementIds,selectedGroupIds:r.selectedGroupIds,viewBackgroundColor:r.viewBackgroundColor,editingLinearElement:r.editingLinearElement,editingGroupId:r.editingGroupId,name:r.name}},Z=function(){function r(){var k=this;(0,x.Z)(this,r),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(V,re){return k.dehydrateHistoryEntry({appState:v(V),elements:re.reduce(function(je,ne){if((0,K.bt)(ne)&&V.multiElement&&V.multiElement.id===ne.id){if(V.multiElement&&V.multiElement.id===ne.id&&ne.points.length<2)return je;je.push(E(E({},ne),{},{points:ne.lastCommittedPoint!==ne.points[ne.points.length-1]?ne.points.slice(0,-1):ne.points}))}else je.push(ne);return je},[])})}}return(0,D.Z)(r,[{key:"hydrateHistoryEntry",value:function(k){var V=this,re=k.appState,je=k.elements;return{appState:JSON.parse(re),elements:je.map(function(ne){var L,ke=(L=V.elementCache.get(ne.id))===null||L===void 0?void 0:L.get(ne.versionNonce);if(!ke)throw new Error("Element not found: ".concat(ne.id,":").concat(ne.versionNonce));return ke})}}},{key:"dehydrateHistoryEntry",value:function(k){var V=this,re=k.appState,je=k.elements;return{appState:JSON.stringify(re),elements:je.map(function(ne){V.elementCache.has(ne.id)||V.elementCache.set(ne.id,new Map);var L=V.elementCache.get(ne.id);return L.has(ne.versionNonce)||L.set(ne.versionNonce,(0,T.OL)(ne)),{id:ne.id,versionNonce:ne.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var k=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(V){return k.hydrateHistoryEntry(V)}),redoStack:this.redoStack.map(function(V){return k.hydrateHistoryEntry(V)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(k){var V,re=this.lastEntry;if(!re||k.elements.length!==re.elements.length)return!0;for(var je=k.elements.length-1;je>-1;je--){var ne=k.elements[je],L=re.elements[je];if(!ne||!L||ne.id!==L.id||ne.versionNonce!==L.versionNonce)return!0}for(V in k.appState){var ke,Ee;if(!(V==="editingLinearElement"&&((ke=k.appState[V])===null||ke===void 0?void 0:ke.elementId)===((Ee=re.appState[V])===null||Ee===void 0?void 0:Ee.elementId))&&V!=="selectedElementIds"&&V!=="selectedGroupIds"&&k.appState[V]!==re.appState[V])return!0}return!1}},{key:"pushEntry",value:function(k,V){var re=this.generateEntry(k,V),je=this.hydrateHistoryEntry(re);if(je){if(!this.shouldCreateEntry(je))return;this.stateHistory.push(re),this.lastEntry=je,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var k=this.redoStack.pop();return k!==void 0?(this.stateHistory.push(k),this.hydrateHistoryEntry(k)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var k=this.stateHistory.pop(),V=this.stateHistory[this.stateHistory.length-1];return k!==void 0?(this.redoStack.push(k),this.hydrateHistoryEntry(V)):null}},{key:"setCurrentState",value:function(k,V){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(k,V))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(k,V){this.recording&&(this.pushEntry(k,V),this.recording=!1)}}]),r}(),P=e(6552),oe=e(3547),se=e(3063),N=e(75),ge=e(1564),he=e(746),be=[{icon:G.zu,value:"selection",key:I.tW.V,numericKey:I.tW[1],fillable:!0},{icon:G.OW,value:"rectangle",key:I.tW.R,numericKey:I.tW[2],fillable:!0},{icon:G.nb,value:"diamond",key:I.tW.D,numericKey:I.tW[3],fillable:!0},{icon:G.Re,value:"ellipse",key:I.tW.O,numericKey:I.tW[4],fillable:!0},{icon:G.e0,value:"arrow",key:I.tW.A,numericKey:I.tW[5],fillable:!0},{icon:G.zb,value:"line",key:I.tW.L,numericKey:I.tW[6],fillable:!0},{icon:G.Pm,value:"freedraw",key:[I.tW.P,I.tW.X],numericKey:I.tW[7],fillable:!1},{icon:G.VL,value:"text",key:I.tW.T,numericKey:I.tW[8],fillable:!1},{icon:G.XB,value:"image",key:null,numericKey:I.tW[9],fillable:!1},{icon:G.$q,value:"eraser",key:I.tW.E,numericKey:I.tW[0],fillable:!1}],Se=e(2891),Y=e(487),we=e.n(Y),te=e(631),_e=e.n(te),Le=e(2052),ze=e.n(Le),He=e(4010),Fe=e.n(He),Pe=e(1469),J=e.n(Pe),ve=e(9329),xe=e.n(ve),Ie=e(6578),De={};De.styleTagTransform=xe(),De.setAttributes=Fe(),De.insert=ze().bind(null,"head"),De.domAPI=_e(),De.insertStyleElement=J(),we()(Ie.Z,De),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var Ze=e(785),Re="separator",Ue=fe().memo(function(r){var k=r.actionManager,V=r.items,re=r.top,je=r.left,ne=_o(),L=Gn(),ke=Yn(),Ee=V.reduce(function(Me,Ae){return!Ae||Ae!==Re&&Ae.predicate&&!Ae.predicate(ke,ne,k.app.props,k.app)||Me.push(Ae),Me},[]);return(0,t.jsx)(Se.J,{onCloseRequest:function(){return L({contextMenu:null})},top:re,left:je,fitInViewport:!0,offsetLeft:ne.offsetLeft,offsetTop:ne.offsetTop,viewportWidth:ne.width,viewportHeight:ne.height,children:(0,t.jsx)("ul",{className:"context-menu",onContextMenu:function(Me){return Me.preventDefault()},children:Ee.map(function(Me,Ae){var Ne;if(Me===Re)return Ee[Ae-1]&&Ee[Ae-1]!==Re?(0,t.jsx)("hr",{className:"context-menu-item-separator"},Ae):null;var Be=Me.name,qe="";return Me.contextItemLabel&&(qe=typeof Me.contextItemLabel=="function"?(0,u.t)(Me.contextItemLabel(ke,ne)):(0,u.t)(Me.contextItemLabel)),(0,t.jsx)("li",{"data-testid":Be,onClick:function(){L({contextMenu:null},function(){k.executeAction(Me,"contextMenu")})},children:(0,t.jsxs)("button",{className:(0,de.Z)("context-menu-item",{dangerous:Be==="deleteSelectedElements",checkmark:(Ne=Me.checked)===null||Ne===void 0?void 0:Ne.call(Me,ne)}),children:[(0,t.jsx)("div",{className:"context-menu-item__label",children:qe}),(0,t.jsx)("kbd",{className:"context-menu-item__shortcut",children:Be?(0,Ze.C)(Be):""})]})},Ae)})})})}),Ke=e(2726),Ye=e(7239),lt=e(8120),ht=e(6086),ot={};ot.styleTagTransform=xe(),ot.setAttributes=Fe(),ot.insert=ze().bind(null,"head"),ot.domAPI=_e(),ot.insertStyleElement=J(),we()(ht.Z,ot),ht.Z&&ht.Z.locals&&ht.Z.locals;var et=e(1894),nt=e(5710);function ct(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function vt(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?ct(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):ct(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}function Tt(r,k){var V=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!V){if(Array.isArray(r)||(V=function(Ee,Me){if(Ee){if(typeof Ee=="string")return Bt(Ee,Me);var Ae=Object.prototype.toString.call(Ee).slice(8,-1);if(Ae==="Object"&&Ee.constructor&&(Ae=Ee.constructor.name),Ae==="Map"||Ae==="Set")return Array.from(Ee);if(Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae))return Bt(Ee,Me)}}(r))||k&&r&&typeof r.length=="number"){V&&(r=V);var re=0,je=function(){};return{s:je,n:function(){return re>=r.length?{done:!0}:{done:!1,value:r[re++]}},e:function(Ee){throw Ee},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,L=!0,ke=!1;return{s:function(){V=V.call(r)},n:function(){var Ee=V.next();return L=Ee.done,Ee},e:function(Ee){ke=!0,ne=Ee},f:function(){try{L||V.return==null||V.return()}finally{if(ke)throw ne}}}}function Bt(r,k){(k==null||k>r.length)&&(k=r.length);for(var V=0,re=new Array(k);V<k;V++)re[V]=r[V];return re}var Kt=function(r){var k,V=r.appState,re=r.elements,je=r.renderAction,ne=(0,N.Zs)((0,j.Lm)(re),V),L=!1;ne.length===2&&((0,K.Xo)(ne[0])||(0,K.Xo)(ne[1]))&&(L=!0);var ke,Ee=!!V.editingElement,Me=an(),Ae=document.documentElement.getAttribute("dir")==="rtl",Ne=(0,N.$b)(V.activeTool.type)||ne.some(function(pt){return(0,N.$b)(pt.type)&&!(0,a.Qm)(pt.backgroundColor)}),Be=(0,N.$b)(V.activeTool.type)||ne.some(function(pt){return(0,N.$b)(pt.type)}),qe=ne.length===1||L,Qe=((k=ne[0])===null||k===void 0?void 0:k.type)||null,Ge=Tt(ne);try{for(Ge.s();!(ke=Ge.n()).done;)if(ke.value.type!==Qe){Qe=null;break}}catch(pt){Ge.e(pt)}finally{Ge.f()}return(0,t.jsxs)("div",{className:"panelColumn",children:[(0,t.jsx)("div",{children:((0,lt.PD)(V.activeTool.type)&&V.activeTool.type!=="image"&&Qe!=="image"||ne.some(function(pt){return(0,lt.PD)(pt.type)}))&&je("changeStrokeColor")}),Be&&(0,t.jsx)("div",{children:je("changeBackgroundColor")}),Ne&&je("changeFillStyle"),((0,N.Zd)(V.activeTool.type)||ne.some(function(pt){return(0,N.Zd)(pt.type)}))&&je("changeStrokeWidth"),(V.activeTool.type==="freedraw"||ne.some(function(pt){return pt.type==="freedraw"}))&&je("changeStrokeShape"),((0,N.M9)(V.activeTool.type)||ne.some(function(pt){return(0,N.M9)(pt.type)}))&&(0,t.jsxs)(t.Fragment,{children:[je("changeStrokeStyle"),je("changeSloppiness")]}),((0,N.sh)(V.activeTool.type)||ne.some(function(pt){return(0,N.sh)(pt.type)}))&&(0,t.jsx)(t.Fragment,{children:je("changeRoundness")}),((0,N.bZ)(V.activeTool.type)||ne.some(function(pt){return(0,N.bZ)(pt.type)}))&&(0,t.jsxs)(t.Fragment,{children:[je("changeFontSize"),je("changeFontFamily"),(0,nt.aV)(ne)&&je("changeTextAlign")]}),(0,nt.cn)(ne)&&je("changeVerticalAlign"),((0,N.Un)(V.activeTool.type)||ne.some(function(pt){return(0,N.Un)(pt.type)}))&&(0,t.jsx)(t.Fragment,{children:je("changeArrowhead")}),je("changeOpacity"),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,u.t)("labels.layers")}),(0,t.jsxs)("div",{className:"buttonList",children:[je("sendToBack"),je("sendBackward"),je("bringToFront"),je("bringForward")]})]}),ne.length>1&&!L&&(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,u.t)("labels.align")}),(0,t.jsxs)("div",{className:"buttonList",children:[Ae?(0,t.jsxs)(t.Fragment,{children:[je("alignRight"),je("alignHorizontallyCentered"),je("alignLeft")]}):(0,t.jsxs)(t.Fragment,{children:[je("alignLeft"),je("alignHorizontallyCentered"),je("alignRight")]}),ne.length>2&&je("distributeHorizontally"),(0,t.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[je("alignTop"),je("alignVerticallyCentered"),je("alignBottom"),ne.length>2&&je("distributeVertically")]})]})]}),!Ee&&ne.length>0&&(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,u.t)("labels.actions")}),(0,t.jsxs)("div",{className:"buttonList",children:[!Me.isMobile&&je("duplicateSelection"),!Me.isMobile&&je("deleteSelectedElements"),je("group"),je("ungroup"),qe&&je("hyperlink")]})]})]})},Wt=function(r){var k=r.canvas,V=r.activeTool,re=r.setAppState,je=r.onImageAction,ne=r.appState;return(0,t.jsx)(t.Fragment,{children:be.map(function(L,ke){var Ee=L.value,Me=L.icon,Ae=L.key,Ne=L.numericKey,Be=L.fillable,qe=(0,u.t)("toolBar.".concat(Ee)),Qe=Ae&&(0,a.Oo)(typeof Ae=="string"?Ae:Ae[0]),Ge=Qe?"".concat(Qe," ").concat((0,u.t)("helpDialog.or")," ").concat(Ne):"".concat(Ne);return(0,t.jsx)(m.V,{className:(0,de.Z)("Shape",{fillable:Be}),type:"radio",icon:Me,checked:V.type===Ee,name:"editor-current-shape",title:"".concat((0,a.Oo)(qe),"  ").concat(Ge),keyBindingLabel:Ne||Qe,"aria-label":(0,a.Oo)(qe),"aria-keyshortcuts":Ge,"data-testid":"toolbar-".concat(Ee),onPointerDown:function(pt){var ut=pt.pointerType;ne.penDetected||ut!=="pen"||re({penDetected:!0,penMode:!0})},onChange:function(pt){var ut=pt.pointerType;ne.activeTool.type!==Ee&&(0,S.L)("toolbar",Ee,"ui");var jt=(0,a.Om)(ne,{type:Ee});re({activeTool:jt,multiElement:null,selectedElementIds:{}}),(0,a.Uk)(k,vt(vt({},ne),{},{activeTool:jt})),Ee==="image"&&je({pointerType:ut})}},Ee)})})},Gt=function(r){var k=r.renderAction;return r.zoom,(0,t.jsx)(Ye.Z.Col,{gap:1,className:"zoom-actions",children:(0,t.jsxs)(Ye.Z.Row,{align:"center",children:[k("zoomOut"),k("resetZoom"),k("zoomIn")]})})},Et=function(r){var k=r.renderAction,V=r.className;return(0,t.jsxs)("div",{className:"undo-redo-buttons ".concat(V),children:[(0,t.jsx)("div",{className:"undo-button-container",children:(0,t.jsx)(et.u,{label:(0,u.t)("buttons.undo"),children:k("undo")})}),(0,t.jsx)("div",{className:"redo-button-container",children:(0,t.jsxs)(et.u,{label:(0,u.t)("buttons.redo"),children:[" ",k("redo")]})})]})},Pt=function(r){var k=r.actionManager,V=r.showExitZenModeBtn;return(0,t.jsx)("button",{className:(0,de.Z)("disable-zen-mode",{"disable-zen-mode--visible":V}),onClick:function(){return k.executeAction(b.JN)},children:(0,u.t)("buttons.exitZenMode")})},Nt=function(r){var k=r.renderAction,V=r.className;return(0,t.jsx)("div",{className:"finalize-button ".concat(V),children:k("finalize",{size:"small"})})},Qt=e(8396),Dt=function(r){var k=r.children,V=r.onClose,re=(0,ce.useState)(!!k),je=(0,g.Z)(re,2),ne=je[0],L=je[1],ke=Kn().container,Ee=fe().useCallback(function(){L(!1),V&&V(),ke==null||ke.focus()},[V,ke]);return(0,t.jsx)(t.Fragment,{children:ne&&(0,t.jsx)(Qt.V,{small:!0,onCloseRequest:Ee,title:(0,u.t)("errorDialog.title"),children:(0,t.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:k})})})},We=e(434),Xe=e(7955),$e={};$e.styleTagTransform=xe(),$e.setAttributes=Fe(),$e.insert=ze().bind(null,"head"),$e.domAPI=_e(),$e.insertStyleElement=J(),we()(Xe.Z,$e),Xe.Z&&Xe.Z.locals&&Xe.Z.locals;var Ve=e(5284),ft=e(3807),wt=e(1393),_t=e(3024),Ot="filter"in document.createElement("canvas").getContext("2d"),Yt=function(){return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:(0,u.t)("canvasError.cannotShowPreview")}),(0,t.jsx)("p",{children:(0,t.jsx)("span",{children:(0,u.t)("canvasError.canvasTooBig")})}),(0,t.jsxs)("em",{children:["(",(0,u.t)("canvasError.canvasTooBigTip"),")"]})]})},At=function(r){var k,V=r.children,re=r.title,je=r.onClick,ne=r.color,L=r.shade,ke=L===void 0?6:L;return(0,t.jsx)("button",{className:"ExportDialog-imageExportButton",style:(k={},(0,ee.Z)(k,"--button-color",Ve[ne][ke]),(0,ee.Z)(k,"--button-color-darker",Ve[ne][ke+1]),(0,ee.Z)(k,"--button-color-darkest",Ve[ne][ke+2]),k),title:re,"aria-label":re,onClick:je,children:V})},er=function(r){var k=r.elements,V=r.appState,re=r.files,je=r.exportPadding,ne=je===void 0?n.qy:je,L=r.actionManager,ke=r.onExportToPng,Ee=r.onExportToSvg,Me=r.onExportToClipboard,Ae=(0,N.N)(k,V),Ne=(0,ce.useState)(Ae),Be=(0,g.Z)(Ne,2),qe=Be[0],Qe=Be[1],Ge=(0,ce.useRef)(null),pt=(0,ce.useState)(null),ut=(0,g.Z)(pt,2),jt=ut[0],st=ut[1],Mt=qe?(0,N.eD)(k,V,!0):k;return(0,ce.useEffect)(function(){Qe(Ae)},[Ae]),(0,ce.useEffect)(function(){var St=Ge.current;if(St){var yt=St.offsetWidth;yt&&(0,_t.NL)({elements:Mt,appState:V,files:re,exportPadding:ne,maxWidthOrHeight:yt}).then(function(Zt){return st(null),(0,We._c)(Zt).then(function(){St.replaceChildren(Zt)})}).catch(function(Zt){console.error(Zt),st(Zt)})}},[V,re,Mt,ne]),(0,t.jsxs)("div",{className:"ExportDialog",children:[(0,t.jsx)("div",{className:"ExportDialog__preview",ref:Ge,children:jt&&(0,t.jsx)(Yt,{})}),Ot&&L.renderAction("exportWithDarkMode"),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[L.renderAction("changeExportBackground"),Ae&&(0,t.jsx)(ft.o,{checked:qe,onChange:function(St){return Qe(St)},children:(0,u.t)("labels.onlySelected")}),L.renderAction("changeExportEmbedScene")]})}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,t.jsx)(Ye.Z.Row,{gap:2,children:L.renderAction("changeExportScale")}),(0,t.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,u.t)("buttons.scale")})]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!wt.kr&&L.renderAction("changeProjectName")}),(0,t.jsxs)(Ye.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,t.jsx)(At,{color:"indigo",title:(0,u.t)("buttons.exportToPng"),"aria-label":(0,u.t)("buttons.exportToPng"),onClick:function(){return ke(Mt)},children:"PNG"}),(0,t.jsx)(At,{color:"red",title:(0,u.t)("buttons.exportToSvg"),"aria-label":(0,u.t)("buttons.exportToSvg"),onClick:function(){return Ee(Mt)},children:"SVG"}),(_.vt||n.vU)&&(0,t.jsx)(At,{title:(0,u.t)("buttons.copyPngToClipboard"),onClick:function(){return Me(Mt)},color:"gray",shade:7,children:G.BR})]})]})},rr=function(r){var k=r.elements,V=r.appState,re=r.setAppState,je=r.files,ne=r.exportPadding,L=ne===void 0?n.qy:ne,ke=r.actionManager,Ee=r.onExportToPng,Me=r.onExportToSvg,Ae=r.onExportToClipboard,Ne=fe().useCallback(function(){re({openDialog:null})},[re]);return(0,t.jsx)(t.Fragment,{children:V.openDialog==="imageExport"&&(0,t.jsx)(Qt.V,{onCloseRequest:Ne,title:(0,u.t)("buttons.exportImage"),children:(0,t.jsx)(er,{elements:k,appState:V,files:je,exportPadding:L,actionManager:ke,onExportToPng:Ee,onExportToSvg:Me,onExportToClipboard:Ae,onCloseRequest:Ne})})})},or=e(3195),lr={};lr.styleTagTransform=xe(),lr.setAttributes=Fe(),lr.insert=ze().bind(null,"head"),lr.domAPI=_e(),lr.insertStyleElement=J(),we()(or.Z,lr),or.Z&&or.Z.locals&&or.Z.locals;var jr=function(r){var k=r.children,V=r.side,re=r.className;return(0,t.jsx)("div",{className:(0,de.Z)("FixedSideContainer","FixedSideContainer_side_".concat(V),re),children:k})},zt=e(1587),Ft={};Ft.styleTagTransform=xe(),Ft.setAttributes=Fe(),Ft.insert=ze().bind(null,"head"),Ft.domAPI=_e(),Ft.insertStyleElement=J(),we()(zt.Z,Ft),zt.Z&&zt.Z.locals&&zt.Z.locals;var $t=function(r){var k=function(V){var re=V.appState,je=V.elements,ne=V.isMobile,L=V.device,ke=re.activeTool,Ee=re.isResizing,Me=re.isRotating,Ae=re.lastPointerDownWith,Ne=re.multiElement!==null;if(re.openSidebar==="library"&&!L.canDeviceFitSidebar)return null;if((0,A.EN)(re))return(0,u.t)("hints.eraserRevert");if(ke.type==="arrow"||ke.type==="line")return Ne?(0,u.t)("hints.linearElementMulti"):(0,u.t)("hints.linearElement");if(ke.type==="freedraw")return(0,u.t)("hints.freeDraw");if(ke.type==="text")return(0,u.t)("hints.text");if(re.activeTool.type==="image"&&re.pendingImageElementId)return(0,u.t)("hints.placeImage");var Be=(0,N.eD)(je,re);if(Ee&&Ae==="mouse"&&Be.length===1){var qe=Be[0];return(0,K.bt)(qe)&&qe.points.length===2?(0,u.t)("hints.lockAngle"):(0,K.pC)(qe)?(0,u.t)("hints.resizeImage"):(0,u.t)("hints.resize")}if(Me&&Ae==="mouse")return(0,u.t)("hints.rotate");if(Be.length===1&&(0,K.iB)(Be[0]))return(0,u.t)("hints.text_selected");if(re.editingElement&&(0,K.iB)(re.editingElement))return(0,u.t)("hints.text_editing");if(ke.type==="selection"){var Qe;if(((Qe=re.draggingElement)===null||Qe===void 0?void 0:Qe.type)==="selection"&&!re.editingElement&&!re.editingLinearElement)return(0,u.t)("hints.deepBoxSelect");if(!Be.length&&!ne)return(0,u.t)("hints.canvasPanning")}if(Be.length===1){if((0,K.bt)(Be[0]))return re.editingLinearElement?re.editingLinearElement.selectedPointsIndices?(0,u.t)("hints.lineEditor_pointSelected"):(0,u.t)("hints.lineEditor_nothingSelected"):(0,u.t)("hints.lineEditor_info");if((0,K.mG)(Be[0]))return(0,u.t)("hints.bindTextToElement")}return null}({appState:r.appState,elements:r.elements,isMobile:r.isMobile,device:r.device});return k?(k=(0,a.uY)(k),(0,t.jsx)("div",{className:"HintViewer",children:(0,t.jsx)("span",{children:k})})):null},cr=e(1881),Zr=e(5440),Hr=(e(5422),{CHECKED:G.FC,UNCHECKED:G._C}),Yr=function(r){return(0,t.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title,"  Q"),children:[(0,t.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title,"data-testid":"toolbar-lock"}),(0,t.jsx)("div",{className:"ToolIcon__icon",children:r.checked?Hr.CHECKED:Hr.UNCHECKED})]})},Xr=["heading","children"];function Dr(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function gr(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?Dr(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):Dr(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var Wr=function(r){var k=r.heading,V=r.children,re=(0,Ke.Z)(r,Xr),je=Kn().id,ne=(0,t.jsx)("h2",{className:"visually-hidden",id:"".concat(je,"-").concat(k,"-title"),children:(0,u.t)("headings.".concat(k))});return(0,t.jsx)("section",gr(gr({},re),{},{"aria-labelledby":"".concat(je,"-").concat(k,"-title"),children:typeof V=="function"?V(ne):(0,t.jsxs)(t.Fragment,{children:[ne,V]})}))},Ir=e(756),qr=e(2316),Gr={};Gr.styleTagTransform=xe(),Gr.setAttributes=Fe(),Gr.insert=ze().bind(null,"head"),Gr.domAPI=_e(),Gr.insertStyleElement=J(),we()(qr.Z,Gr),qr.Z&&qr.Z.locals&&qr.Z.locals;var nn=function(r){var k=r.appState,V=r.setAppState,re=r.isMobile,je=an(),ne=!re;return k.isSidebarDocked&&k.openSidebar==="library"?null:(0,t.jsxs)("label",{title:"".concat((0,a.Oo)((0,u.t)("toolBar.library"))),children:[(0,t.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(L){var ke;(ke=document.querySelector(".layer-ui__wrapper"))===null||ke===void 0||ke.classList.remove("animate");var Ee=L.target.checked;V({openSidebar:Ee?"library":null}),Ee&&(0,S.L)("library","toggleLibrary (open)","toolbar (".concat(je.isMobile?"mobile":"desktop",")"))},checked:k.openSidebar==="library","aria-label":(0,a.Oo)((0,u.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,t.jsxs)("div",{className:"library-button",children:[(0,t.jsx)("div",{children:G.Vq}),ne&&(0,t.jsx)("div",{className:"library-button__label",children:(0,u.t)("toolBar.library")})]})]})},on=function(r){return r.penDetected?(0,t.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title),children:[(0,t.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title}),(0,t.jsx)("div",{className:"ToolIcon__icon",children:G.tb})]}):null},fn=e(8925),$=e(2681),pe={};pe.styleTagTransform=xe(),pe.setAttributes=Fe(),pe.insert=ze().bind(null,"head"),pe.domAPI=_e(),pe.insertStyleElement=J(),we()($.Z,pe),$.Z&&$.Z.locals&&$.Z.locals;var Oe=function(r){var k,V=(0,fn.KP)(r.elements),re=(0,N.Zs)(r.elements,r.appState),je=(0,fn.KP)(re);return(0,t.jsx)("div",{className:"Stats",children:(0,t.jsxs)(cr.W,{padding:2,children:[(0,t.jsx)("div",{className:"close",onClick:r.onClose,children:G.Tw}),(0,t.jsx)("h3",{children:(0,u.t)("stats.title")}),(0,t.jsx)("table",{children:(0,t.jsxs)("tbody",{children:[(0,t.jsx)("tr",{children:(0,t.jsx)("th",{colSpan:2,children:(0,u.t)("stats.scene")})}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.elements")}),(0,t.jsx)("td",{children:r.elements.length})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.width")}),(0,t.jsx)("td",{children:Math.round(V[2])-Math.round(V[0])})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.height")}),(0,t.jsx)("td",{children:Math.round(V[3])-Math.round(V[1])})]}),re.length===1&&(0,t.jsx)("tr",{children:(0,t.jsx)("th",{colSpan:2,children:(0,u.t)("stats.element")})}),re.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("tr",{children:(0,t.jsx)("th",{colSpan:2,children:(0,u.t)("stats.selected")})}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.elements")}),(0,t.jsx)("td",{children:re.length})]})]}),re.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"x"}),(0,t.jsx)("td",{children:Math.round(je[0])})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"y"}),(0,t.jsx)("td",{children:Math.round(je[1])})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.width")}),(0,t.jsx)("td",{children:Math.round(je[2]-je[0])})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.height")}),(0,t.jsx)("td",{children:Math.round(je[3]-je[1])})]})]}),re.length===1&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,u.t)("stats.angle")}),(0,t.jsx)("td",{children:"".concat(Math.round(180*re[0].angle/Math.PI),"")})]}),(k=r.renderCustomStats)===null||k===void 0?void 0:k.call(r,r.elements,r.appState)]})})]})})},Te=function(r){return(0,t.jsx)(m.V,{className:(0,de.Z)("Shape",{fillable:!1}),type:"radio",icon:G.Hk,name:"editor-current-shape",checked:r.checked,title:"".concat(r.title,"  H"),keyBindingLabel:r.isMobile?void 0:I.tW.H.toLocaleUpperCase(),"aria-label":"".concat(r.title,"  H"),"aria-keyshortcuts":I.tW.H,"data-testid":"toolbar-hand",onChange:function(){var k;return(k=r.onChange)===null||k===void 0?void 0:k.call(r)}})},Je=e(8888);function rt(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}var mt=function(r){var k=r.appState,V=r.elements,re=r.actionManager,je=r.setAppState,ne=r.onLockToggle,L=r.onHandToolToggle,ke=r.onPenModeToggle,Ee=r.canvas,Me=r.onImageAction,Ae=r.renderTopRightUI,Ne=r.renderCustomStats,Be=r.renderSidebars,qe=r.device,Qe=r.renderWelcomeScreen,Ge=(0,Je.R6)(),pt=Ge.welcomeScreenCenterTunnel,ut=Ge.mainMenuTunnel;return(0,t.jsxs)(t.Fragment,{children:[Be(),!k.viewModeEnabled&&(0,t.jsxs)(jr,{side:"top",className:"App-top-bar",children:[Qe&&(0,t.jsx)(pt.Out,{}),(0,t.jsx)(Wr,{heading:"shapes",children:function(jt){return(0,t.jsx)(Ye.Z.Col,{gap:4,align:"center",children:(0,t.jsxs)(Ye.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,t.jsxs)(cr.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[jt,(0,t.jsx)(Ye.Z.Row,{gap:1,children:(0,t.jsx)(Wt,{appState:k,canvas:Ee,activeTool:k.activeTool,setAppState:je,onImageAction:function(st){var Mt=st.pointerType;Me({insertOnCanvasDirectly:Mt!=="mouse"})}})})]}),Ae&&Ae(!0,k),(0,t.jsxs)("div",{className:"mobile-misc-tools-container",children:[!k.viewModeEnabled&&(0,t.jsx)(nn,{appState:k,setAppState:je,isMobile:!0}),(0,t.jsx)(on,{checked:k.penMode,onChange:ke,title:(0,u.t)("toolBar.penMode"),isMobile:!0,penDetected:k.penDetected}),(0,t.jsx)(Yr,{checked:k.activeTool.locked,onChange:ne,title:(0,u.t)("toolBar.lock"),isMobile:!0}),(0,t.jsx)(Te,{checked:(0,A.l$)(k),onChange:function(){return L()},title:(0,u.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,t.jsx)($t,{appState:k,elements:V,isMobile:!0,device:qe})]}),!k.openMenu&&k.showStats&&(0,t.jsx)(Oe,{appState:k,setAppState:je,elements:V,onClose:function(){re.executeAction(b.u0)},renderCustomStats:Ne}),(0,t.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Ir.nn+2*Ir.WM,marginLeft:Ir.nn+2*Ir.WM,marginRight:Ir.nn+2*Ir.WM},children:(0,t.jsxs)(cr.W,{padding:0,children:[k.openMenu==="shape"&&!k.viewModeEnabled&&(0,j.RT)(k,V)?(0,t.jsx)(Wr,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,t.jsx)(Kt,{appState:k,elements:V,renderAction:re.renderAction})}):null,(0,t.jsxs)("footer",{className:"App-toolbar",children:[k.viewModeEnabled?(0,t.jsx)("div",{className:"App-toolbar-content",children:(0,t.jsx)(ut.Out,{})}):(0,t.jsxs)("div",{className:"App-toolbar-content",children:[(0,t.jsx)(ut.Out,{}),re.renderAction("toggleEditMenu"),re.renderAction("undo"),re.renderAction("redo"),re.renderAction(k.multiElement?"finalize":"duplicateSelection"),re.renderAction("deleteSelectedElements")]}),k.scrolledOutside&&!k.openMenu&&k.openSidebar!=="library"&&(0,t.jsx)("button",{className:"scroll-back-to-content",onClick:function(){je(function(jt){for(var st=1;st<arguments.length;st++){var Mt=arguments[st]!=null?arguments[st]:{};st%2?rt(Object(Mt),!0).forEach(function(St){(0,ee.Z)(jt,St,Mt[St])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jt,Object.getOwnPropertyDescriptors(Mt)):rt(Object(Mt)).forEach(function(St){Object.defineProperty(jt,St,Object.getOwnPropertyDescriptor(Mt,St))})}return jt}({},(0,N.W)(V,k,Ee)))},children:(0,u.t)("buttons.scrollBackToContent")})]})]})})]})},bt=e(5674),tt=e(4162),xt=e(8461),dt={};dt.styleTagTransform=xe(),dt.setAttributes=Fe(),dt.insert=ze().bind(null,"head"),dt.domAPI=_e(),dt.insertStyleElement=J(),we()(xt.Z,dt),xt.Z&&xt.Z.locals&&xt.Z.locals;var Ct=function(r){var k=(0,ce.useRef)(null),V=(0,ce.useState)(null),re=(0,g.Z)(V,2),je=re[0],ne=re[1];return(0,ce.useLayoutEffect)(function(){if(r.spreadsheet){var L,ke=(0,bt.ps)(r.chartType,r.spreadsheet,0,0);ne(ke);var Ee=k.current;return(0,d.Z)(y().mark(function Me(){var Ae;return y().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,(0,tt.$D)(ke,{exportBackground:!1,viewBackgroundColor:Ve.white},null);case 2:L=Ne.sent,(Ae=L.querySelector(".style-fonts"))===null||Ae===void 0||Ae.remove(),Ee.replaceChildren(),Ee.appendChild(L),r.selected&&Ee.parentNode.focus();case 7:case"end":return Ne.stop()}},Me)}))(),function(){Ee.replaceChildren()}}},[r.spreadsheet,r.chartType,r.selected]),(0,t.jsx)("button",{className:"ChartPreview",onClick:function(){je&&r.onClick(r.chartType,je)},children:(0,t.jsx)("div",{ref:k})})},Ut=function(r){var k=r.setAppState,V=r.appState,re=r.onClose,je=r.onInsertChart,ne=fe().useCallback(function(){re&&re()},[re]),L=function(ke,Ee){je(Ee),(0,S.L)("magic","chart",ke),k({currentChartType:ke,pasteDialog:{shown:!1,data:null}})};return(0,t.jsx)(Qt.V,{small:!0,onCloseRequest:ne,title:(0,u.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(Ct,{chartType:"bar",spreadsheet:V.pasteDialog.data,selected:V.currentChartType==="bar",onClick:L}),(0,t.jsx)(Ct,{chartType:"line",spreadsheet:V.pasteDialog.data,selected:V.currentChartType==="line",onClick:L})]})})},Lt=e(2978),Xt={};Xt.styleTagTransform=xe(),Xt.setAttributes=Fe(),Xt.insert=ze().bind(null,"head"),Xt.domAPI=_e(),Xt.insertStyleElement=J(),we()(Lt.Z,Xt),Lt.Z&&Lt.Z.locals&&Lt.Z.locals;function Rt(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}var kt=y().mark(dr);function hr(r,k){var V=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!V){if(Array.isArray(r)||(V=function(Ee,Me){if(Ee){if(typeof Ee=="string")return ur(Ee,Me);var Ae=Object.prototype.toString.call(Ee).slice(8,-1);if(Ae==="Object"&&Ee.constructor&&(Ae=Ee.constructor.name),Ae==="Map"||Ae==="Set")return Array.from(Ee);if(Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae))return ur(Ee,Me)}}(r))||k&&r&&typeof r.length=="number"){V&&(r=V);var re=0,je=function(){};return{s:je,n:function(){return re>=r.length?{done:!0}:{done:!1,value:r[re++]}},e:function(Ee){throw Ee},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,L=!0,ke=!1;return{s:function(){V=V.call(r)},n:function(){var Ee=V.next();return L=Ee.done,Ee},e:function(Ee){ke=!0,ne=Ee},f:function(){try{L||V.return==null||V.return()}finally{if(ke)throw ne}}}}function ur(r,k){(k==null||k>r.length)&&(k=r.length);for(var V=0,re=new Array(k);V<k;V++)re[V]=r[V];return re}var sr=function(){return(0,t.jsxs)("div",{className:"HelpDialog__header",children:[(0,t.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,u.t)("helpDialog.documentation"),(0,t.jsx)("div",{className:"HelpDialog__link-icon",children:G.h0})]}),(0,t.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,u.t)("helpDialog.blog"),(0,t.jsx)("div",{className:"HelpDialog__link-icon",children:G.h0})]}),(0,t.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,u.t)("helpDialog.github"),(0,t.jsx)("div",{className:"HelpDialog__link-icon",children:G.h0})]})]})},xr=function(r){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:r.title}),(0,t.jsx)("div",{className:"HelpDialog__islands-container",children:r.children})]})},ar=function(r){return(0,t.jsxs)("div",{className:"HelpDialog__island ".concat(r.className),children:[(0,t.jsx)("h4",{className:"HelpDialog__island-title",children:r.caption}),(0,t.jsx)("div",{className:"HelpDialog__island-content",children:r.children})]})};function dr(r,k){var V,re,je,ne;return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:V=!0,re=hr(r),L.prev=2,re.s();case 4:if((je=re.n()).done){L.next=14;break}if(ne=je.value,V){L.next=9;break}return L.next=9,k;case 9:return V=!1,L.next=12,ne;case 12:L.next=4;break;case 14:L.next=19;break;case 16:L.prev=16,L.t0=L.catch(2),re.e(L.t0);case 19:return L.prev=19,re.f(),L.finish(19);case 22:case"end":return L.stop()}},kt,null,[[2,16,19,22]])}var gt=function(r){var k=r.label,V=r.shortcuts,re=r.isOr,je=re===void 0||re,ne=V.map(function(L){return(L.endsWith("++")?[].concat((0,f.Z)(L.slice(0,-2).split("+")),["+"]):L.split("+")).map(function(ke){return(0,t.jsx)(fr,{children:(Ee=ke,Ee.replace(/\b[a-z]\b/,function(Me){return Me.toUpperCase()}))},ke);var Ee})});return(0,t.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,t.jsx)("div",{children:k}),(0,t.jsx)("div",{className:"HelpDialog__key-container",children:(0,f.Z)(dr(ne,je?(0,u.t)("helpDialog.or"):null))})]})},fr=function(r){return(0,t.jsx)("kbd",function(k){for(var V=1;V<arguments.length;V++){var re=arguments[V]!=null?arguments[V]:{};V%2?Rt(Object(re),!0).forEach(function(je){(0,ee.Z)(k,je,re[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(re)):Rt(Object(re)).forEach(function(je){Object.defineProperty(k,je,Object.getOwnPropertyDescriptor(re,je))})}return k}({className:"HelpDialog__key"},r))},_r=function(r){var k=r.onClose,V=fe().useCallback(function(){k&&k()},[k]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(Qt.V,{onCloseRequest:V,title:(0,u.t)("helpDialog.title"),className:"HelpDialog",children:[(0,t.jsx)(sr,{}),(0,t.jsxs)(xr,{title:(0,u.t)("helpDialog.shortcuts"),children:[(0,t.jsxs)(ar,{className:"HelpDialog__island--tools",caption:(0,u.t)("helpDialog.tools"),children:[(0,t.jsx)(gt,{label:(0,u.t)("toolBar.hand"),shortcuts:[I.tW.H]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.selection"),shortcuts:[I.tW.V,I.tW[1]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.rectangle"),shortcuts:[I.tW.R,I.tW[2]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.diamond"),shortcuts:[I.tW.D,I.tW[3]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.ellipse"),shortcuts:[I.tW.O,I.tW[4]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.arrow"),shortcuts:[I.tW.A,I.tW[5]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.line"),shortcuts:[I.tW.L,I.tW[6]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.freedraw"),shortcuts:[I.tW.P,I.tW[7]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.text"),shortcuts:[I.tW.T,I.tW[8]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.image"),shortcuts:[I.tW[9]]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.eraser"),shortcuts:[I.tW.E,I.tW[0]]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,a.uY)("CtrlOrCmd+Enter")]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.editText"),shortcuts:[(0,a.uY)("Enter")]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.textNewLine"),shortcuts:[(0,a.uY)("Enter"),(0,a.uY)("Shift+Enter")]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.textFinish"),shortcuts:[(0,a.uY)("Esc"),(0,a.uY)("CtrlOrCmd+Enter")]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click")],isOr:!1}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.curvedLine"),shortcuts:["L",(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click")],isOr:!1}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.lock"),shortcuts:[I.tW.Q]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.preventBinding"),shortcuts:[(0,a.uY)("CtrlOrCmd")]}),(0,t.jsx)(gt,{label:(0,u.t)("toolBar.link"),shortcuts:[(0,a.uY)("CtrlOrCmd+K")]})]}),(0,t.jsxs)(ar,{className:"HelpDialog__island--view",caption:(0,u.t)("helpDialog.view"),children:[(0,t.jsx)(gt,{label:(0,u.t)("buttons.zoomIn"),shortcuts:[(0,a.uY)("CtrlOrCmd++")]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.zoomOut"),shortcuts:[(0,a.uY)("CtrlOrCmd+-")]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.resetZoom"),shortcuts:[(0,a.uY)("CtrlOrCmd+0")]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.zenMode"),shortcuts:[(0,a.uY)("Alt+Z")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.showGrid"),shortcuts:[(0,a.uY)("CtrlOrCmd+'")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.viewMode"),shortcuts:[(0,a.uY)("Alt+R")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.toggleTheme"),shortcuts:[(0,a.uY)("Alt+Shift+D")]}),(0,t.jsx)(gt,{label:(0,u.t)("stats.title"),shortcuts:[(0,a.uY)("Alt+/")]})]}),(0,t.jsxs)(ar,{className:"HelpDialog__island--editor",caption:(0,u.t)("helpDialog.editor"),children:[(0,t.jsx)(gt,{label:(0,u.t)("labels.moveCanvas"),shortcuts:[(0,a.uY)("Space+".concat((0,u.t)("helpDialog.drag"))),(0,a.uY)("Wheel+".concat((0,u.t)("helpDialog.drag")))],isOr:!0}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.clearReset"),shortcuts:[(0,a.uY)("CtrlOrCmd+Delete")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.delete"),shortcuts:[(0,a.uY)("Delete")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.cut"),shortcuts:[(0,a.uY)("CtrlOrCmd+X")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.copy"),shortcuts:[(0,a.uY)("CtrlOrCmd+C")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.paste"),shortcuts:[(0,a.uY)("CtrlOrCmd+V")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.pasteAsPlaintext"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+V")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.selectAll"),shortcuts:[(0,a.uY)("CtrlOrCmd+A")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.multiSelect"),shortcuts:[(0,a.uY)("Shift+".concat((0,u.t)("helpDialog.click")))]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.deepSelect"),shortcuts:[(0,a.uY)("CtrlOrCmd+".concat((0,u.t)("helpDialog.click")))]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,a.uY)("CtrlOrCmd+".concat((0,u.t)("helpDialog.drag")))]}),(_.vt||n.vU)&&(0,t.jsx)(gt,{label:(0,u.t)("labels.copyAsPng"),shortcuts:[(0,a.uY)("Shift+Alt+C")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.copyStyles"),shortcuts:[(0,a.uY)("CtrlOrCmd+Alt+C")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.pasteStyles"),shortcuts:[(0,a.uY)("CtrlOrCmd+Alt+V")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.sendToBack"),shortcuts:[n.Um?(0,a.uY)("CtrlOrCmd+Alt+["):(0,a.uY)("CtrlOrCmd+Shift+[")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.bringToFront"),shortcuts:[n.Um?(0,a.uY)("CtrlOrCmd+Alt+]"):(0,a.uY)("CtrlOrCmd+Shift+]")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.sendBackward"),shortcuts:[(0,a.uY)("CtrlOrCmd+[")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.bringForward"),shortcuts:[(0,a.uY)("CtrlOrCmd+]")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.alignTop"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+Up")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.alignBottom"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+Down")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.alignLeft"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+Left")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.alignRight"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+Right")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.duplicateSelection"),shortcuts:[(0,a.uY)("CtrlOrCmd+D"),(0,a.uY)("Alt+".concat((0,u.t)("helpDialog.drag")))]}),(0,t.jsx)(gt,{label:(0,u.t)("helpDialog.toggleElementLock"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+L")]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.undo"),shortcuts:[(0,a.uY)("CtrlOrCmd+Z")]}),(0,t.jsx)(gt,{label:(0,u.t)("buttons.redo"),shortcuts:n.ED?[(0,a.uY)("CtrlOrCmd+Y"),(0,a.uY)("CtrlOrCmd+Shift+Z")]:[(0,a.uY)("CtrlOrCmd+Shift+Z")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.group"),shortcuts:[(0,a.uY)("CtrlOrCmd+G")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.ungroup"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+G")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.flipHorizontal"),shortcuts:[(0,a.uY)("Shift+H")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.flipVertical"),shortcuts:[(0,a.uY)("Shift+V")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.showStroke"),shortcuts:[(0,a.uY)("S")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.showBackground"),shortcuts:[(0,a.uY)("G")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.decreaseFontSize"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+<")]}),(0,t.jsx)(gt,{label:(0,u.t)("labels.increaseFontSize"),shortcuts:[(0,a.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},pr=e(6773),Fr=e(8671),Ur=e(4241),wr={};wr.styleTagTransform=xe(),wr.setAttributes=Fe(),wr.insert=ze().bind(null,"head"),wr.domAPI=_e(),wr.insertStyleElement=J(),we()(Ur.Z,wr),Ur.Z&&Ur.Z.locals&&Ur.Z.locals;var Jr=function(r){var k,V=r.children,re=r.color;return(0,t.jsx)("div",{className:"Card",style:(k={},(0,ee.Z)(k,"--card-color",re==="primary"?"var(--color-primary)":Ve[re][7]),(0,ee.Z)(k,"--card-color-darker",re==="primary"?"var(--color-primary-darker)":Ve[re][8]),(0,ee.Z)(k,"--card-color-darkest",re==="primary"?"var(--color-primary-darkest)":Ve[re][9]),k),children:V})},Ro=function(r){var k=r.elements,V=r.appState,re=r.files,je=r.actionManager,ne=r.exportOpts,L=r.canvas,ke=ne.onExportToBackend;return(0,t.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,t.jsxs)("div",{className:"ExportDialog-cards",children:[ne.saveFileToDisk&&(0,t.jsxs)(Jr,{color:"lime",children:[(0,t.jsx)("div",{className:"Card-icon",children:G.TP}),(0,t.jsx)("h2",{children:(0,u.t)("exportDialog.disk_title")}),(0,t.jsxs)("div",{className:"Card-details",children:[(0,u.t)("exportDialog.disk_details"),!wt.kr&&je.renderAction("changeProjectName")]}),(0,t.jsx)(m.V,{className:"Card-button",type:"button",title:(0,u.t)("exportDialog.disk_button"),"aria-label":(0,u.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){je.executeAction(Fr.mM,"ui")}})]}),ke&&(0,t.jsxs)(Jr,{color:"pink",children:[(0,t.jsx)("div",{className:"Card-icon",children:G.xP}),(0,t.jsx)("h2",{children:(0,u.t)("exportDialog.link_title")}),(0,t.jsx)("div",{className:"Card-details",children:(0,u.t)("exportDialog.link_details")}),(0,t.jsx)(m.V,{className:"Card-button",type:"button",title:(0,u.t)("exportDialog.link_button"),"aria-label":(0,u.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){ke(k,V,re,L),(0,S.L)("export","link","ui (".concat((0,a.$h)(),")"))}})]}),ne.renderCustomUI&&ne.renderCustomUI(k,V,re,L)]})})},No=function(r){var k=r.elements,V=r.appState,re=r.files,je=r.actionManager,ne=r.exportOpts,L=r.canvas,ke=r.setAppState,Ee=fe().useCallback(function(){ke({openDialog:null})},[ke]);return(0,t.jsx)(t.Fragment,{children:V.openDialog==="jsonExport"&&(0,t.jsx)(Qt.V,{onCloseRequest:Ee,title:(0,u.t)("buttons.export"),children:(0,t.jsx)(Ro,{elements:k,appState:V,files:re,actionManager:je,onCloseRequest:Ee,exportOpts:ne,canvas:L})})})},Bo=e(6954),jn=e(8923),pn={};pn.styleTagTransform=xe(),pn.setAttributes=Fe(),pn.insert=ze().bind(null,"head"),pn.domAPI=_e(),pn.insertStyleElement=J(),we()(jn.Z,pn),jn.Z&&jn.Z.locals&&jn.Z.locals;var Ho=e(5523),_n=e(2701),hn={};hn.styleTagTransform=xe(),hn.setAttributes=Fe(),hn.insert=ze().bind(null,"head"),hn.domAPI=_e(),hn.insertStyleElement=J(),we()(_n.Z,hn),_n.Z&&_n.Z.locals&&_n.Z.locals;var Wo=function(r){var k=r.id,V=r.elements,re=r.isPending,je=r.onClick,ne=r.selected,L=r.onToggle,ke=r.onDrag,Ee=(0,ce.useRef)(null);(0,ce.useEffect)(function(){var Ge=Ee.current;if(Ge)return(0,d.Z)(y().mark(function pt(){var ut,jt;return y().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(V){st.next=2;break}return st.abrupt("return");case 2:return st.next=4,(0,_t.$D)({elements:V,appState:{exportBackground:!1,viewBackgroundColor:Ve.white},files:null});case 4:jt=st.sent,(ut=jt.querySelector(".style-fonts"))===null||ut===void 0||ut.remove(),Ge.innerHTML=jt.outerHTML;case 7:case"end":return st.stop()}},pt)}))(),function(){Ge.innerHTML=""}},[V]);var Me=(0,ce.useState)(!1),Ae=(0,g.Z)(Me,2),Ne=Ae[0],Be=Ae[1],qe=an().isMobile,Qe=re&&(0,t.jsx)("div",{className:"library-unit__adder",children:G.pO});return(0,t.jsxs)("div",{className:(0,de.Z)("library-unit",{"library-unit__active":V,"library-unit--hover":V&&Ne,"library-unit--selected":ne}),onMouseEnter:function(){return Be(!0)},onMouseLeave:function(){return Be(!1)},children:[(0,t.jsx)("div",{className:(0,de.Z)("library-unit__dragger",{"library-unit__pulse":!!re}),ref:Ee,draggable:!!V,onClick:V||re?function(Ge){k&&Ge.shiftKey?L(k,Ge):je()}:void 0,onDragStart:function(Ge){k?(Be(!1),ke(k,Ge)):Ge.preventDefault()}}),Qe,k&&V&&(Ne||qe||ne)&&(0,t.jsx)(ft.o,{checked:ne,onChange:function(Ge,pt){return L(k,pt)},className:"library-unit__checkbox"})]})},On=e(6440),mn={};mn.styleTagTransform=xe(),mn.setAttributes=Fe(),mn.insert=ze().bind(null,"head"),mn.domAPI=_e(),mn.insertStyleElement=J(),we()(On.Z,mn),On.Z&&On.Z.locals&&On.Z.locals;var no=e(5644),oo=function(r){var k=r.theme,V=r.id,re=r.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,t.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(re,"&useHash=true&token=").concat(V,"&theme=").concat(k,"&version=").concat(n.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,u.t)("labels.libraries")})};function io(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function ao(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?io(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):io(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var Fo=function(r){var k=r.isLoading,V=r.libraryItems,re=r.onAddToLibrary,je=r.onInsertLibraryItems,ne=r.pendingElements,L=r.selectedItems,ke=r.onSelectItems,Ee=r.theme,Me=r.id,Ae=r.libraryReturnUrl,Ne=(0,ce.useState)(null),Be=(0,g.Z)(Ne,2),qe=Be[0],Qe=Be[1],Ge=function(yt,Zt){var It=!L.includes(yt),Ht=[].concat((0,f.Z)(st),(0,f.Z)(Mt));if(It){if(Zt.shiftKey&&qe){var qt=Ht.findIndex(function(mr){return mr.id===qe}),vr=Ht.findIndex(function(mr){return mr.id===yt});if(qt===-1||vr===-1)return void ke([].concat((0,f.Z)(L),[yt]));var kr=(0,a.xn)(L),Or=Ht.reduce(function(mr,Rr,Jt){return(Jt>=qt&&Jt<=vr||kr.has(Rr.id))&&mr.push(Rr.id),mr},[]);ke(Or)}else ke([].concat((0,f.Z)(L),[yt]));Qe(yt)}else Qe(null),ke(L.filter(function(mr){return mr!==yt}))},pt=function(yt){return(L.includes(yt)?V.filter(function(Zt){return L.includes(Zt.id)}):V.filter(function(Zt){return Zt.id===yt})).map(function(Zt){return ao(ao({},Zt),{},{elements:(0,T._N)(Zt.elements)})})},ut=function(yt){var Zt,It,Ht,qt,vr;return(0,t.jsx)(Ye.Z.Col,{children:(0,t.jsx)(Wo,{elements:(Zt=yt.item)===null||Zt===void 0?void 0:Zt.elements,isPending:!((It=yt.item)!==null&&It!==void 0&&It.id||(Ht=yt.item)===null||Ht===void 0||!Ht.elements),onClick:yt.onClick||function(){},id:((qt=yt.item)===null||qt===void 0?void 0:qt.id)||null,selected:!((vr=yt.item)===null||vr===void 0||!vr.id)&&L.includes(yt.item.id),onToggle:Ge,onDrag:function(kr,Or){Or.dataTransfer.setData(n.LO.excalidrawlib,(0,Ho.NI)(pt(kr)))}})},yt.key)},jt=function(yt){var Zt=yt.map(function(Ht){return Ht.id?ut({item:Ht,onClick:function(){return je(pt(Ht.id))},key:Ht.id}):ut({key:"__pending__item__",item:Ht,onClick:function(){return re(ne)}})}),It=(0,a.yo)(Zt,4);return It.length||(It=[[]]),It.map(function(Ht,qt,vr){return qt===vr.length-1&&(Ht=Ht.concat(new Array(4-Ht.length).fill(null).map(function(kr,Or){return ut({key:"empty_".concat(Or),item:null})}))),(0,t.jsx)(Ye.Z.Row,{align:"center",className:"library-menu-items-container__row",children:Ht},qt)})},st=V.filter(function(yt){return yt.status!=="published"}),Mt=V.filter(function(yt){return yt.status==="published"}),St=!(V.length||st.length||Mt.length||ne.length);return(0,t.jsx)("div",{className:"library-menu-items-container",style:ne.length||st.length||Mt.length?{justifyContent:"flex-start"}:{},children:(0,t.jsxs)(Ye.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Mt.length>0?1:"0 1 auto",marginBottom:0},children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(ne.length>0||st.length>0||Mt.length>0)&&(0,t.jsx)("div",{className:"library-menu-items-container__header",children:(0,u.t)("labels.personalLib")}),k&&(0,t.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,t.jsx)(no.Z,{})})]}),ne.length||st.length?jt([].concat((0,f.Z)(ne.length?[{id:null,elements:ne}]:[]),(0,f.Z)(st))):(0,t.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,t.jsx)("div",{className:(0,de.Z)({"library-menu-items__no-items__label":St}),children:(0,u.t)("library.noItems")}),(0,t.jsx)("div",{className:"library-menu-items__no-items__hint",children:Mt.length>0?(0,u.t)("library.hint_emptyPrivateLibrary"):(0,u.t)("library.hint_emptyLibrary")})]})]}),(0,t.jsxs)(t.Fragment,{children:[(Mt.length>0||ne.length>0||st.length>0)&&(0,t.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,u.t)("labels.excalidrawLib")}),Mt.length>0?jt(Mt):st.length>0?(0,t.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,u.t)("library.noItems")}):null]}),St&&(0,t.jsx)(oo,{id:Me,libraryReturnUrl:Ae,theme:Ee})]})})},Cn=e(4739),In=e(9487),Rn=e(9430),Uo=e(9206),lo=(0,ce.forwardRef)(function(r,k){var V=r.children;return(0,t.jsx)("div",{ref:k,className:"layer-ui__library",children:V})}),Ko=function(r){var k=r.onInsertLibraryItems,V=r.pendingElements,re=r.onAddToLibrary,je=r.setAppState,ne=r.libraryReturnUrl,L=r.library,ke=r.id,Ee=r.appState,Me=r.selectedItems,Ae=r.onSelectItems,Ne=(0,Cn.KO)(U.rF,In.yE),Be=(0,g.Z)(Ne,1)[0],qe=(0,ce.useCallback)(function(){var Ge=(0,d.Z)(y().mark(function pt(ut,jt){var st;return y().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if((0,S.L)("element","addToLibrary","ui"),!ut.some(function(St){return St.type==="image"})){Mt.next=3;break}return Mt.abrupt("return",je({errorMessage:"Support for adding images to the library coming soon!"}));case 3:st=[{status:"unpublished",elements:ut,id:(0,Bo.kb)(),created:Date.now()}].concat((0,f.Z)(jt)),re(),L.setLibrary(st).catch(function(){je({errorMessage:(0,u.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return Mt.stop()}},pt)}));return function(pt,ut){return Ge.apply(this,arguments)}}(),[re,L,je]);if(Be.status==="loading"&&!Be.isInitialized)return(0,t.jsx)(lo,{children:(0,t.jsx)("div",{className:"layer-ui__library-message",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(no.Z,{size:"2em"}),(0,t.jsx)("span",{children:(0,u.t)("labels.libraryLoadingMessage")})]})})});var Qe=Be.libraryItems.length>0||V.length>0;return(0,t.jsxs)(lo,{children:[(0,t.jsx)(Fo,{isLoading:Be.status==="loading",libraryItems:Be.libraryItems,onAddToLibrary:function(Ge){return qe(Ge,Be.libraryItems)},onInsertLibraryItems:k,pendingElements:V,selectedItems:Me,onSelectItems:Ae,id:ke,libraryReturnUrl:ne,theme:Ee.theme}),Qe&&(0,t.jsx)(oo,{id:ke,libraryReturnUrl:ne,theme:Ee.theme})]})},Yo=function(r){var k=r.appState,V=r.onInsertElements,re=r.libraryReturnUrl,je=r.focusContainer,ne=r.library,L=r.id,ke=Gn(),Ee=Yn(),Me=an(),Ae=(0,ce.useState)([]),Ne=(0,g.Z)(Ae,2),Be=Ne[0],qe=Ne[1],Qe=(0,Cn.KO)(U.rF,In.yE),Ge=(0,g.Z)(Qe,1)[0],pt=(0,ce.useRef)(null),ut=(0,ce.useCallback)(function(){document.querySelector(".Dialog")||ke({openSidebar:null})},[ke]);(function(St,yt){(0,ce.useEffect)(function(){var Zt=function(It){St.current&&(It.target instanceof Element&&(St.current.contains(It.target)||!document.body.contains(It.target))||yt(It))};return document.addEventListener("pointerdown",Zt,!1),function(){document.removeEventListener("pointerdown",Zt)}},[St,yt])})(pt,(0,ce.useCallback)(function(St){St.target.closest(".ToolIcon__library")||k.isSidebarDocked&&Me.canDeviceFitSidebar||ut()},[ut,k.isSidebarDocked,Me.canDeviceFitSidebar])),(0,ce.useEffect)(function(){var St=function(yt){yt.key!==I.tW.ESCAPE||k.isSidebarDocked&&Me.canDeviceFitSidebar||ut()};return document.addEventListener(n.Ks.KEYDOWN,St),function(){document.removeEventListener(n.Ks.KEYDOWN,St)}},[ut,k.isSidebarDocked,Me.canDeviceFitSidebar]);var jt=(0,ce.useCallback)(function(){ke({selectedElementIds:{},selectedGroupIds:{}})},[ke]),st=(0,ce.useCallback)(function(){var St=(0,d.Z)(y().mark(function yt(Zt){var It;return y().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:It=Zt.filter(function(qt){return!Be.includes(qt.id)}),ne.setLibrary(It).catch(function(){ke({errorMessage:(0,u.t)("alerts.errorRemovingFromLibrary")})}),qe([]);case 3:case"end":return Ht.stop()}},yt)}));return function(yt){return St.apply(this,arguments)}}(),[ne,ke,Be,qe]),Mt=(0,ce.useCallback)(function(){ne.resetLibrary(),je()},[ne,je]);return(0,t.jsxs)(Rn.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:k.isSidebarDocked,onDock:function(St){(0,S.L)("library","toggleLibraryDock (".concat(St?"dock":"undock",")"),"sidebar (".concat(Me.isMobile?"mobile":"desktop",")"))},ref:pt,children:[(0,t.jsx)(Rn.Y.Header,{className:"layer-ui__library-header",children:(0,t.jsx)(Uo.W,{appState:k,setAppState:ke,selectedItems:Be,onSelectItems:qe,library:ne,onRemoveFromLibrary:function(){return st(Ge.libraryItems)},resetLibrary:Mt})}),(0,t.jsx)(Ko,{pendingElements:(0,N.eD)(Ee,k,!0),onInsertLibraryItems:function(St){V((0,U.WV)(St))},onAddToLibrary:jt,setAppState:ke,libraryReturnUrl:re,library:ne,id:L,appState:k,selectedItems:Be,onSelectItems:qe})]},"library")},Mn=e(1434),gn={};gn.styleTagTransform=xe(),gn.setAttributes=Fe(),gn.insert=ze().bind(null,"head"),gn.domAPI=_e(),gn.insertStyleElement=J(),we()(Mn.Z,gn),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;var Tn=e(9144),vn={};vn.styleTagTransform=xe(),vn.setAttributes=Fe(),vn.insert=ze().bind(null,"head"),vn.domAPI=_e(),vn.insertStyleElement=J(),we()(Tn.Z,vn),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;var Go=e(4958),Vo=function(r){return(0,t.jsx)("button",{className:"help-icon",onClick:r.onClick,type:"button",title:"".concat((0,u.t)("helpDialog.title"),"  ?"),"aria-label":(0,u.t)("helpDialog.title"),children:G.by})},so=function(r){var k=r.appState,V=r.actionManager,re=r.showExitZenModeBtn,je=r.renderWelcomeScreen,ne=(0,Je.R6)(),L=ne.footerCenterTunnel,ke=ne.welcomeScreenHelpHintTunnel,Ee=an(),Me=!k.viewModeEnabled&&k.multiElement&&Ee.isTouchScreen;return(0,t.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,t.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":k.zenModeEnabled}),children:(0,t.jsx)(Ye.Z.Col,{gap:2,children:(0,t.jsxs)(Wr,{heading:"canvasActions",children:[(0,t.jsx)(Gt,{renderAction:V.renderAction,zoom:k.zoom}),!k.viewModeEnabled&&(0,t.jsx)(Et,{renderAction:V.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":k.zenModeEnabled})}),Me&&(0,t.jsx)(Nt,{renderAction:V.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":k.zenModeEnabled})})]})})}),(0,t.jsx)(L.Out,{}),(0,t.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":k.zenModeEnabled}),children:(0,t.jsxs)("div",{style:{position:"relative"},children:[je&&(0,t.jsx)(ke.Out,{}),(0,t.jsx)(Vo,{onClick:function(){return V.executeAction(b.jY)}})]})}),(0,t.jsx)(Pt,{actionManager:V,showExitZenModeBtn:re})]})},Xo=so;so.displayName="Footer";var zr=e(4709),co=e(6798),qo=["suggestedBindings","startBoundElement","cursorButton"],Jo=["canvas","onInsertElements","appState"],$o=["canvas","onInsertElements","appState"];function uo(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}var Qo=function(r){var k=r.UIOptions;return(0,t.jsxs)(zr.Z,{__fallback:!0,children:[(0,t.jsx)(zr.Z.DefaultItems.LoadScene,{}),(0,t.jsx)(zr.Z.DefaultItems.SaveToActiveFile,{}),k.canvasActions.export&&(0,t.jsx)(zr.Z.DefaultItems.Export,{}),k.canvasActions.saveAsImage&&(0,t.jsx)(zr.Z.DefaultItems.SaveAsImage,{}),(0,t.jsx)(zr.Z.DefaultItems.Help,{}),(0,t.jsx)(zr.Z.DefaultItems.ClearCanvas,{}),(0,t.jsx)(zr.Z.Separator,{}),(0,t.jsx)(zr.Z.Group,{title:"Excalidraw links",children:(0,t.jsx)(zr.Z.DefaultItems.Socials,{})}),(0,t.jsx)(zr.Z.Separator,{}),(0,t.jsx)(zr.Z.DefaultItems.ToggleTheme,{}),(0,t.jsx)(zr.Z.DefaultItems.ChangeCanvasBackground,{})]})},ei=function(r){var k,V=r.actionManager,re=r.appState,je=r.files,ne=r.setAppState,L=r.elements,ke=r.canvas,Ee=r.onLockToggle,Me=r.onHandToolToggle,Ae=r.onPenModeToggle,Ne=r.onInsertElements,Be=r.showExitZenModeBtn,qe=r.renderTopRightUI,Qe=r.renderCustomStats,Ge=r.renderCustomSidebar,pt=r.libraryReturnUrl,ut=r.UIOptions,jt=r.focusContainer,st=r.library,Mt=r.id,St=r.onImageAction,yt=r.renderWelcomeScreen,Zt=r.children,It=an(),Ht=(0,Je.ZC)(),qt=function(){return ut.canvasActions.export?(0,t.jsx)(No,{elements:L,appState:re,files:je,actionManager:V,exportOpts:ut.canvasActions.export,canvas:ke,setAppState:ne}):null},vr=function(){if(!ut.canvasActions.saveAsImage)return null;var Jt=function(Er){return function(){var br=(0,d.Z)(y().mark(function Mr(Vt){var tr;return y().wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return(0,S.L)("export",Er,"ui"),Sr.next=3,(0,ae.p1)(Er,Vt,re,je,{exportBackground:re.exportBackground,name:re.name,viewBackgroundColor:re.viewBackgroundColor}).catch(a.FG).catch(function(tn){console.error(tn),ne({errorMessage:tn.message})});case 3:tr=Sr.sent,re.exportEmbedScene&&tr&&(0,We.g8)(tr)&&ne({fileHandle:tr});case 5:case"end":return Sr.stop()}},Mr)}));return function(Mr){return br.apply(this,arguments)}}()};return(0,t.jsx)(rr,{elements:L,appState:re,setAppState:ne,files:je,actionManager:V,onExportToPng:Jt("png"),onExportToSvg:Jt("svg"),onExportToClipboard:Jt("clipboard")})},kr=function(){return re.openSidebar==="customSidebar"?(Ge==null?void 0:Ge())||null:re.openSidebar==="library"?(0,t.jsx)(Yo,{appState:re,onInsertElements:Ne,libraryReturnUrl:pt,focusContainer:jt,library:st,id:Mt}):null},Or=(0,Cn.KO)(Rn.b,In.yE),mr=(0,g.Z)(Or,1)[0],Rr=(0,t.jsxs)(t.Fragment,{children:[Zt,(0,t.jsx)(Qo,{UIOptions:ut}),re.isLoading&&(0,t.jsx)(Zr.z,{delay:250}),re.errorMessage&&(0,t.jsx)(Dt,{onClose:function(){return ne({errorMessage:null})},children:re.errorMessage}),re.openDialog==="help"&&(0,t.jsx)(_r,{onClose:function(){ne({openDialog:null})}}),(0,t.jsx)(co.o,{}),vr(),qt(),re.pasteDialog.shown&&(0,t.jsx)(Ut,{setAppState:ne,appState:re,onInsertChart:Ne,onClose:function(){return ne({pasteDialog:{shown:!1,data:null}})}}),It.isMobile&&(0,t.jsx)(mt,{appState:re,elements:L,actionManager:V,renderJSONExportDialog:qt,renderImageExportDialog:vr,setAppState:ne,onLockToggle:Ee,onHandToolToggle:Me,onPenModeToggle:Ae,canvas:ke,onImageAction:St,renderTopRightUI:qe,renderCustomStats:Qe,renderSidebars:kr,device:It,renderWelcomeScreen:yt}),!It.isMobile&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper",{"disable-pointerEvents":re.draggingElement||re.resizingElement||re.editingElement&&!(0,j.iB)(re.editingElement)}),style:(re.openSidebar==="library"&&re.isSidebarDocked||mr.docked)&&It.canDeviceFitSidebar?{width:"calc(100% - ".concat(n.EE,"px)")}:{},children:[yt&&(0,t.jsx)(Ht.welcomeScreenCenterTunnel.Out,{}),(k=(0,j.RT)(re,L),(0,t.jsx)(jr,{side:"top",children:(0,t.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,t.jsxs)(Ye.Z.Col,{gap:6,className:(0,de.Z)("App-menu_top__left",{"disable-pointerEvents":re.zenModeEnabled}),children:[(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)(Ht.mainMenuTunnel.Out,{}),yt&&(0,t.jsx)(Ht.welcomeScreenMenuHintTunnel.Out,{})]}),k&&(0,t.jsx)(Wr,{heading:"selectedShapeActions",className:(0,de.Z)("selected-shape-actions zen-mode-transition",{"transition-left":re.zenModeEnabled}),children:(0,t.jsx)(cr.W,{className:n.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(re.height-166,"px")},children:(0,t.jsx)(Kt,{appState:re,elements:L,renderAction:V.renderAction})})})]}),!re.viewModeEnabled&&(0,t.jsx)(Wr,{heading:"shapes",className:"shapes-section",children:function(Jt){return(0,t.jsxs)("div",{style:{position:"relative"},children:[yt&&(0,t.jsx)(Ht.welcomeScreenToolbarHintTunnel.Out,{}),(0,t.jsx)(Ye.Z.Col,{gap:4,align:"start",children:(0,t.jsx)(Ye.Z.Row,{gap:1,className:(0,de.Z)("App-toolbar-container",{"zen-mode":re.zenModeEnabled}),children:(0,t.jsxs)(cr.W,{padding:1,className:(0,de.Z)("App-toolbar",{"zen-mode":re.zenModeEnabled}),children:[(0,t.jsx)($t,{appState:re,elements:L,isMobile:It.isMobile,device:It}),Jt,(0,t.jsxs)(Ye.Z.Row,{gap:1,children:[(0,t.jsx)(on,{zenModeEnabled:re.zenModeEnabled,checked:re.penMode,onChange:Ae,title:(0,u.t)("toolBar.penMode"),penDetected:re.penDetected}),(0,t.jsx)(Yr,{checked:re.activeTool.locked,onChange:Ee,title:(0,u.t)("toolBar.lock")}),(0,t.jsx)("div",{className:"App-toolbar__divider"}),(0,t.jsx)(Te,{checked:(0,A.l$)(re),onChange:function(){return Me()},title:(0,u.t)("toolBar.hand"),isMobile:!0}),(0,t.jsx)(Wt,{appState:re,canvas:ke,activeTool:re.activeTool,setAppState:ne,onImageAction:function(Er){var br=Er.pointerType;St({insertOnCanvasDirectly:br!=="mouse"})}})]})]})})})]})}}),(0,t.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":re.zenModeEnabled}),children:[(0,t.jsx)(pr.Z,{collaborators:re.collaborators}),qe==null?void 0:qe(It.isMobile,re),!re.viewModeEnabled&&(0,t.jsx)(nn,{appState:re,setAppState:ne})]})]})})),(0,t.jsx)(Xo,{appState:re,actionManager:V,showExitZenModeBtn:Be,renderWelcomeScreen:yt}),re.showStats&&(0,t.jsx)(Oe,{appState:re,setAppState:ne,elements:L,onClose:function(){V.executeAction(Go.u)},renderCustomStats:Qe}),re.scrolledOutside&&(0,t.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ne(function(Jt){for(var Er=1;Er<arguments.length;Er++){var br=arguments[Er]!=null?arguments[Er]:{};Er%2?uo(Object(br),!0).forEach(function(Mr){(0,ee.Z)(Jt,Mr,br[Mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Jt,Object.getOwnPropertyDescriptors(br)):uo(Object(br)).forEach(function(Mr){Object.defineProperty(Jt,Mr,Object.getOwnPropertyDescriptor(br,Mr))})}return Jt}({},(0,N.W)(L,re,ke)))},children:(0,u.t)("buttons.scrollBackToContent")})]}),kr()]})]});return(0,t.jsx)(Cn.zt,{scope:Ht.jotaiScope,children:(0,t.jsx)(Je.A3.Provider,{value:Ht,children:Rr})})},fo=function(r){return r.suggestedBindings,r.startBoundElement,r.cursorButton,(0,Ke.Z)(r,qo)},ti=function(r,k){if(r.children!==k.children)return!1;r.canvas,r.onInsertElements;var V=r.appState,re=(0,Ke.Z)(r,Jo),je=(k.canvas,k.onInsertElements,k.appState),ne=(0,Ke.Z)(k,$o);return(0,a.w8)(fo(V),fo(je))&&(0,a.w8)(re,ne)},ri=fe().memo(ei,ti),Pn=e(9650),bn={};bn.styleTagTransform=xe(),bn.setAttributes=Fe(),bn.insert=ze().bind(null,"head"),bn.domAPI=_e(),bn.insertStyleElement=J(),we()(Pn.Z,bn),Pn.Z&&Pn.Z.locals&&Pn.Z.locals;var ni=function(r){var k=r.message,V=r.onClose,re=r.closable,je=re!==void 0&&re,ne=r.duration,L=ne===void 0?5e3:ne,ke=(0,ce.useRef)(0),Ee=L!==1/0,Me=(0,ce.useCallback)(function(){Ee&&(ke.current=window.setTimeout(function(){return V()},L))},[V,L,Ee]);(0,ce.useEffect)(function(){if(Ee)return Me(),function(){return clearTimeout(ke.current)}},[Me,k,L,Ee]);var Ae=Ee?function(){return clearTimeout(ke==null?void 0:ke.current)}:void 0,Ne=Ee?Me:void 0;return(0,t.jsxs)("div",{className:"Toast",onMouseEnter:Ae,onMouseLeave:Ne,children:[(0,t.jsx)("p",{className:"Toast__message",children:k}),je&&(0,t.jsx)(m.V,{icon:G.Tw,"aria-label":"close",type:"icon",onClick:V,className:"close"})]})};function po(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function ho(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?po(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):po(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var mo=(0,q.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(r){return!r.viewModeEnabled}},perform:function(r,k){return{appState:ho(ho({},k),{},{viewModeEnabled:!this.checked(k)}),commitToHistory:!1}},checked:function(r){return r.viewModeEnabled},predicate:function(r,k,V){return V.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(r){return!r[I.tW.CTRL_OR_CMD]&&r.altKey&&r.code===I.aU.R}}),Dn=e(5637),oi=e(200),ii=e.n(oi),go=e(2325),yn=e(4929),vo=e(6794),ai=e(267);function bo(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}var yo=(0,D.Z)(function r(k){var V=this,re=k.scene,je=k.onSceneUpdated;(0,x.Z)(this,r),this.onFontsLoaded=function(ne){if(ne.every(function(ke){var Ee="".concat(ke.family,"-").concat(ke.style,"-").concat(ke.weight);return!!r.loadedFontFaces.has(Ee)||(r.loadedFontFaces.add(Ee),!1)}))return!1;var L=!1;V.scene.mapElements(function(ke){return(0,j.iB)(ke)?((0,se.bI)(ke),L=!0,(0,h.BE)(ke,function(Ee){for(var Me=1;Me<arguments.length;Me++){var Ae=arguments[Me]!=null?arguments[Me]:{};Me%2?bo(Object(Ae),!0).forEach(function(Ne){(0,ee.Z)(Ee,Ne,Ae[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ae)):bo(Object(Ae)).forEach(function(Ne){Object.defineProperty(Ee,Ne,Object.getOwnPropertyDescriptor(Ae,Ne))})}return Ee}({},(0,j.JZ)(ke)))):ke}),L&&V.onSceneUpdated()},this.loadFontsForElements=function(){var ne=(0,d.Z)(y().mark(function L(ke){var Ee;return y().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.next=2,Promise.all((0,f.Z)(new Set(ke.filter(function(Ae){return(0,j.iB)(Ae)}).map(function(Ae){return Ae.fontFamily}))).map(function(Ae){var Ne,Be,qe,Qe,Ge=(0,a.mO)({fontFamily:Ae,fontSize:16});if((Ne=document.fonts)===null||Ne===void 0||(Be=Ne.check)===null||Be===void 0||!Be.call(Ne,Ge))return(qe=document.fonts)===null||qe===void 0||(Qe=qe.load)===null||Qe===void 0?void 0:Qe.call(qe,Ge)}));case 2:Ee=Me.sent,V.onFontsLoaded(Ee.flat().filter(Boolean));case 4:case"end":return Me.stop()}},L)}));return function(L){return ne.apply(this,arguments)}}(),this.scene=re,this.onSceneUpdated=je});yo.loadedFontFaces=new Set;var xo=e(4688),wo=e(2416),li=e(202),si=function(){return(0,t.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,t.jsxs)("p",{children:[(0,u.t)("errors.brave_measure_text_error.start")," ",(0,t.jsx)("span",{style:{fontWeight:600},children:(0,u.t)("errors.brave_measure_text_error.aggressive_block_fingerprint")})," ",(0,u.t)("errors.brave_measure_text_error.setting_enabled"),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,u.t)("errors.brave_measure_text_error.break")," ",(0,t.jsx)("span",{style:{fontWeight:600},children:(0,u.t)("errors.brave_measure_text_error.text_elements")})," ",(0,u.t)("errors.brave_measure_text_error.in_your_drawings"),"."]}),(0,t.jsxs)("p",{children:[(0,u.t)("errors.brave_measure_text_error.strongly_recommend")," ",(0,t.jsxs)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:[" ",(0,u.t)("errors.brave_measure_text_error.steps")]})," ",(0,u.t)("errors.brave_measure_text_error.how"),"."]}),(0,t.jsxs)("p",{children:[(0,u.t)("errors.brave_measure_text_error.disable_setting")," ",(0,t.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:(0,u.t)("errors.brave_measure_text_error.issue")})," ",(0,u.t)("errors.brave_measure_text_error.write")," ",(0,t.jsx)("a",{href:"https://discord.gg/UexuTaE",children:(0,u.t)("errors.brave_measure_text_error.discord")}),"."]})]})};function ko(r,k){var V=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!V){if(Array.isArray(r)||(V=function(Ee,Me){if(Ee){if(typeof Ee=="string")return Eo(Ee,Me);var Ae=Object.prototype.toString.call(Ee).slice(8,-1);if(Ae==="Object"&&Ee.constructor&&(Ae=Ee.constructor.name),Ae==="Map"||Ae==="Set")return Array.from(Ee);if(Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae))return Eo(Ee,Me)}}(r))||k&&r&&typeof r.length=="number"){V&&(r=V);var re=0,je=function(){};return{s:je,n:function(){return re>=r.length?{done:!0}:{done:!1,value:r[re++]}},e:function(Ee){throw Ee},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,L=!0,ke=!1;return{s:function(){V=V.call(r)},n:function(){var Ee=V.next();return L=Ee.done,Ee},e:function(Ee){ke=!0,ne=Ee},f:function(){try{L||V.return==null||V.return()}finally{if(ke)throw ne}}}}function Eo(r,k){(k==null||k>r.length)&&(k=r.length);for(var V=0,re=new Array(k);V<k;V++)re[V]=r[V];return re}function ci(r){var k=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,re=(0,B.Z)(r);if(k){var je=(0,B.Z)(this).constructor;V=Reflect.construct(re,arguments,je)}else V=re.apply(this,arguments);return(0,R.Z)(this,V)}}function So(r,k){var V=Object.keys(r);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(r);k&&(re=re.filter(function(je){return Object.getOwnPropertyDescriptor(r,je).enumerable})),V.push.apply(V,re)}return V}function at(r){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?So(Object(V),!0).forEach(function(re){(0,ee.Z)(r,re,V[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(V)):So(Object(V)).forEach(function(re){Object.defineProperty(r,re,Object.getOwnPropertyDescriptor(V,re))})}return r}var jo={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},Nn=fe().createContext(jo);Nn.displayName="DeviceContext";var Bn=fe().createContext({container:null,id:null});Bn.displayName="ExcalidrawContainerContext";var Hn=fe().createContext([]);Hn.displayName="ExcalidrawElementsContext";var Wn=fe().createContext(at(at({},(0,A.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Wn.displayName="ExcalidrawAppStateContext";var Fn=fe().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Fn.displayName="ExcalidrawSetAppStateContext";var Un=fe().createContext(null);Un.displayName="ExcalidrawActionManagerContext";var an=function(){return(0,ce.useContext)(Nn)},Kn=function(){return(0,ce.useContext)(Bn)},Yn=function(){return(0,ce.useContext)(Hn)},_o=function(){return(0,ce.useContext)(Wn)},Gn=function(){return(0,ce.useContext)(Fn)},ui=function(){return(0,ce.useContext)(Un)},xn=!1,Vn=0,ln=0,sn=0,cn=!1,wn=!1,Xn=!1,qn={horizontal:null,vertical:null},Qr=0,kn=!1,An=!0,Jn=!1,Oo=0,Co=!1,en=null,ir={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},$n=function(r){(0,i.Z)(je,r);var k,V,re=ci(je);function je(ne){var L;(0,x.Z)(this,je),L=re.call(this,ne),di.call((0,W.Z)(L));var ke,Ee=(0,A.im)(),Me=ne.excalidrawRef,Ae=ne.viewModeEnabled,Ne=Ae!==void 0&&Ae,Be=ne.zenModeEnabled,qe=Be!==void 0&&Be,Qe=ne.gridModeEnabled,Ge=Qe!==void 0&&Qe,pt=ne.theme,ut=pt===void 0?Ee.theme:pt,jt=ne.name,st=jt===void 0?Ee.name:jt;if(L.state=at(at(at({},Ee),{},{theme:ut,isLoading:!0},L.getCanvasOffsets()),{},{viewModeEnabled:Ne,zenModeEnabled:qe,gridSize:Ge?n.k:null,name:st,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),L.id=(0,ye.x0)(),L.library=new U.ZP((0,W.Z)(L)),Me){var Mt,St="current"in Me&&((Mt=Me.current)===null||Mt===void 0?void 0:Mt.readyPromise)||(0,a.PI)(),yt={ready:!0,readyPromise:St,updateScene:L.updateScene,updateLibrary:L.library.updateLibrary,addFiles:L.addFiles,resetScene:L.resetScene,getSceneElementsIncludingDeleted:L.getSceneElementsIncludingDeleted,history:{clear:L.resetHistory},scrollToContent:L.scrollToContent,getSceneElements:L.getSceneElements,getAppState:function(){return L.state},getFiles:function(){return L.files},refresh:L.refresh,setToast:L.setToast,id:L.id,setActiveTool:L.setActiveTool,setCursor:L.setCursor,resetCursor:L.resetCursor,toggleMenu:L.toggleMenu};typeof Me=="function"?Me(yt):Me.current=yt,St.resolve(yt)}return L.excalidrawContainerValue={container:L.excalidrawContainerRef.current,id:L.id},L.scene=new ge.Z,L.fonts=new yo({scene:L.scene,onSceneUpdated:L.onSceneUpdated}),L.history=new Z,L.actionManager=new C(L.syncActionResult,function(){return L.state},function(){return L.scene.getElementsIncludingDeleted()},(0,W.Z)(L)),L.actionManager.registerAll(q.N),L.actionManager.registerAction((ke=L.history,{name:"undo",trackEvent:{category:"history"},perform:function(Zt,It){return s(Zt,It,function(){return ke.undoOnce()})},keyTest:function(Zt){return Zt[I.tW.CTRL_OR_CMD]&&Zt.key.toLowerCase()===I.tW.Z&&!Zt.shiftKey},PanelComponent:function(Zt){var It=Zt.updateData,Ht=Zt.data;return(0,t.jsx)(m.V,{type:"button",icon:G.UE,"aria-label":(0,u.t)("buttons.undo"),onClick:It,size:(Ht==null?void 0:Ht.size)||"medium"})},commitToHistory:function(){return!1}})),L.actionManager.registerAction(function(Zt){return{name:"redo",trackEvent:{category:"history"},perform:function(It,Ht){return s(It,Ht,function(){return Zt.redoOnce()})},keyTest:function(It){return It[I.tW.CTRL_OR_CMD]&&It.shiftKey&&It.key.toLowerCase()===I.tW.Z||n.ED&&It.ctrlKey&&!It.shiftKey&&It.key===I.tW.Y},PanelComponent:function(It){var Ht=It.updateData,qt=It.data;return(0,t.jsx)(m.V,{type:"button",icon:G.zG,"aria-label":(0,u.t)("buttons.redo"),onClick:Ht,size:(qt==null?void 0:qt.size)||"medium"})},commitToHistory:function(){return!1}}}(L.history)),L}return(0,D.Z)(je,[{key:"renderCanvas",value:function(){var ne=window.devicePixelRatio,L=this.state,ke=L.width,Ee=L.height,Me=ke*ne,Ae=Ee*ne;return L.viewModeEnabled?(0,t.jsx)("canvas",{className:"excalidraw__canvas",style:{width:ke,height:Ee,cursor:n.oc.GRAB},width:Me,height:Ae,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,u.t)("labels.drawingCanvas")}):(0,t.jsx)("canvas",{className:"excalidraw__canvas",style:{width:ke,height:Ee},width:Me,height:Ae,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,u.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var ne,L=this,ke=(0,N.eD)(this.scene.getNonDeletedElements(),this.state),Ee=this.props,Me=Ee.renderTopRightUI,Ae=Ee.renderCustomStats;return(0,t.jsx)("div",{className:(0,de.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,t.jsx)(Bn.Provider,{value:this.excalidrawContainerValue,children:(0,t.jsx)(Nn.Provider,{value:this.device,children:(0,t.jsx)(Fn.Provider,{value:this.setAppState,children:(0,t.jsxs)(Wn.Provider,{value:this.state,children:[(0,t.jsx)(Hn.Provider,{value:this.scene.getNonDeletedElements(),children:(0,t.jsxs)(Un.Provider,{value:this.actionManager,children:[(0,t.jsx)(ri,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(Ne){return L.addElementsFromPasteOrLibrary({elements:Ne,position:"center",files:null})},langCode:(0,u.G3)().code,renderTopRightUI:Me,renderCustomStats:Ae,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((ne=this.props)===null||ne===void 0?void 0:ne.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,t.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,t.jsx)("div",{className:"excalidraw-contextMenuContainer"}),ke.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,t.jsx)(yn.nW,{element:ke[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},ke[0].id),this.state.toast!==null&&(0,t.jsx)(ni,{message:this.state.toast.message,onClose:function(){return L.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,t.jsx)(Ue,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,t.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(V=(0,d.Z)(y().mark(function ne(){var L,ke,Ee,Me,Ae,Ne,Be=this;return y().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,n.Vi.TEST!=="production"&&n.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Be.state}},setState:{configurable:!0,value:function(){return Be.setState.apply(Be,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(L=this.excalidrawContainerRef)!==null&&L!==void 0&&L.current?(this.resizeObserver=new ResizeObserver(function(){An=!1,Be.refreshDeviceState(Be.excalidrawContainerRef.current),Be.updateDOMRect()}),(ke=this.resizeObserver)===null||ke===void 0||ke.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(Ee=window.matchMedia("(max-width: ".concat(n.kV,"px), (max-height: ").concat(n.Yx,"px) and (max-width: ").concat(n.sS,"px)")),Me=window.matchMedia("(max-width: ".concat(n.eF,"px)")),Ae=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:n.sk,"px)")),Ne=function(){Be.excalidrawContainerRef.current.getBoundingClientRect(),Be.device=(0,a.v4)(Be.device,{isSmScreen:Me.matches,isMobile:Ee.matches,canDeviceFitSidebar:Ae.matches})},Ee.addListener(Ne),this.detachIsMobileMqHandler=function(){return Ee.removeListener(Ne)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,n.jP)()&&!(0,nt.eB)()&&this.setState({errorMessage:(0,t.jsx)(si,{})});case 11:case"end":return qe.stop()}},ne,this)})),function(){return V.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var ne;this.files={},this.imageCache.clear(),(ne=this.resizeObserver)===null||ne===void 0||ne.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Qr),Qr=0}},{key:"removeEventListeners",value:function(){var ne,L,ke,Ee,Me;document.removeEventListener(n.Ks.POINTER_UP,this.removePointer),document.removeEventListener(n.Ks.COPY,this.onCopy),document.removeEventListener(n.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(n.Ks.CUT,this.onCut),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.removeEventListener(n.Ks.WHEEL,this.onWheel),(L=this.nearestScrollableContainer)===null||L===void 0||L.removeEventListener(n.Ks.SCROLL,this.onScroll),document.removeEventListener(n.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(n.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(n.Ks.KEYUP,this.onKeyUp),window.removeEventListener(n.Ks.RESIZE,this.onResize,!1),window.removeEventListener(n.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(n.Ks.BLUR,this.onBlur,!1),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.removeEventListener(n.Ks.DRAG_OVER,this.disableEvent,!1),(Ee=this.excalidrawContainerRef.current)===null||Ee===void 0||Ee.removeEventListener(n.Ks.DROP,this.disableEvent,!1),document.removeEventListener(n.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(n.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(n.Ks.GESTURE_END,this.onGestureEnd,!1),(Me=this.detachIsMobileMqHandler)===null||Me===void 0||Me.call(this)}},{key:"addEventListeners",value:function(){var ne,L,ke,Ee,Me,Ae=this;this.removeEventListeners(),document.addEventListener(n.Ks.POINTER_UP,this.removePointer),document.addEventListener(n.Ks.COPY,this.onCopy),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.addEventListener(n.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(n.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(n.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(n.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(L=document.fonts)===null||L===void 0||(ke=L.addEventListener)===null||ke===void 0||ke.call(L,"loadingdone",function(Ne){var Be=Ne.fontfaces;Ae.fonts.onFontsLoaded(Be)}),document.addEventListener(n.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(n.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(n.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(n.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(n.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,a.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(n.Ks.SCROLL,this.onScroll)),window.addEventListener(n.Ks.RESIZE,this.onResize,!1),window.addEventListener(n.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(n.Ks.BLUR,this.onBlur,!1),(Ee=this.excalidrawContainerRef.current)===null||Ee===void 0||Ee.addEventListener(n.Ks.DRAG_OVER,this.disableEvent,!1),(Me=this.excalidrawContainerRef.current)===null||Me===void 0||Me.addEventListener(n.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(ne,L){var ke,Ee,Me,Ae=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&ne.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(L.scrollX!==this.state.scrollX||L.scrollY!==this.state.scrollY)&&((Ee=this.props)===null||Ee===void 0||(Me=Ee.onScrollChange)===null||Me===void 0||Me.call(Ee,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,A.EN)(this.state)&&this.setState({activeTool:(0,a.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&L.theme!==this.state.theme&&(0,a.OF)(this.canvas,this.state.theme),L.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),ne.langCode!==this.props.langCode&&this.updateLanguage(),ne.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),L.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),ne.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),ne.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),ne.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?n.k:null}),this.props.name&&ne.name!==this.props.name&&this.setState({name:this.props.name}),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ae.state.editingLinearElement&&Ae.actionManager.executeAction(b.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var Ne,Be,qe=L.multiElement;L.activeTool!==this.state.activeTool&&qe!=null&&(0,c.N1)(this.state)&&(0,K.Mn)(qe,!1)&&(0,c.R)(qe,this.state,this.scene,(0,a.AK)(F._.getPointAtIndexGlobalCoordinates(qe,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(Ne=(Be=this.props).onChange)===null||Ne===void 0||Ne.call(Be,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(ne){var L=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ke=(0,a.dE)({clientX:ln,clientY:sn},this.state),Ee=ke.x,Me=ke.y,Ae={x:Ee,y:Me,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:ne,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:n.hs,locked:!1},Ne=10,Be=Me,qe=L?[ne]:ne.split(`
`),Qe=qe.reduce(function(Ge,pt,ut){var jt=pt.trim(),st=(0,nt.PT)(Ae.fontFamily);if(jt.length){var Mt=(0,j.VL)(at(at({},Ae),{},{x:Ee,y:Be,text:jt,lineHeight:st}));Ge.push(Mt),Be+=Mt.height+Ne}else{var St;!((St=qe[ut-1])===null||St===void 0)&&St.trim()&&(Be+=(0,nt.Rg)(Ae.fontSize,st)+Ne)}return Ge},[]);Qe.length!==0&&(this.scene.replaceAllElements([].concat((0,f.Z)(this.scene.getElementsIncludingDeleted()),(0,f.Z)(Qe))),this.setState({selectedElementIds:Object.fromEntries(Qe.map(function(Ge){return[Ge.id,!0]}))}),!L&&Qe.length>1&&Co===!1&&!this.device.isMobile&&(this.setToast({message:(0,u.t)("toast.pasteAsSingleElement",{shortcut:(0,a.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Co=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(ne,L){var ke=this,Ee=L.isExistingElement,Me=Ee!==void 0&&Ee,Ae=function(Ne,Be,qe){ke.scene.replaceAllElements((0,f.Z)(ke.scene.getElementsIncludingDeleted().map(function(Qe){return Qe.id===ne.id&&(0,j.iB)(Qe)?(0,j.N_)(Qe,{text:Ne,isDeleted:qe,originalText:Be}):Qe})))};(0,j.b_)({id:ne.id,canvas:this.canvas,getViewportCoords:function(Ne,Be){var qe=(0,a._i)({sceneX:Ne,sceneY:Be},ke.state),Qe=qe.x,Ge=qe.y;return[Qe-ke.state.offsetLeft,Ge-ke.state.offsetTop]},onChange:(0,a.tH)(function(Ne){Ae(Ne,Ne,!1),(0,j.qP)(ne)&&(0,c.Ww)(ne)}),onSubmit:(0,a.tH)(function(Ne){var Be=Ne.text,qe=Ne.viaKeyboard,Qe=Ne.originalText,Ge=!Be.trim();if(Ae(Be,Qe,Ge),!Ge&&qe){var pt=ne.containerId?ne.containerId:ne.id;ke.setState(function(ut){return{selectedElementIds:at(at({},ut.selectedElementIds),{},(0,ee.Z)({},pt,!0))}})}Ge&&(0,c.$q)(ke.scene.getNonDeletedElements(),[ne]),Ge&&!Me||ke.history.resumeRecording(),ke.setState({draggingElement:null,editingElement:null}),ke.state.activeTool.locked&&(0,a.Uk)(ke.canvas,ke.state),ke.focusContainer()}),element:ne,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Ae(ne.text,ne.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(ne,L){var ke=this.getElementAtPosition(ne,L,{includeBoundTextElement:!0});return ke&&(0,j.iB)(ke)&&!ke.isDeleted?ke:null}},{key:"getElementAtPosition",value:function(ne,L,ke){var Ee=this.getElementsAtPosition(ne,L,ke==null?void 0:ke.includeBoundTextElement,ke==null?void 0:ke.includeLockedElements);if(Ee.length>1){if(ke!=null&&ke.preferSelected){for(var Me=Ee.length-1;Me>-1;Me--)if(this.state.selectedElementIds[Ee[Me].id])return Ee[Me]}var Ae=Ee[Ee.length-1];return(0,j.wB)(Ae,this.state,ne,L)?Ee[Ee.length-2]:Ae}return Ee.length===1?Ee[0]:null}},{key:"getElementsAtPosition",value:function(ne,L){var ke=this,Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Me=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ae=Ee&&Me?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Ne){return(Me||!Ne.locked)&&(Ee||!((0,j.iB)(Ne)&&Ne.containerId))});return(0,N.CJ)(Ae,function(Ne){return(0,j.wX)(Ne,ke.state,ne,L)})}},{key:"handleHoverSelectedLinearElement",value:function(ne,L,ke){var Ee=F._.getElement(ne.elementId),Me=(0,nt.WJ)(Ee);if(Ee)if(this.state.selectedLinearElement){var Ae=-1,Ne=null;(0,go.Qu)(Ee,this.state,[L,ke])?(Ae=F._.getPointIndexUnderCursor(Ee,this.state.zoom,L,ke),Ne=F._.getSegmentMidpointHitCoords(ne,{x:L,y:ke},this.state),Ae>=0||Ne?(0,a.KJ)(this.canvas,n.oc.POINTER):(0,a.KJ)(this.canvas,n.oc.MOVE)):((0,ai.oY)([Ee],this.state)&&(0,j.wB)(Ee,this.state,L,ke)||Me&&(0,j.wX)(Me,this.state,L,ke))&&(0,a.KJ)(this.canvas,n.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Ae&&this.setState({selectedLinearElement:at(at({},this.state.selectedLinearElement),{},{hoverPointIndex:Ae})}),F._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,Ne)||this.setState({selectedLinearElement:at(at({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:Ne})})}else(0,a.KJ)(this.canvas,n.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(ne){en!==null&&en(ne)}},{key:"updateGestureOnPointerDown",value:function(ne){ir.pointers.set(ne.pointerId,{x:ne.clientX,y:ne.clientY}),ir.pointers.size===2&&(ir.lastCenter=ie(ir.pointers),ir.initialScale=this.state.zoom.value,ir.initialDistance=M(Array.from(ir.pointers.values())))}},{key:"initialPointerDownState",value:function(ne){var L=(0,a.dE)(ne,this.state),ke=(0,N.eD)(this.scene.getNonDeletedElements(),this.state),Ee=(0,j.KP)(ke),Me=(0,g.Z)(Ee,4),Ae=Me[0],Ne=Me[1],Be=Me[2],qe=Me[3];return{origin:L,withCmdOrCtrl:ne[I.tW.CTRL_OR_CMD],originInGrid:(0,a.AK)((0,P.wC)(L.x,L.y,this.state.gridSize)),scrollbars:(0,N._4)(qn,ne.clientX-this.state.offsetLeft,ne.clientY-this.state.offsetTop),lastCoords:at({},L),originalElements:this.scene.getNonDeletedElements().reduce(function(Qe,Ge){return Qe.set(Ge.id,(0,T.OL)(Ge)),Qe},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Be+Ae)/2,y:(qe+Ne)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(L,ke)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(ne,L){var ke=this;if(!L.scrollbars.isOverEither||this.state.multiElement)return!1;Xn=!0,L.lastCoords.x=ne.clientX,L.lastCoords.y=ne.clientY;var Ee=(0,a.$9)(function(Ae){Ae.target instanceof HTMLElement&&ke.handlePointerMoveOverScrollbars(Ae,L)}),Me=(0,a.tH)(function(){Xn=!1,(0,a.Uk)(ke.canvas,ke.state),en=null,ke.setState({cursorButton:"up"}),ke.savePointer(ne.clientX,ne.clientY,"up"),window.removeEventListener(n.Ks.POINTER_MOVE,Ee),window.removeEventListener(n.Ks.POINTER_UP,Me),Ee.flush()});return en=Me,window.addEventListener(n.Ks.POINTER_MOVE,Ee),window.addEventListener(n.Ks.POINTER_UP,Me),!0}},{key:"isASelectedElement",value:function(ne){return ne!=null&&this.state.selectedElementIds[ne.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(ne,L){if(L.length<2)return!1;var ke=10/this.state.zoom.value,Ee=(0,j.KP)(L),Me=(0,g.Z)(Ee,4),Ae=Me[0],Ne=Me[1],Be=Me[2],qe=Me[3];return ne.x>Ae-ke&&ne.x<Be+ke&&ne.y>Ne-ke&&ne.y<qe+ke}},{key:"onKeyDownFromPointerDownHandler",value:function(ne){var L=this;return(0,a.tH)(function(ke){L.maybeHandleResize(ne,ke)||L.maybeDragNewGenericElement(ne,ke)})}},{key:"onKeyUpFromPointerDownHandler",value:function(ne){var L=this;return(0,a.tH)(function(ke){ke.key===I.tW.ALT&&ke.preventDefault(),L.maybeHandleResize(ne,ke)||L.maybeDragNewGenericElement(ne,ke)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(ne){var L=this;return(0,a.$9)(function(ke){var Ee;if(ne.drag.offset===null&&(ne.drag.offset=(0,a.AK)((0,j.$V)((0,N.eD)(L.scene.getNonDeletedElements(),L.state),ne.origin.x,ne.origin.y))),ke.target instanceof HTMLElement&&!L.handlePointerMoveOverScrollbars(ke,ne)){var Me=(0,a.dE)(ke,L.state);if((0,A.EN)(L.state))L.handleEraser(ke,ne,Me);else{var Ae=(0,P.wC)(Me.x,Me.y,L.state.gridSize),Ne=(0,g.Z)(Ae,2),Be=Ne[0],qe=Ne[1];if(ne.drag.hasOccurred||L.state.activeTool.type!=="arrow"&&L.state.activeTool.type!=="line"||!((0,P.LW)(Me.x,Me.y,ne.origin.x,ne.origin.y)<n.f)){if(ne.resize.isResizing&&(ne.lastCoords.x=Me.x,ne.lastCoords.y=Me.y,L.maybeHandleResize(ne,ke)))return!0;if(L.state.selectedLinearElement){var Qe=L.state.editingLinearElement||L.state.selectedLinearElement;if(F._.shouldAddMidpoint(L.state.selectedLinearElement,Me,L.state)){var Ge=F._.addMidpoint(L.state.selectedLinearElement,Me,L.state);return Ge?void(0,Ce.flushSync)(function(){L.state.selectedLinearElement&&L.setState({selectedLinearElement:at(at({},L.state.selectedLinearElement),{},{pointerDownState:Ge.pointerDownState,selectedPointsIndices:Ge.selectedPointsIndices})}),L.state.editingLinearElement&&L.setState({editingLinearElement:at(at({},L.state.editingLinearElement),{},{pointerDownState:Ge.pointerDownState,selectedPointsIndices:Ge.selectedPointsIndices})})}):void 0}if(Qe.pointerDownState.segmentMidpoint.value!==null&&!Qe.pointerDownState.segmentMidpoint.added)return;var pt=F._.handlePointDragging(ke,L.state,Me.x,Me.y,function(Ar,Zn){L.maybeSuggestBindingsForLinearElementAtCoords(Ar,Zn)},Qe);if(pt)return ne.lastCoords.x=Me.x,ne.lastCoords.y=Me.y,ne.drag.hasOccurred=!0,L.state.editingLinearElement&&!L.state.editingLinearElement.isDragging&&L.setState({editingLinearElement:at(at({},L.state.editingLinearElement),{},{isDragging:!0})}),void(L.state.selectedLinearElement.isDragging||L.setState({selectedLinearElement:at(at({},L.state.selectedLinearElement),{},{isDragging:!0})}))}var ut=ne.hit.allHitElements.some(function(Ar){return L.isASelectedElement(Ar)}),jt=L.state.editingLinearElement&&ke.shiftKey&&L.state.editingLinearElement.elementId===((Ee=ne.hit.element)===null||Ee===void 0?void 0:Ee.id);if((ut||ne.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!jt){var st=(0,N.eD)(L.scene.getNonDeletedElements(),L.state);if(st.every(function(Ar){return Ar.locked}))return;if(ne.drag.hasOccurred=!0,st.length>0&&!ne.withCmdOrCtrl){var Mt=(0,P.wC)(Me.x-ne.drag.offset.x,Me.y-ne.drag.offset.y,L.state.gridSize),St=(0,g.Z)(Mt,2),yt=St[0],Zt=St[1],It=[Math.abs(Me.x-ne.origin.x),Math.abs(Me.y-ne.origin.y)],Ht=It[0],qt=It[1],vr=ke.shiftKey;if((0,j.o8)(ne,st,yt,Zt,vr,Ht,qt,L.state),L.maybeSuggestBindingForAll(st),ke.altKey&&!ne.hit.hasBeenDuplicated){ne.hit.hasBeenDuplicated=!0;var kr,Or=[],mr=[],Rr=new Map,Jt=new Map,Er=ne.hit.element,br=L.scene.getElementsIncludingDeleted(),Mr=(0,N.eD)(br,L.state,!0).map(function(Ar){return Ar.id}),Vt=ko(br);try{for(Vt.s();!(kr=Vt.n()).done;){var tr=kr.value;if(Mr.includes(tr.id)||tr.id===(Er==null?void 0:Er.id)&&ne.hit.wasAddedToSelection){var Sr=(0,j.Sy)(L.state.editingGroupId,Rr,tr),tn=(0,P.wC)(ne.origin.x-ne.drag.offset.x,ne.origin.y-ne.drag.offset.y,L.state.gridSize),Io=(0,g.Z)(tn,2),pi=Io[0],hi=Io[1];(0,h.DR)(Sr,{x:Sr.x+(pi-yt),y:Sr.y+(hi-Zt)}),Or.push(Sr),mr.push(tr),Jt.set(tr.id,Sr.id)}else Or.push(tr)}}catch(Ar){Vt.e(Ar)}finally{Vt.f()}var Mo=[].concat(Or,mr);(0,nt.P7)(Or,mr,Jt),(0,c.ek)(Mo,mr,Jt,"duplicatesServeAsOld"),L.scene.replaceAllElements(Mo)}return}}var yr=L.state.draggingElement;if(yr){if(yr.type==="freedraw"){var Ln=yr.points,To=Me.x-yr.x,Po=Me.y-yr.y,Qn=Ln.length>0&&Ln[Ln.length-1];if(!(Qn&&Qn[0]===To&&Qn[1]===Po)){var mi=yr.simulatePressure?yr.pressures:[].concat((0,f.Z)(yr.pressures),[ke.pressure]);(0,h.DR)(yr,{points:[].concat((0,f.Z)(Ln),[[To,Po]]),pressures:mi})}}else if((0,K.bt)(yr)){ne.drag.hasOccurred=!0;var En=yr.points,eo=Be-yr.x,to=qe-yr.y;if((0,I.Ge)(ke)&&En.length===2){var Do=(0,j.o4)(yr.x,yr.y,Me.x,Me.y);eo=Do.width,to=Do.height}En.length===1?(0,h.DR)(yr,{points:[].concat((0,f.Z)(En),[[eo,to]])}):En.length===2&&(0,h.DR)(yr,{points:[].concat((0,f.Z)(En.slice(0,-1)),[[eo,to]])}),(0,K.Mn)(yr,!1)&&L.maybeSuggestBindingsForLinearElementAtCoords(yr,[Me],L.state.startBoundElement)}else ne.lastCoords.x=Me.x,ne.lastCoords.y=Me.y,L.maybeDragNewGenericElement(ne,ke);if(L.state.activeTool.type==="selection"){ne.boxSelection.hasOccurred=!0;var Ao=L.scene.getNonDeletedElements();if(ke.shiftKey||L.state.editingLinearElement||!(0,N.N)(Ao,L.state)||(ne.withCmdOrCtrl&&ne.hit.element?L.setState(function(Ar){return(0,z.bO)(at(at({},Ar),{},{selectedElementIds:(0,ee.Z)({},ne.hit.element.id,!0)}),L.scene.getNonDeletedElements())}):L.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),L.state.editingLinearElement)F._.handleBoxSelection(ke,L.state,L.setState.bind(L));else{var un=(0,N.Yp)(Ao,yr);L.setState(function(Ar){return(0,z.bO)(at(at({},Ar),{},{selectedElementIds:at(at(at({},Ar.selectedElementIds),un.reduce(function(Zn,gi){return Zn[gi.id]=!0,Zn},{})),ne.hit.element?(0,ee.Z)({},ne.hit.element.id,!un.length):null),showHyperlinkPopup:!(un.length!==1||!un[0].link)&&"info",selectedLinearElement:un.length===1&&(0,K.bt)(un[0])?new F._(un[0],L.scene):null}),L.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(ne,L){if(L.scrollbars.isOverHorizontal){var ke=ne.clientX,Ee=ke-L.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Ee/this.state.zoom.value}),L.lastCoords.x=ke,!0}if(L.scrollbars.isOverVertical){var Me=ne.clientY,Ae=Me-L.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Ae/this.state.zoom.value}),L.lastCoords.y=Me,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(ne){var L=this;return(0,a.tH)(function(ke){var Ee,Me,Ae,Ne=L.state,Be=Ne.draggingElement,qe=Ne.resizingElement,Qe=Ne.multiElement,Ge=Ne.activeTool,pt=Ne.isResizing,ut=Ne.isRotating;if(L.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Qe||(0,j.iB)(L.state.editingElement)?L.state.editingElement:null}),L.savePointer(ke.clientX,ke.clientY,"up"),L.state.editingLinearElement)if(ne.boxSelection.hasOccurred||((Me=ne.hit)===null||Me===void 0||(Ae=Me.element)===null||Ae===void 0?void 0:Ae.id)===L.state.editingLinearElement.elementId){var jt=F._.handlePointerUp(ke,L.state.editingLinearElement,L.state);jt!==L.state.editingLinearElement&&L.setState({editingLinearElement:jt,suggestedBindings:[]})}else L.actionManager.executeAction(b.pL);else if(L.state.selectedLinearElement){var st,Mt;if(((st=ne.hit)===null||st===void 0||(Mt=st.element)===null||Mt===void 0?void 0:Mt.id)!==L.state.selectedLinearElement.elementId)(0,N.eD)(L.scene.getNonDeletedElements(),L.state).length>1&&L.setState({selectedLinearElement:null});else{var St=F._.handlePointerUp(ke,L.state.selectedLinearElement,L.state),yt=St.startBindingElement,Zt=St.endBindingElement,It=L.scene.getElement(St.elementId);(0,K.Mn)(It)&&(0,c.HG)(It,yt,Zt),St!==L.state.selectedLinearElement&&L.setState({selectedLinearElement:at(at({},St),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(en=null,ne.eventListeners.onMove&&ne.eventListeners.onMove.flush(),window.removeEventListener(n.Ks.POINTER_MOVE,ne.eventListeners.onMove),window.removeEventListener(n.Ks.POINTER_UP,ne.eventListeners.onUp),window.removeEventListener(n.Ks.KEYDOWN,ne.eventListeners.onKeyDown),window.removeEventListener(n.Ks.KEYUP,ne.eventListeners.onKeyUp),L.state.pendingImageElementId&&L.setState({pendingImageElementId:null}),(Be==null?void 0:Be.type)==="freedraw"){var Ht=(0,a.dE)(ke,L.state),qt=Be.points,vr=Ht.x-Be.x,kr=Ht.y-Be.y;vr===qt[0][0]&&kr===qt[0][1]&&(kr+=1e-4,vr+=1e-4);var Or=Be.simulatePressure?[]:[].concat((0,f.Z)(Be.pressures),[ke.pressure]);return(0,h.DR)(Be,{points:[].concat((0,f.Z)(qt),[[vr,kr]]),pressures:Or,lastCommittedPoint:[vr,kr]}),void L.actionManager.executeAction(b.pL)}if((0,K.pC)(Be)){var mr=Be;try{L.initializeImageDimensions(mr),L.setState({selectedElementIds:(0,ee.Z)({},mr.id,!0)},function(){L.actionManager.executeAction(b.pL)})}catch(Vt){console.error(Vt),L.scene.replaceAllElements(L.scene.getElementsIncludingDeleted().filter(function(tr){return tr.id!==mr.id})),L.actionManager.executeAction(b.pL)}}else if((0,K.bt)(Be)){Be.points.length>1&&L.history.resumeRecording();var Rr=(0,a.dE)(ke,L.state);ne.drag.hasOccurred||!Be||Qe?ne.drag.hasOccurred&&!Qe&&((0,c.N1)(L.state)&&(0,K.Mn)(Be,!1)&&(0,c.R)(Be,L.state,L.scene,Rr),L.setState({suggestedBindings:[],startBoundElement:null}),Ge.locked?L.setState(function(Vt){return{draggingElement:null}}):((0,a.z8)(L.canvas),L.setState(function(Vt){return{draggingElement:null,activeTool:(0,a.Om)(L.state,{type:"selection"}),selectedElementIds:at(at({},Vt.selectedElementIds),{},(0,ee.Z)({},Be.id,!0)),selectedLinearElement:new F._(Be,L.scene)}}))):((0,h.DR)(Be,{points:[].concat((0,f.Z)(Be.points),[[Rr.x-Be.x,Rr.y-Be.y]])}),L.setState({multiElement:Be,editingElement:L.state.draggingElement}))}else{if(Ge.type!=="selection"&&Be&&(0,j.QD)(Be))return L.scene.replaceAllElements(L.scene.getElementsIncludingDeleted().slice(0,-1)),void L.setState({draggingElement:null});Be&&(0,h.DR)(Be,(0,j.Qp)(Be)),qe&&L.history.resumeRecording(),qe&&(0,j.QD)(qe)&&L.scene.replaceAllElements(L.scene.getElementsIncludingDeleted().filter(function(Vt){return Vt.id!==qe.id}));var Jt=ne.hit.element;if(((Ee=L.state.selectedLinearElement)===null||Ee===void 0?void 0:Ee.elementId)!==(Jt==null?void 0:Jt.id)&&(0,K.bt)(Jt)&&(0,N.eD)(L.scene.getNonDeletedElements(),L.state).length===1&&L.setState({selectedLinearElement:new F._(Jt,L.scene)}),(0,A.EN)(L.state)){if((0,P.LW)(L.lastPointerDown.clientX,L.lastPointerDown.clientY,L.lastPointerUp.clientX,L.lastPointerUp.clientY)===0){var Er=(0,a.dE)({clientX:L.lastPointerUp.clientX,clientY:L.lastPointerUp.clientY},L.state);L.getElementsAtPosition(Er.x,Er.y).forEach(function(Vt){return ne.elementIdsToErase[Vt.id]={erase:!0,opacity:Vt.opacity}})}L.eraseElements(ne)}else{var br;if(Object.keys(ne.elementIdsToErase).length&&L.restoreReadyToEraseElements(ne),Jt&&!ne.drag.hasOccurred&&!ne.hit.wasAddedToSelection&&(!L.state.editingLinearElement||!ne.boxSelection.hasOccurred))if(ke.shiftKey&&!L.state.editingLinearElement)if(L.state.selectedElementIds[Jt.id])if((0,z.zq)(L.state,Jt)){var Mr=Jt.groupIds.flatMap(function(Vt){return(0,z.Fb)(L.scene.getNonDeletedElements(),Vt)}).map(function(Vt){return(0,ee.Z)({},Vt.id,!1)}).reduce(function(Vt,tr){return at(at({},Vt),tr)},{});L.setState(function(Vt){return{selectedGroupIds:at(at({},Vt.selectedElementIds),Jt.groupIds.map(function(tr){return(0,ee.Z)({},tr,!1)}).reduce(function(tr,Sr){return at(at({},tr),Sr)},{})),selectedElementIds:at(at({},Vt.selectedElementIds),Mr)}})}else(br=L.state.selectedLinearElement)!==null&&br!==void 0&&br.isDragging||L.setState(function(Vt){var tr=at(at({},Vt.selectedElementIds),{},(0,ee.Z)({},Jt.id,!1)),Sr=(0,N.eD)(L.scene.getNonDeletedElements(),at(at({},Vt),{},{selectedElementIds:tr}));return(0,z.bO)(at(at({},Vt),{},{selectedElementIds:tr,selectedLinearElement:Sr.length===1&&(0,K.bt)(Sr[0])?new F._(Sr[0],L.scene):Vt.selectedLinearElement}),L.scene.getNonDeletedElements())});else L.setState(function(Vt){return{selectedElementIds:at(at({},Vt.selectedElementIds),{},(0,ee.Z)({},Jt.id,!0))}});else L.setState(function(Vt){var tr;return at({},(0,z.bO)(at(at({},Vt),{},{selectedElementIds:(0,ee.Z)({},Jt.id,!0),selectedLinearElement:(0,K.bt)(Jt)&&((tr=Vt.selectedLinearElement)===null||tr===void 0?void 0:tr.elementId)!==Jt.id?new F._(Jt,L.scene):Vt.selectedLinearElement}),L.scene.getNonDeletedElements()))});ne.drag.hasOccurred||L.state.isResizing||!(Jt&&(0,j.wB)(Jt,L.state,ne.origin.x,ne.origin.y)||!Jt&&ne.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ge.locked&&Ge.type!=="freedraw"&&Be&&L.setState(function(Vt){return{selectedElementIds:at(at({},Vt.selectedElementIds),{},(0,ee.Z)({},Be.id,!0))}}),(Ge.type!=="selection"||(0,N.N)(L.scene.getNonDeletedElements(),L.state))&&L.history.resumeRecording(),(ne.drag.hasOccurred||pt||ut)&&((0,c.N1)(L.state)?c.el:c.H)((0,N.eD)(L.scene.getNonDeletedElements(),L.state)),Ge.locked||Ge.type==="freedraw"?L.setState({draggingElement:null,suggestedBindings:[]}):((0,a.z8)(L.canvas),L.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,a.Om)(L.state,{type:"selection"})}))):L.state.editingLinearElement?L.setState({editingLinearElement:null}):L.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(ne){var L=(0,c.ZB)(ne);this.setState({suggestedBindings:L})}},{key:"clearSelection",value:function(ne){this.setState(function(L){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:L.editingGroupId&&ne!=null&&(0,z.Nd)(ne,L.editingGroupId)?L.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(ne,L,ke,Ee){if(Ee){var Me=Ee.x+Ee.width/2,Ae=Ee.y+Ee.height/2,Ne=(0,nt.TP)(Ee,ke);if(Ne&&(Me=Ne.x,Ae=Ne.y),Math.hypot(ne-Me,L-Ae)<n.wZ){var Be=(0,a._i)({sceneX:Me,sceneY:Ae},ke);return{viewportX:Be.x,viewportY:Be.y,elementCenterX:Me,elementCenterY:Ae}}}}},{key:"getCanvasOffsets",value:function(){var ne;if((ne=this.excalidrawContainerRef)!==null&&ne!==void 0&&ne.current){var L=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:L.left,offsetTop:L.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(k=(0,d.Z)(y().mark(function ne(){var L,ke=this;return y().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return L=u.Mj.find(function(Me){return Me.code===ke.props.langCode})||u.Fp,Ee.next=3,(0,u.m0)(L);case 3:this.setAppState({});case 4:case"end":return Ee.stop()}},ne,this)})),function(){return k.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){xn=!1}}]),je}(fe().Component);$n.defaultProps={UIOptions:n.cW};var di=function(){var r=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=jo,this.excalidrawContainerRef=fe().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var k;r.props.autoFocus&&((k=r.excalidrawContainerRef.current)===null||k===void 0||k.focus())},this.getSceneElementsIncludingDeleted=function(){return r.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return r.scene.getNonDeletedElements()},this.syncActionResult=(0,a.tH)(function(k){if(!r.unmounted&&k!==!1){var V=null;if(k.elements&&(k.elements.forEach(function(ut){var jt;((jt=r.state.editingElement)===null||jt===void 0?void 0:jt.id)===ut.id&&r.state.editingElement!==ut&&(0,j.qP)(ut)&&(V=ut)}),r.scene.replaceAllElements(k.elements),k.commitToHistory&&r.history.resumeRecording()),k.files&&(r.files=k.replaceFiles?k.files:at(at({},r.files),k.files),r.addNewImagesToImageCache()),k.appState||V||r.state.contextMenu){var re,je,ne,L,ke,Ee,Me,Ae;k.commitToHistory&&r.history.resumeRecording();var Ne=(k==null||(re=k.appState)===null||re===void 0?void 0:re.viewModeEnabled)||!1,Be=(k==null||(je=k.appState)===null||je===void 0?void 0:je.zenModeEnabled)||!1,qe=(k==null||(ne=k.appState)===null||ne===void 0?void 0:ne.gridSize)||null,Qe=(k==null||(L=k.appState)===null||L===void 0?void 0:L.theme)||r.props.theme||n.C6.LIGHT,Ge=(ke=k==null||(Ee=k.appState)===null||Ee===void 0?void 0:Ee.name)!==null&&ke!==void 0?ke:r.state.name,pt=(Me=k==null||(Ae=k.appState)===null||Ae===void 0?void 0:Ae.errorMessage)!==null&&Me!==void 0?Me:r.state.errorMessage;r.props.viewModeEnabled!==void 0&&(Ne=r.props.viewModeEnabled),r.props.zenModeEnabled!==void 0&&(Be=r.props.zenModeEnabled),r.props.gridModeEnabled!==void 0&&(qe=r.props.gridModeEnabled?n.k:null),r.props.name!==void 0&&(Ge=r.props.name),r.setState(function(ut){var jt;return Object.assign(k.appState||{},{contextMenu:null,editingElement:V||((jt=k.appState)===null||jt===void 0?void 0:jt.editingElement)||null,viewModeEnabled:Ne,zenModeEnabled:Be,gridSize:qe,theme:Qe,name:Ge,errorMessage:pt})},function(){k.syncHistory&&r.history.setCurrentState(r.state,r.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,a.tH)(function(){cn=!1,r.setState({isBindingEnabled:!0})}),this.onUnload=function(){r.onBlur()},this.disableEvent=function(k){k.preventDefault()},this.resetHistory=function(){r.history.clear()},this.resetScene=(0,a.tH)(function(k){r.scene.replaceAllElements([]),r.setState(function(V){return at(at({},(0,A.im)()),{},{isLoading:(k==null||!k.resetLoadingState)&&V.isLoading,theme:r.state.theme})}),r.resetHistory()}),this.initializeScene=(0,d.Z)(y().mark(function k(){var V,re,je,ne,L;return y().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Ee=(0,d.Z)(y().mark(function Me(Ae){var Ne,Be;return y().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(Ae.files.length){qe.next=2;break}return qe.abrupt("return");case 2:return Ne=Ae.files[0],qe.next=5,Ne.getFile();case 5:Be=qe.sent,r.loadFileToCanvas(new File([Be],Be.name||"",{type:Be.type}),Ne);case 7:case"end":return qe.stop()}},Me)}));return function(Me){return Ee.apply(this,arguments)}}()),r.props.theme&&r.setState({theme:r.props.theme}),r.state.isLoading||r.setState({isLoading:!0}),je=null,ke.prev=4,ke.next=7,r.props.initialData;case 7:if(ke.t0=ke.sent,ke.t0){ke.next=10;break}ke.t0=null;case 10:je=ke.t0,(ne=je)!==null&&ne!==void 0&&ne.libraryItems&&r.library.updateLibrary({libraryItems:je.libraryItems,merge:!0}).catch(function(Ee){console.error(Ee)}),ke.next=18;break;case 14:ke.prev=14,ke.t1=ke.catch(4),console.error(ke.t1),je={appState:{errorMessage:ke.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(L=(0,H.nu)(je,null,null,{repairBindings:!0})).appState=at(at({},L.appState),{},{theme:r.props.theme||L.appState.theme,openSidebar:((V=L.appState)===null||V===void 0?void 0:V.openSidebar)||r.state.openSidebar,activeTool:L.appState.activeTool.type==="image"?at(at({},L.appState.activeTool),{},{type:"selection"}):L.appState.activeTool,isLoading:!1,toast:r.state.toast}),(re=je)!==null&&re!==void 0&&re.scrollToContent&&(L.appState=at(at({},L.appState),(0,N.W)(L.elements,at(at({},L.appState),{},{width:r.state.width,height:r.state.height,offsetTop:r.state.offsetTop,offsetLeft:r.state.offsetLeft}),null))),r.fonts.loadFontsForElements(L.elements),r.resetHistory(),r.syncActionResult(at(at({},L),{},{commitToHistory:!0}));case 24:case"end":return ke.stop()}},k,null,[[4,14]])})),this.refreshDeviceState=function(k){var V=k.getBoundingClientRect(),re=V.width,je=V.height,ne=r.props.UIOptions.dockedSidebarBreakpoint!=null?r.props.UIOptions.dockedSidebarBreakpoint:n.sk;r.device=(0,a.v4)(r.device,{isSmScreen:re<n.eF,isMobile:re<n.kV||je<n.Yx&&re<n.sS,canDeviceFitSidebar:re>ne})},this.onResize=(0,a.tH)(function(){r.scene.getElementsIncludingDeleted().forEach(function(k){return(0,se.bI)(k)}),r.setState({})}),this.renderScene=function(){var k={},V={},re={},je={},ne={};r.state.collaborators.forEach(function(Ee,Me){if(Ee.selectedElementIds)for(var Ae=0,Ne=Object.keys(Ee.selectedElementIds);Ae<Ne.length;Ae++){var Be=Ne[Ae];Be in re||(re[Be]=[]),re[Be].push(Me)}Ee.pointer&&(Ee.username&&(je[Me]=Ee.username),Ee.userState&&(ne[Me]=Ee.userState),V[Me]=(0,a._i)({sceneX:Ee.pointer.x,sceneY:Ee.pointer.y},r.state),k[Me]=Ee.button)});var L=r.scene.getNonDeletedElements().filter(function(Ee){return(!(0,K.pC)(Ee)||r.state.pendingImageElementId!==Ee.id)&&(!r.state.editingElement||r.state.editingElement.type!=="text"||Ee.id!==r.state.editingElement.id)}),ke=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,oe.Eu)({elements:L,appState:r.state,scale:window.devicePixelRatio,rc:r.rc,canvas:r.canvas,renderConfig:{selectionColor:ke,scrollX:r.state.scrollX,scrollY:r.state.scrollY,viewBackgroundColor:r.state.viewBackgroundColor,zoom:r.state.zoom,remotePointerViewportCoords:V,remotePointerButton:k,remoteSelectedElementIds:re,remotePointerUsernames:je,remotePointerUserStates:ne,shouldCacheIgnoreZoom:r.state.shouldCacheIgnoreZoom,theme:r.state.theme,imageCache:r.imageCache,isExporting:!1,renderScrollbars:!r.device.isMobile},callback:function(Ee){var Me=Ee.atLeastOneVisibleElement,Ae=Ee.scrollBars;Ae&&(qn=Ae);var Ne=!(0,j.iB)(r.state.editingElement)&&!Me&&L.length>0;r.state.scrolledOutside!==Ne&&r.setState({scrolledOutside:Ne}),r.scheduleImageRefresh()}},An&&window.EXCALIDRAW_THROTTLE_RENDER===!0),An||(An=!0)},this.onScroll=(0,a.Ds)(function(){var k=r.getCanvasOffsets(),V=k.offsetTop,re=k.offsetLeft;r.setState(function(je){return je.offsetLeft===re&&je.offsetTop===V?null:{offsetTop:V,offsetLeft:re}})},n.HM),this.onCut=(0,a.tH)(function(k){var V;!((V=r.excalidrawContainerRef.current)===null||V===void 0)&&V.contains(document.activeElement)&&!(0,a.s)(k.target)&&(r.cutAll(),k.preventDefault(),k.stopPropagation())}),this.onCopy=(0,a.tH)(function(k){var V;!((V=r.excalidrawContainerRef.current)===null||V===void 0)&&V.contains(document.activeElement)&&!(0,a.s)(k.target)&&(r.copyAll(),k.preventDefault(),k.stopPropagation())}),this.cutAll=function(){r.actionManager.executeAction(b.ZM,"keyboard")},this.copyAll=function(){r.actionManager.executeAction(b.uN,"keyboard")},this.onTapStart=function(k){if(n.Dt||k.preventDefault(),!xn)return xn=!0,clearTimeout(Vn),void(Vn=window.setTimeout($n.resetTapTwice,n.Gj));if(xn&&k.touches.length===1){var V=(0,g.Z)(k.touches,1)[0];r.handleCanvasDoubleClick({clientX:V.clientX,clientY:V.clientY}),xn=!1,clearTimeout(Vn)}n.Dt&&k.preventDefault(),k.touches.length===2&&r.setState({selectedElementIds:{}})},this.onTapEnd=function(k){r.resetContextMenuTimer(),k.touches.length>0?r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}):ir.pointers.clear()},this.pasteFromClipboard=(0,a.tH)(function(){var k=(0,d.Z)(y().mark(function V(re){var je,ne,L,ke,Ee,Me,Ae,Ne,Be,qe,Qe,Ge,pt;return y().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(L=!(!Jn||!re),ke=document.activeElement,Ee=(je=r.excalidrawContainerRef.current)===null||je===void 0?void 0:je.contains(ke),!re||Ee){ut.next=5;break}return ut.abrupt("return");case 5:if(Me=document.elementFromPoint(ln,sn),!re||Me instanceof HTMLCanvasElement&&!(0,a.s)(ke)){ut.next=8;break}return ut.abrupt("return");case 8:return Ae=re==null||(ne=re.clipboardData)===null||ne===void 0?void 0:ne.files[0],ut.next=11,(0,_.mQ)(re,L);case 11:if(Ne=ut.sent,Ae||!Ne.text||L||(Be=Ne.text.trim()).startsWith("<svg")&&Be.endsWith("</svg>")&&(Ae=(0,We.Pn)(Be)),!(0,We.Wr)(Ae)||Ne.spreadsheet){ut.next=20;break}return qe=(0,a.dE)({clientX:ln,clientY:sn},r.state),Qe=qe.x,Ge=qe.y,pt=r.createImageElement({sceneX:Qe,sceneY:Ge}),r.insertImageElement(pt,Ae),r.initializeImageDimensions(pt),r.setState({selectedElementIds:(0,ee.Z)({},pt.id,!0)}),ut.abrupt("return");case 20:if(!r.props.onPaste){ut.next=32;break}return ut.prev=21,ut.next=24,r.props.onPaste(Ne,re);case 24:if(ut.t0=ut.sent,ut.t0!==!1){ut.next=27;break}return ut.abrupt("return");case 27:ut.next=32;break;case 29:ut.prev=29,ut.t1=ut.catch(21),console.error(ut.t1);case 32:Ne.errorMessage?r.setState({errorMessage:Ne.errorMessage}):Ne.spreadsheet&&!L?r.setState({pasteDialog:{data:Ne.spreadsheet,shown:!0}}):Ne.elements?r.addElementsFromPasteOrLibrary({elements:Ne.elements,files:Ne.files||null,position:"cursor"}):Ne.text&&r.addTextFromPaste(Ne.text,L),r.setActiveTool({type:"selection"}),re==null||re.preventDefault();case 35:case"end":return ut.stop()}},V,null,[[21,29]])}));return function(V){return k.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(k){var V=(0,H.ET)(k.elements,null),re=(0,j.KP)(V),je=(0,g.Z)(re,4),ne=je[0],L=je[1],ke=je[2],Ee=je[3],Me=(0,a.TE)(ne,ke)/2,Ae=(0,a.TE)(L,Ee)/2,Ne=(0,w.Z)(k.position)==="object"?k.position.clientX:k.position==="cursor"?ln:r.state.width/2+r.state.offsetLeft,Be=(0,w.Z)(k.position)==="object"?k.position.clientY:k.position==="cursor"?sn:r.state.height/2+r.state.offsetTop,qe=(0,a.dE)({clientX:Ne,clientY:Be},r.state),Qe=qe.x-Me,Ge=qe.y-Ae,pt=(0,P.wC)(Qe,Ge,r.state.gridSize),ut=(0,g.Z)(pt,2),jt=ut[0],st=ut[1],Mt=(0,T._N)(V.map(function(yt){return(0,h.BE)(yt,{x:yt.x+jt-ne,y:yt.y+st-L})})),St=[].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),(0,f.Z)(Mt));r.scene.replaceAllElements(St),Mt.forEach(function(yt){if((0,j.iB)(yt)&&(0,K.Xh)(yt)){var Zt=(0,nt.tl)(yt);(0,j.oN)(yt,Zt)}}),k.files&&(r.files=at(at({},r.files),k.files)),r.history.resumeRecording(),r.setState((0,z.bO)(at(at({},r.state),{},{openSidebar:r.state.openSidebar&&r.device.canDeviceFitSidebar&&r.state.isSidebarDocked?r.state.openSidebar:null,selectedElementIds:Mt.reduce(function(yt,Zt){return(0,K.Xh)(Zt)||(yt[Zt.id]=!0),yt},{}),selectedGroupIds:{}}),r.scene.getNonDeletedElements()),function(){k.files&&r.addNewImagesToImageCache()}),r.setActiveTool({type:"selection"})},this.setAppState=function(k,V){r.setState(k,V)},this.removePointer=function(k){Qr&&r.resetContextMenuTimer(),ir.pointers.delete(k.pointerId)},this.toggleLock=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";r.state.activeTool.locked||(0,S.L)("toolbar","toggleLock","".concat(k," (").concat(r.device.isMobile?"mobile":"desktop",")")),r.setState(function(V){return{activeTool:at(at(at({},V.activeTool),(0,a.Om)(r.state,V.activeTool.locked?{type:"selection"}:V.activeTool)),{},{locked:!V.activeTool.locked})}})},this.togglePenMode=function(){r.setState(function(k){return{penMode:!k.penMode}})},this.onHandToolToggle=function(){r.actionManager.executeAction(wo.eF)},this.zoomCanvas=function(k){r.setState(at({},(0,he.E)({viewportX:r.state.width/2+r.state.offsetLeft,viewportY:r.state.height/2+r.state.offsetTop,nextZoom:(0,N.j)(k)},r.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var k,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.scene.getNonDeletedElements(),re=arguments.length>1?arguments[1]:void 0;(k=r.cancelInProgresAnimation)===null||k===void 0||k.call(r);var je=Array.isArray(V)?V:[V],ne=r.state.zoom,L=r.state.scrollX,ke=r.state.scrollY;if(re!=null&&re.fitToContent){var Ee=(0,wo.md)(je,r.state,!1),Me=Ee.appState;ne=Me.zoom,L=Me.scrollX,ke=Me.scrollY}else{var Ae=(0,N.W)(je,r.state,r.canvas);L=Ae.scrollX,ke=Ae.scrollY}if(re!=null&&re.animate){var Ne,Be=r.state.scrollX,qe=r.state.scrollY;r.zoomCanvas(ne.value);var Qe=(0,a.B4)([Be,qe],[L,ke],function(Ge,pt){return r.setState({scrollX:Ge,scrollY:pt})},{duration:(Ne=re==null?void 0:re.duration)!==null&&Ne!==void 0?Ne:500});r.cancelInProgresAnimation=function(){Qe(),r.cancelInProgresAnimation=null}}else r.setState({scrollX:L,scrollY:ke,zoom:ne})},this.translateCanvas=function(k){var V;(V=r.cancelInProgresAnimation)===null||V===void 0||V.call(r),r.setState(k)},this.setToast=function(k){r.setState({toast:k})},this.restoreFileFromShare=(0,d.Z)(y().mark(function k(){var V,re,je,ne;return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,caches.open("web-share-target");case 3:return V=L.sent,L.next=6,V.match("shared-file");case 6:if(!(re=L.sent)){L.next=16;break}return L.next=10,re.blob();case 10:return je=L.sent,ne=new File([je],je.name||"",{type:je.type}),r.loadFileToCanvas(ne,null),L.next=15,V.delete("shared-file");case 15:window.history.replaceState(null,n.iC,window.location.pathname);case 16:L.next=21;break;case 18:L.prev=18,L.t0=L.catch(0),r.setState({errorMessage:L.t0.message});case 21:case"end":return L.stop()}},k,null,[[0,18]])})),this.addFiles=(0,a.tH)(function(k){var V=k.reduce(function(re,je){return re.set(je.id,je),re},new Map);r.files=at(at({},r.files),Object.fromEntries(V)),r.scene.getNonDeletedElements().forEach(function(re){(0,K.wi)(re)&&V.has(re.fileId)&&(r.imageCache.delete(re.fileId),(0,se.bI)(re))}),r.scene.informMutation(),r.addNewImagesToImageCache()}),this.updateScene=(0,a.tH)(function(k){k.commitToHistory&&r.history.resumeRecording(),k.appState&&r.setState(k.appState),k.elements&&r.scene.replaceAllElements(k.elements),k.collaborators&&r.setState({collaborators:k.collaborators})}),this.onSceneUpdated=function(){r.setState({})},this.toggleMenu=function(k,V){return k!=="customSidebar"||r.props.renderSidebar?(k==="library"||k==="customSidebar")&&(re=V===void 0?r.state.openSidebar===k?null:k:V?k:null,r.setState({openSidebar:re}),!!re):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var re},this.updateCurrentCursorPosition=(0,a.tH)(function(k){ln=k.clientX,sn=k.clientY}),this.onKeyDown=(0,a.tH)(function(k){if("Proxy"in window&&(!k.shiftKey&&/^[A-Z]$/.test(k.key)||k.shiftKey&&/^[a-z]$/.test(k.key))&&(k=new Proxy(k,{get:function(Ge,pt){var ut=Ge[pt];return typeof ut=="function"?ut.bind(Ge):pt==="key"?k.shiftKey?Ge.key.toUpperCase():Ge.key.toLowerCase():ut}})),k[I.tW.CTRL_OR_CMD]&&k.key.toLowerCase()===I.tW.V&&(Jn=k.shiftKey,clearTimeout(Oo),Oo=window.setTimeout(function(){Jn=!1},100)),!k[I.tW.CTRL_OR_CMD]||!(0,a.s)(k.target)||k.code!==I.aU.MINUS&&k.code!==I.aU.EQUAL){if(!((0,a.s)(k.target)&&k.key!==I.tW.ESCAPE||(0,I.Wl)(k.key)&&(0,a._Z)(k.target)))if(k.key!==I.tW.QUESTION_MARK)if(k.key.toLowerCase()===I.tW.E&&k.shiftKey&&k[I.tW.CTRL_OR_CMD])r.setState({openDialog:"imageExport"});else{if(k.key===I.tW.PAGE_UP||k.key===I.tW.PAGE_DOWN){var V=(k.shiftKey?r.state.width:r.state.height)/r.state.zoom.value;k.key===I.tW.PAGE_DOWN&&(V=-V),k.shiftKey?r.translateCanvas(function(Ge){return{scrollX:Ge.scrollX+V}}):r.translateCanvas(function(Ge){return{scrollY:Ge.scrollY+V}})}if(!r.actionManager.handleKeyDown(k)&&!r.state.viewModeEnabled){if(k[I.tW.CTRL_OR_CMD]&&r.state.isBindingEnabled&&r.setState({isBindingEnabled:!1}),(0,I.Wl)(k.key)){var re=r.state.gridSize&&(k.shiftKey?n.$e:r.state.gridSize)||(k.shiftKey?n.Iw:n.$e),je=0,ne=0;k.key===I.tW.ARROW_LEFT?je=-re:k.key===I.tW.ARROW_RIGHT?je=re:k.key===I.tW.ARROW_UP?ne=-re:k.key===I.tW.ARROW_DOWN&&(ne=re);var L=(0,N.eD)(r.scene.getNonDeletedElements(),r.state,!0);L.forEach(function(Ge){(0,h.DR)(Ge,{x:Ge.x+je,y:Ge.y+ne}),(0,c.Ww)(Ge,{simultaneouslyUpdated:L})}),r.maybeSuggestBindingForAll(L),k.preventDefault()}else if(k.key===I.tW.ENTER){var ke=(0,N.eD)(r.scene.getNonDeletedElements(),r.state);if(ke.length===1){var Ee=ke[0];if(k[I.tW.CTRL_OR_CMD])(0,K.bt)(Ee)&&(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===ke[0].id||(r.history.resumeRecording(),r.setState({editingLinearElement:new F._(Ee,r.scene)})));else if((0,j.iB)(Ee)||(0,nt.Zr)(Ee)){var Me;(0,j.iB)(Ee)||(Me=Ee);var Ae=(0,nt.TP)(Ee,r.state),Ne=Ae.x,Be=Ae.y;return r.startTextEditing({sceneX:Ne,sceneY:Be,container:Me}),void k.preventDefault()}}}else if(!k.ctrlKey&&!k.altKey&&!k.metaKey&&r.state.draggingElement===null){var qe=function(Ge){var pt=be.find(function(ut,jt){return ut.numericKey!=null&&Ge===ut.numericKey.toString()||ut.key&&(typeof ut.key=="string"?ut.key===Ge:ut.key.includes(Ge))});return(pt==null?void 0:pt.value)||null}(k.key);qe?(r.state.activeTool.type!==qe&&(0,S.L)("toolbar",qe,"keyboard (".concat(r.device.isMobile?"mobile":"desktop",")")),r.setActiveTool({type:qe}),k.stopPropagation()):k.key===I.tW.Q&&(r.toggleLock("keyboard"),k.stopPropagation())}if(k.key===I.tW.SPACE&&ir.pointers.size===0&&(cn=!0,(0,a.KJ)(r.canvas,n.oc.GRAB),k.preventDefault()),!(k.key!==I.tW.G&&k.key!==I.tW.S||k.altKey||k[I.tW.CTRL_OR_CMD])){var Qe=(0,N.eD)(r.scene.getNonDeletedElements(),r.state);if(r.state.activeTool.type==="selection"&&!Qe.length)return;k.key===I.tW.G&&((0,N.$b)(r.state.activeTool.type)||Qe.some(function(Ge){return(0,N.$b)(Ge.type)}))&&(r.setState({openPopup:"backgroundColorPicker"}),k.stopPropagation()),k.key===I.tW.S&&(r.setState({openPopup:"strokeColorPicker"}),k.stopPropagation())}!k[I.tW.CTRL_OR_CMD]||k.key!==I.tW.BACKSPACE&&k.key!==I.tW.DELETE||In.e_.set(co.w,"clearCanvas")}}else r.setState({openDialog:"help"})}else k.preventDefault()}),this.onWheel=(0,a.tH)(function(k){k.target instanceof HTMLCanvasElement||!k.ctrlKey||k.preventDefault()}),this.onKeyUp=(0,a.tH)(function(k){if(k.key===I.tW.SPACE&&(r.state.viewModeEnabled?(0,a.KJ)(r.canvas,n.oc.GRAB):r.state.activeTool.type==="selection"?(0,a.z8)(r.canvas):((0,a.Uk)(r.canvas,r.state),r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),cn=!1),k[I.tW.CTRL_OR_CMD]||r.state.isBindingEnabled||r.setState({isBindingEnabled:!0}),(0,I.Wl)(k.key)){var V=(0,N.eD)(r.scene.getNonDeletedElements(),r.state);(0,c.N1)(r.state)?(0,c.el)(V):(0,c.H)(V),r.setState({suggestedBindings:[]})}}),this.setActiveTool=function(k){var V=(0,a.Om)(r.state,k);V.type==="hand"?(0,a.KJ)(r.canvas,n.oc.GRAB):cn||(0,a.Uk)(r.canvas,r.state),(0,a.wO)(document.activeElement)&&r.focusContainer(),(0,K.dt)(V.type)||r.setState({suggestedBindings:[]}),V.type==="image"&&r.onImageAction(),V.type!=="selection"?r.setState({activeTool:V,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):r.setState({activeTool:V})},this.setCursor=function(k){(0,a.KJ)(r.canvas,k)},this.resetCursor=function(){(0,a.z8)(r.canvas)},this.isTouchScreenMultiTouchGesture=function(){return ir.pointers.size>=2},this.onGestureStart=(0,a.tH)(function(k){k.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({selectedElementIds:{}}),ir.initialScale=r.state.zoom.value}),this.onGestureChange=(0,a.tH)(function(k){if(k.preventDefault(),!r.isTouchScreenMultiTouchGesture()){var V=ir.initialScale;V&&r.setState(function(re){return at({},(0,he.E)({viewportX:ln,viewportY:sn,nextZoom:(0,N.j)(V*k.scale)},re))})}}),this.onGestureEnd=(0,a.tH)(function(k){k.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}),ir.initialScale=null}),this.startTextEditing=function(k){var V,re,je,ne,L=k.sceneX,ke=k.sceneY,Ee=k.insertAtParentCenter,Me=Ee===void 0||Ee,Ae=k.container,Ne=!1,Be=Me&&r.getTextWysiwygSnappedToCenterPosition(L,ke,r.state,Ae);Ae&&Be&&(Ne=!0);var qe=null,Qe=(0,N.eD)(r.scene.getNonDeletedElements(),r.state),Ge=((V=qe=Qe.length===1?(0,j.iB)(Qe[0])?Qe[0]:Ae?(0,nt.WJ)(Qe[0]):r.getTextElementAtPosition(L,ke):r.getTextElementAtPosition(L,ke))===null||V===void 0?void 0:V.fontFamily)||r.state.currentItemFontFamily,pt=((re=qe)===null||re===void 0?void 0:re.lineHeight)||(0,nt.PT)(Ge),ut=r.state.currentItemFontSize;if(!qe&&Ne&&Ae&&!(0,K.Yv)(Ae)){var jt={fontSize:ut,fontFamily:Ge},st=(0,nt.AT)((0,a.mO)(jt),pt),Mt=(0,nt.w_)(ut,pt),St=(0,nt.HE)(Ae),yt=Math.max(St.height,Mt),Zt=Math.max(St.width,st);(0,h.DR)(Ae,{height:yt,width:Zt}),L=Ae.x+Zt/2,ke=Ae.y+yt/2,Be&&(Be=r.getTextWysiwygSnappedToCenterPosition(L,ke,r.state,Ae))}var It=qe||(0,j.VL)({x:Be?Be.elementCenterX:L,y:Be?Be.elementCenterY:ke,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,text:"",fontSize:ut,fontFamily:Ge,textAlign:Be?"center":r.state.currentItemTextAlign,verticalAlign:Be?n.oX.MIDDLE:n.hs,containerId:Ne?Ae==null?void 0:Ae.id:void 0,groupIds:(je=Ae==null?void 0:Ae.groupIds)!==null&&je!==void 0?je:[],lineHeight:pt,angle:(ne=Ae==null?void 0:Ae.angle)!==null&&ne!==void 0?ne:0});if(!qe&&Ne&&Ae&&(0,h.DR)(Ae,{boundElements:(Ae.boundElements||[]).concat({type:"text",id:It.id})}),r.setState({editingElement:It}),!qe)if(Ae&&Ne){var Ht=r.scene.getElementIndex(Ae.id);r.scene.insertElementAtIndex(It,Ht+1)}else r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[It]));r.setState({editingElement:It}),r.handleTextWysiwyg(It,{isExistingElement:!!qe})},this.handleCanvasDoubleClick=function(k){if(!r.state.multiElement&&r.state.activeTool.type==="selection"){var V=(0,N.eD)(r.scene.getNonDeletedElements(),r.state);if(V.length===1&&(0,K.bt)(V[0])){if(k[I.tW.CTRL_OR_CMD]&&(!r.state.editingLinearElement||r.state.editingLinearElement.elementId!==V[0].id))return r.history.resumeRecording(),void r.setState({editingLinearElement:new F._(V[0],r.scene)});if(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===V[0].id)return}(0,a.z8)(r.canvas);var re=(0,a.dE)(k,r.state),je=re.x,ne=re.y;if((0,z.iJ)(r.state).length>0){var L=r.getElementAtPosition(je,ne),ke=L&&(0,z.YS)(L,r.state.selectedGroupIds);if(ke)return void r.setState(function(Ae){return(0,z.bO)(at(at({},Ae),{},{editingGroupId:ke,selectedElementIds:(0,ee.Z)({},L.id,!0),selectedGroupIds:{}}),r.scene.getNonDeletedElements())})}if((0,a.z8)(r.canvas),!k[I.tW.CTRL_OR_CMD]&&!r.state.viewModeEnabled){var Ee=(0,nt.OW)(r.scene.getNonDeletedElements(),r.state,je,ne);if(Ee&&((0,K.Xo)(Ee)||!(0,a.Qm)(Ee.backgroundColor)||(0,go.Qu)(Ee,r.state,[je,ne]))){var Me=(0,nt.TP)(Ee,r.state);je=Me.x,ne=Me.y}r.startTextEditing({sceneX:je,sceneY:ne,insertAtParentCenter:!k.altKey,container:Ee})}}},this.getElementLinkAtPosition=function(k,V){var re=r.scene.getNonDeletedElements().slice().reverse(),je=1/0;return re.find(function(ne,L){return V&&ne.id===V.id&&(je=L),ne.link&&L<=je&&(0,yn.wq)(ne,r.state,[k.x,k.y],r.device.isMobile)})},this.redirectToLink=function(k,V){var re=(0,P.LW)(r.lastPointerDown.clientX,r.lastPointerDown.clientY,r.lastPointerUp.clientX,r.lastPointerUp.clientY);if(!(!r.hitLinkElement||V&&re>n.f||!V&&re!==0)){var je=(0,a.dE)(r.lastPointerDown,r.state),ne=(0,yn.wq)(r.hitLinkElement,r.state,[je.x,je.y],r.device.isMobile),L=(0,a.dE)(r.lastPointerUp,r.state),ke=(0,yn.wq)(r.hitLinkElement,r.state,[L.x,L.y],r.device.isMobile);if(ne&&ke){var Ee,Me,Ae=r.hitLinkElement.link;if(Ae&&(Ae=(0,vo.$)(Ae),r.props.onLinkOpen&&(Me=(0,a.ag)(n.Ks.EXCALIDRAW_LINK,k.nativeEvent),r.props.onLinkOpen(at(at({},r.hitLinkElement),{},{link:Ae}),Me)),(Ee=Me)===null||Ee===void 0||!Ee.defaultPrevented)){var Ne=(0,vo.q)(Ae)?"_self":"_blank",Be=window.open(void 0,Ne);Be&&(Be.opener=null,Be.location=Ae)}}}},this.handleCanvasPointerMove=function(k){r.savePointer(k.clientX,k.clientY,r.state.cursorButton),ir.pointers.has(k.pointerId)&&ir.pointers.set(k.pointerId,{x:k.clientX,y:k.clientY});var V=ir.initialScale;if(ir.pointers.size===2&&ir.lastCenter&&V&&ir.initialDistance){var re=ie(ir.pointers),je=re.x-ir.lastCenter.x,ne=re.y-ir.lastCenter.y;ir.lastCenter=re;var L=M(Array.from(ir.pointers.values())),ke=r.state.activeTool.type==="freedraw"&&r.state.penMode?1:L/ir.initialDistance,Ee=ke?(0,N.j)(V*ke):r.state.zoom.value;r.setState(function(Sr){var tn=(0,he.E)({viewportX:re.x,viewportY:re.y,nextZoom:Ee},Sr);r.translateCanvas({zoom:tn.zoom,scrollX:tn.scrollX+je/Ee,scrollY:tn.scrollY+ne/Ee,shouldCacheIgnoreZoom:!0})}),r.resetShouldCacheIgnoreZoomDebounced()}else ir.lastCenter=ir.initialDistance=ir.initialScale=null;if(!(cn||wn||Xn||(0,A.l$)(r.state))){var Me=(0,N._4)(qn,k.clientX-r.state.offsetLeft,k.clientY-r.state.offsetTop).isOverEither;r.state.draggingElement||r.state.multiElement||(Me?(0,a.z8)(r.canvas):(0,a.Uk)(r.canvas,r.state));var Ae=(0,a.dE)(k,r.state),Ne=Ae.x,Be=Ae.y;if(r.state.editingLinearElement&&!r.state.editingLinearElement.isDragging){var qe=F._.handlePointerMove(k,Ne,Be,r.state);qe&&qe!==r.state.editingLinearElement&&(0,Ce.flushSync)(function(){r.setState({editingLinearElement:qe})}),(qe==null?void 0:qe.lastUncommittedPoint)!=null?r.maybeSuggestBindingAtCursor(Ae):(0,Ce.flushSync)(function(){r.setState({suggestedBindings:[]})})}if((0,K.Lx)(r.state.activeTool.type)){var Qe=r.state.draggingElement;(0,K.Mn)(Qe,!1)?r.maybeSuggestBindingsForLinearElementAtCoords(Qe,[Ae],r.state.startBoundElement):r.maybeSuggestBindingAtCursor(Ae)}if(r.state.multiElement){var Ge=r.state.multiElement,pt=Ge.x,ut=Ge.y,jt=Ge.points,st=Ge.lastCommittedPoint,Mt=jt[jt.length-1];if((0,a.Uk)(r.canvas,r.state),Mt===st)(0,P.LW)(Ne-pt,Be-ut,Mt[0],Mt[1])>=n.qx?(0,h.DR)(Ge,{points:[].concat((0,f.Z)(jt),[[Ne-pt,Be-ut]])}):(0,a.KJ)(r.canvas,n.oc.POINTER);else if(jt.length>2&&st&&(0,P.LW)(Ne-pt,Be-ut,st[0],st[1])<n.qx)(0,a.KJ)(r.canvas,n.oc.POINTER),(0,h.DR)(Ge,{points:jt.slice(0,-1)});else{var St,yt=(0,P.wC)(Ne,Be,r.state.gridSize),Zt=(0,g.Z)(yt,2),It=Zt[0],Ht=Zt[1],qt=(St=Ge==null?void 0:Ge.lastCommittedPoint)!==null&&St!==void 0?St:[0,0],vr=(0,g.Z)(qt,2),kr=vr[0],Or=vr[1],mr=It-pt-kr,Rr=Ht-ut-Or;if((0,I.Ge)(k)){var Jt=(0,j.o4)(kr+pt,Or+ut,It,Ht);mr=Jt.width,Rr=Jt.height}(0,P.g6)(jt,r.state.zoom.value)&&(0,a.KJ)(r.canvas,n.oc.POINTER),(0,h.DR)(Ge,{points:[].concat((0,f.Z)(jt.slice(0,-1)),[[kr+mr,Or+Rr]])})}}else if(!(k.buttons||r.state.activeTool.type!=="selection"&&r.state.activeTool.type!=="text"&&r.state.activeTool.type!=="eraser")){var Er=r.scene.getNonDeletedElements(),br=(0,N.eD)(Er,r.state);if(br.length!==1||Me||r.state.editingLinearElement){if(br.length>1&&!Me){var Mr=(0,j.n2)((0,j.KP)(br),Ne,Be,r.state.zoom,k.pointerType);if(Mr)return void(0,a.KJ)(r.canvas,(0,j.Un)({transformHandleType:Mr}))}}else{var Vt=(0,j.jt)(Er,r.state,Ne,Be,r.state.zoom,k.pointerType);if(Vt&&Vt.transformHandleType)return void(0,a.KJ)(r.canvas,(0,j.Un)(Vt))}var tr=r.getElementAtPosition(Ae.x,Ae.y);r.hitLinkElement=r.getElementLinkAtPosition(Ae,tr),(0,A.EN)(r.state)||(r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]?((0,a.KJ)(r.canvas,n.oc.POINTER),(0,yn.Pp)(r.hitLinkElement,r.state)):((0,yn.lV)(),tr&&tr.link&&r.state.selectedElementIds[tr.id]&&!r.state.contextMenu&&!r.state.showHyperlinkPopup?r.setState({showHyperlinkPopup:"info"}):r.state.activeTool.type==="text"?(0,a.KJ)(r.canvas,(0,j.iB)(tr)?n.oc.TEXT:n.oc.CROSSHAIR):r.state.viewModeEnabled?(0,a.KJ)(r.canvas,n.oc.GRAB):Me?(0,a.KJ)(r.canvas,n.oc.AUTO):r.state.selectedLinearElement?r.handleHoverSelectedLinearElement(r.state.selectedLinearElement,Ne,Be):k[I.tW.CTRL_OR_CMD]?(0,a.KJ)(r.canvas,n.oc.AUTO):!tr&&!r.isHittingCommonBoundingBoxOfSelectedElements(Ae,br)||tr!=null&&tr.locked||(0,a.KJ)(r.canvas,n.oc.MOVE)))}}},this.handleEraser=function(k,V,re){for(var je=function(Qe){Qe.forEach(function(Ge){Ge.locked||(ne.push(Ge.id),k.altKey?V.elementIdsToErase[Ge.id]&&V.elementIdsToErase[Ge.id].erase&&(V.elementIdsToErase[Ge.id].erase=!1):V.elementIdsToErase[Ge.id]||(V.elementIdsToErase[Ge.id]={erase:!0,opacity:Ge.opacity}))})},ne=[],L=(0,P.LW)(V.lastCoords.x,V.lastCoords.y,re.x,re.y),ke=10/r.state.zoom.value,Ee=at({},V.lastCoords),Me=0;Me<=L&&(je(r.getElementsAtPosition(Ee.x,Ee.y)),Me!==L);){var Ae=(Me=Math.min(Me+ke,L))/L,Ne=(1-Ae)*Ee.x+Ae*re.x,Be=(1-Ae)*Ee.y+Ae*re.y;Ee.x=Ne,Ee.y=Be}var qe=r.scene.getElementsIncludingDeleted().map(function(Qe){var Ge=(0,K.Xh)(Qe)&&ne.includes(Qe.containerId)?Qe.containerId:Qe.id;if(ne.includes(Ge)){if(!k.altKey)return(0,h.BE)(Qe,{opacity:n.xY});if(V.elementIdsToErase[Ge]&&V.elementIdsToErase[Ge].erase===!1)return(0,h.BE)(Qe,{opacity:V.elementIdsToErase[Ge].opacity})}return Qe});r.scene.replaceAllElements(qe),V.lastCoords.x=re.x,V.lastCoords.y=re.y},this.handleTouchMove=function(k){kn=!0},this.handleCanvasPointerDown=function(k){var V,re;if(r.state.contextMenu&&r.setState({contextMenu:null}),r.updateGestureOnPointerDown(k),k.pointerType==="touch"&&r.state.draggingElement&&r.state.draggingElement.type==="freedraw"){var je=r.state.draggingElement;r.updateScene(at(at({},je.points.length<10?{elements:r.scene.getElementsIncludingDeleted().filter(function(Ge){return Ge.id!==je.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Object.keys(r.state.selectedElementIds).filter(function(Ge){return Ge!==je.id}).reduce(function(Ge,pt){return Ge[pt]=r.state.selectedElementIds[pt],Ge},{})}}))}else{var ne=document.getSelection();if(ne!=null&&ne.anchorNode&&ne.removeAllRanges(),r.maybeOpenContextMenuAfterPointerDownOnTouchDevices(k),r.maybeCleanupAfterMissingPointerUp(k),r.state.penDetected||k.pointerType!=="pen"||r.setState(function(Ge){return{penMode:!0,penDetected:!0}}),!r.device.isTouchScreen&&["pen","touch"].includes(k.pointerType)&&(r.device=(0,a.v4)(r.device,{isTouchScreen:!0})),!wn&&(r.lastPointerDown=k,r.setState({lastPointerDownWith:k.pointerType,cursorButton:"down"}),r.savePointer(k.clientX,k.clientY,"down"),!r.handleCanvasPanUsingWheelOrSpaceDrag(k)&&!(k.button!==n.Oh.MAIN&&k.button!==n.Oh.TOUCH||ir.pointers.size>1))){var L=r.initialPointerDownState(k);if(!r.handleDraggingScrollBar(k,L)&&(r.clearSelectionIfNotUsingSelection(),r.updateBindingEnabledOnPointerMove(k),!r.handleSelectionOnPointerDown(k,L)&&(!r.state.penMode||k.pointerType!=="touch"||r.state.activeTool.type==="selection"||r.state.activeTool.type==="text"||r.state.activeTool.type==="image")))if(r.state.activeTool.type!=="text"){if(r.state.activeTool.type==="arrow"||r.state.activeTool.type==="line")r.handleLinearElementOnPointerDown(k,r.state.activeTool.type,L);else if(r.state.activeTool.type==="image"){(0,a.KJ)(r.canvas,n.oc.CROSSHAIR);var ke=r.state.pendingImageElementId&&r.scene.getElement(r.state.pendingImageElementId);if(!ke)return;r.setState({draggingElement:ke,editingElement:ke,pendingImageElementId:null,multiElement:null});var Ee=(0,a.dE)(k,r.state),Me=Ee.x,Ae=Ee.y;(0,h.DR)(ke,{x:Me,y:Ae})}else r.state.activeTool.type==="freedraw"?r.handleFreeDrawElementOnPointerDown(k,r.state.activeTool.type,L):r.state.activeTool.type==="custom"?(0,a.KJ)(r.canvas,n.oc.AUTO):r.state.activeTool.type!=="eraser"&&r.state.activeTool.type!=="hand"&&r.createGenericElementOnPointerDown(r.state.activeTool.type,L);(V=r.props)===null||V===void 0||(re=V.onPointerDown)===null||re===void 0||re.call(V,r.state.activeTool,L);var Ne=r.onPointerMoveFromPointerDownHandler(L),Be=r.onPointerUpFromPointerDownHandler(L),qe=r.onKeyDownFromPointerDownHandler(L),Qe=r.onKeyUpFromPointerDownHandler(L);en=Be,r.state.viewModeEnabled||(window.addEventListener(n.Ks.POINTER_MOVE,Ne),window.addEventListener(n.Ks.POINTER_UP,Be),window.addEventListener(n.Ks.KEYDOWN,qe),window.addEventListener(n.Ks.KEYUP,Qe),L.eventListeners.onMove=Ne,L.eventListeners.onUp=Be,L.eventListeners.onKeyUp=Qe,L.eventListeners.onKeyDown=qe)}else r.handleTextOnPointerDown(k,L)}}},this.handleCanvasPointerUp=function(k){if(r.lastPointerUp=k,r.device.isTouchScreen){var V=(0,a.dE)({clientX:k.clientX,clientY:k.clientY},r.state),re=r.getElementAtPosition(V.x,V.y);r.hitLinkElement=r.getElementLinkAtPosition(V,re)}r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]&&r.redirectToLink(k,r.device.isTouchScreen),r.removePointer(k)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(k){k.pointerType==="touch"&&(kn=!1,Qr?kn=!0:Qr=window.setTimeout(function(){Qr=0,kn||r.handleCanvasContextMenu(k)},n.nM))},this.resetContextMenuTimer=function(){clearTimeout(Qr),Qr=0,kn=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(k){if(!(ir.pointers.size<=1&&(k.button===n.Oh.WHEEL||k.button===n.Oh.MAIN&&cn||(0,A.l$)(r.state)||r.state.viewModeEnabled))||(0,j.iB)(r.state.editingElement))return!1;wn=!0,k.preventDefault();var V=!1,re=/Linux/.test(window.navigator.platform);(0,a.KJ)(r.canvas,n.oc.GRABBING);var je=k.clientX,ne=k.clientY,L=(0,a.$9)(function(Ee){var Me=je-Ee.clientX,Ae=ne-Ee.clientY;if(je=Ee.clientX,ne=Ee.clientY,re&&!V&&(Math.abs(Me)>1||Math.abs(Ae)>1)){V=!0;var Ne=function Be(qe){document.body.removeEventListener(n.Ks.PASTE,Be),qe.stopPropagation()};document.body.addEventListener(n.Ks.PASTE,Ne),window.addEventListener(n.Ks.POINTER_UP,function Be(){setTimeout(function(){document.body.removeEventListener(n.Ks.PASTE,Ne),window.removeEventListener(n.Ks.POINTER_UP,Be)},100)})}r.translateCanvas({scrollX:r.state.scrollX-Me/r.state.zoom.value,scrollY:r.state.scrollY-Ae/r.state.zoom.value})}),ke=(0,a.tH)(en=function(){en=null,wn=!1,cn||(r.state.viewModeEnabled?(0,a.KJ)(r.canvas,n.oc.GRAB):(0,a.Uk)(r.canvas,r.state)),r.setState({cursorButton:"up"}),r.savePointer(k.clientX,k.clientY,"up"),window.removeEventListener(n.Ks.POINTER_MOVE,L),window.removeEventListener(n.Ks.POINTER_UP,ke),window.removeEventListener(n.Ks.BLUR,ke),L.flush()});return window.addEventListener(n.Ks.BLUR,ke),window.addEventListener(n.Ks.POINTER_MOVE,L,{passive:!0}),window.addEventListener(n.Ks.POINTER_UP,ke),!0},this.clearSelectionIfNotUsingSelection=function(){r.state.activeTool.type!=="selection"&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(k,V){if(r.state.activeTool.type==="selection"){var re=r.scene.getNonDeletedElements(),je=(0,N.eD)(re,r.state);if(je.length!==1||r.state.editingLinearElement)je.length>1&&(V.resize.handleType=(0,j.n2)((0,j.KP)(je),V.origin.x,V.origin.y,r.state.zoom,k.pointerType));else{var ne=(0,j.jt)(re,r.state,V.origin.x,V.origin.y,r.state.zoom,k.pointerType);ne!=null&&(r.setState({resizingElement:ne.element}),V.resize.handleType=ne.transformHandleType)}if(V.resize.handleType)(0,a.KJ)(r.canvas,(0,j.Un)({transformHandleType:V.resize.handleType})),V.resize.isResizing=!0,V.resize.offset=(0,a.AK)((0,j.xx)(V.resize.handleType,je,V.origin.x,V.origin.y)),je.length===1&&(0,K.bt)(je[0])&&je[0].points.length===2&&(V.resize.arrowDirection=(0,j.T)(V.resize.handleType,je[0]));else{var L;if(r.state.selectedLinearElement){var ke=r.state.editingLinearElement||r.state.selectedLinearElement,Ee=F._.handlePointerDown(k,r.state,r.history,V.origin,ke);if(Ee.hitElement&&(V.hit.element=Ee.hitElement),Ee.linearElementEditor&&(r.setState({selectedLinearElement:Ee.linearElementEditor}),r.state.editingLinearElement&&r.setState({editingLinearElement:Ee.linearElementEditor})),Ee.didAddPoint)return!0}if(V.hit.element=(L=V.hit.element)!==null&&L!==void 0?L:r.getElementAtPosition(V.origin.x,V.origin.y),V.hit.element&&r.getElementLinkAtPosition({x:V.origin.x,y:V.origin.y},V.hit.element))return!1;V.hit.allHitElements=r.getElementsAtPosition(V.origin.x,V.origin.y);var Me=V.hit.element,Ae=V.hit.allHitElements.some(function(Ne){return r.isASelectedElement(Ne)});if(Me!==null&&Ae||k.shiftKey||V.hit.hasHitCommonBoundingBoxOfSelectedElements||r.clearSelection(Me),r.state.editingLinearElement)r.setState({selectedElementIds:(0,ee.Z)({},r.state.editingLinearElement.elementId,!0)});else if(Me!=null){if(k[I.tW.CTRL_OR_CMD])return r.state.selectedElementIds[Me.id]||(V.hit.wasAddedToSelection=!0),r.setState(function(Ne){return at(at({},(0,z.iE)(Ne,Me)),{},{previousSelectedElementIds:r.state.selectedElementIds})}),!1;r.state.selectedElementIds[Me.id]||(r.state.editingGroupId&&!(0,z.Nd)(Me,r.state.editingGroupId)&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Ae||V.hit.hasHitCommonBoundingBoxOfSelectedElements||(r.setState(function(Ne){return(0,z.bO)(at(at({},Ne),{},{selectedElementIds:at(at({},Ne.selectedElementIds),{},(0,ee.Z)({},Me.id,!0)),showHyperlinkPopup:!!Me.link&&"info"}),r.scene.getNonDeletedElements())}),V.hit.wasAddedToSelection=!0))}r.setState({previousSelectedElementIds:r.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(k,V){if(!(0,j.iB)(r.state.editingElement)){var re=V.origin.x,je=V.origin.y,ne=r.getElementAtPosition(re,je,{includeBoundTextElement:!0}),L=(0,nt.OW)(r.scene.getNonDeletedElements(),r.state,re,je);(0,K.Xo)(ne)&&(L=ne,re=ne.x+ne.width/2,je=ne.y+ne.height/2),r.startTextEditing({sceneX:re,sceneY:je,insertAtParentCenter:!k.altKey,container:L}),(0,a.z8)(r.canvas),r.state.activeTool.locked||r.setState({activeTool:(0,a.Om)(r.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(k,V,re){var je=(0,P.wC)(re.origin.x,re.origin.y,null),ne=(0,g.Z)(je,2),L=ne[0],ke=ne[1],Ee=(0,T.KE)({type:V,x:L,y:ke,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,simulatePressure:k.pressure===.5,locked:!1});r.setState(function(Ne){return{selectedElementIds:at(at({},Ne.selectedElementIds),{},(0,ee.Z)({},Ee.id,!1))}});var Me=Ee.simulatePressure?Ee.pressures:[].concat((0,f.Z)(Ee.pressures),[k.pressure]);(0,h.DR)(Ee,{points:[[0,0]],pressures:Me});var Ae=(0,c.Y9)(re.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[Ee])),r.setState({draggingElement:Ee,editingElement:Ee,startBoundElement:Ae,suggestedBindings:[]})},this.createImageElement=function(k){var V=k.sceneX,re=k.sceneY,je=(0,P.wC)(V,re,r.state.gridSize),ne=(0,g.Z)(je,2),L=ne[0],ke=ne[1];return(0,j.vw)({type:"image",x:L,y:ke,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,roundness:null,opacity:r.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(k,V,re){if(r.state.multiElement){var je=r.state.multiElement;if(je.type==="line"&&(0,P.g6)(je.points,r.state.zoom.value))return(0,h.DR)(je,{lastCommittedPoint:je.points[je.points.length-1]}),void r.actionManager.executeAction(b.pL);var ne=je.x,L=je.y,ke=je.lastCommittedPoint;if(je.points.length>1&&ke&&(0,P.LW)(re.origin.x-ne,re.origin.y-L,ke[0],ke[1])<n.qx)return void r.actionManager.executeAction(b.pL);r.setState(function(St){return{selectedElementIds:at(at({},St.selectedElementIds),{},(0,ee.Z)({},je.id,!0))}}),(0,h.DR)(je,{lastCommittedPoint:je.points[je.points.length-1]}),(0,a.KJ)(r.canvas,n.oc.POINTER)}else{var Ee=(0,P.wC)(re.origin.x,re.origin.y,r.state.gridSize),Me=(0,g.Z)(Ee,2),Ae=Me[0],Ne=Me[1],Be=r.state,qe=Be.currentItemStartArrowhead,Qe=Be.currentItemEndArrowhead,Ge=V==="arrow"?[qe,Qe]:[null,null],pt=(0,g.Z)(Ge,2),ut=pt[0],jt=pt[1],st=(0,j.y8)({type:V,x:Ae,y:Ne,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:n.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:ut,endArrowhead:jt,locked:!1});r.setState(function(St){return{selectedElementIds:at(at({},St.selectedElementIds),{},(0,ee.Z)({},st.id,!1))}}),(0,h.DR)(st,{points:[].concat((0,f.Z)(st.points),[[0,0]])});var Mt=(0,c.Y9)(re.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[st])),r.setState({draggingElement:st,editingElement:st,startBoundElement:Mt,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(k,V){var re=(0,P.wC)(V.origin.x,V.origin.y,r.state.gridSize),je=(0,g.Z)(re,2),ne=je[0],L=je[1],ke=(0,j.Up)({type:k,x:ne,y:L,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:(0,K.QI)(k)?n.a6.ADAPTIVE_RADIUS:n.a6.PROPORTIONAL_RADIUS}:null,locked:!1});ke.type==="selection"?r.setState({selectionElement:ke,draggingElement:ke}):(r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[ke])),r.setState({multiElement:null,draggingElement:ke,editingElement:ke}))},this.restoreReadyToEraseElements=function(k){var V=r.scene.getElementsIncludingDeleted().map(function(re){return k.elementIdsToErase[re.id]&&k.elementIdsToErase[re.id].erase?(0,h.BE)(re,{opacity:k.elementIdsToErase[re.id].opacity}):(0,K.Xh)(re)&&k.elementIdsToErase[re.containerId]&&k.elementIdsToErase[re.containerId].erase?(0,h.BE)(re,{opacity:k.elementIdsToErase[re.containerId].opacity}):re});r.scene.replaceAllElements(V)},this.eraseElements=function(k){var V=r.scene.getElementsIncludingDeleted().map(function(re){return k.elementIdsToErase[re.id]&&k.elementIdsToErase[re.id].erase||(0,K.Xh)(re)&&k.elementIdsToErase[re.containerId]&&k.elementIdsToErase[re.containerId].erase?(0,h.BE)(re,{isDeleted:!0}):re});r.history.resumeRecording(),r.scene.replaceAllElements(V)},this.initializeImage=function(){var k=(0,d.Z)(y().mark(function V(re){var je,ne,L,ke,Ee,Me,Ae,Ne,Be,qe,Qe,Ge,pt,ut,jt;return y().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(ke=re.imageFile,Ee=re.imageElement,Me=re.showCursorImagePreview,Ae=Me!==void 0&&Me,(0,We.Wr)(ke)){st.next=3;break}throw new Error((0,u.t)("errors.unsupportedFileType"));case 3:if(Ne=ke.type,(0,a.KJ)(r.canvas,"wait"),Ne!==n.LO.svg){st.next=23;break}return st.prev=6,st.t0=We.Pn,st.t1=Dn.bp,st.next=11,ke.text();case 11:return st.t2=st.sent,st.next=14,(0,st.t1)(st.t2);case 14:st.t3=st.sent,st.t4=ke.name,ke=(0,st.t0)(st.t3,st.t4),st.next=23;break;case 19:throw st.prev=19,st.t5=st.catch(6),console.warn(st.t5),new Error((0,u.t)("errors.svgImageInsertError"));case 23:return st.next=25,((je=(ne=r.props).generateIdForFile)===null||je===void 0?void 0:je.call(ne,ke))||(0,We.tW)(ke);case 25:if(Be=st.sent){st.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,u.t)("errors.imageInsertError"));case 29:if((qe=r.files[Be])!=null&&qe.dataURL){st.next=42;break}return st.prev=31,st.next=34,(0,We.Tu)(ke,{maxWidthOrHeight:n.h6});case 34:ke=st.sent,st.next=40;break;case 37:st.prev=37,st.t6=st.catch(31),console.error("error trying to resing image file on insertion",st.t6);case 40:if(!(ke.size>n.$n)){st.next=42;break}throw new Error((0,u.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(n.$n/1024/1024),"MB")}));case 42:if(Ae&&(Ge=(Qe=r.files[Be])===null||Qe===void 0?void 0:Qe.dataURL,pt=Ge&&(0,We.KG)(Ge),r.setImagePreviewCursor(pt||ke)),st.t7=(L=r.files[Be])===null||L===void 0?void 0:L.dataURL,st.t7){st.next=48;break}return st.next=47,(0,We.Sf)(ke);case 47:st.t7=st.sent;case 48:return ut=st.t7,jt=(0,h.DR)(Ee,{fileId:Be},!1),st.abrupt("return",new Promise(function(){var Mt=(0,d.Z)(y().mark(function St(yt,Zt){var It,Ht;return y().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:if(qt.prev=0,r.files=at(at({},r.files),{},(0,ee.Z)({},Be,{mimeType:Ne,id:Be,dataURL:ut,created:Date.now(),lastRetrieved:Date.now()})),Ht=r.imageCache.get(Be)){qt.next=7;break}return r.addNewImagesToImageCache(),qt.next=7,r.updateImageCache([jt]);case 7:if(!((Ht==null?void 0:Ht.image)instanceof Promise)){qt.next=10;break}return qt.next=10,Ht.image;case 10:r.state.pendingImageElementId!==jt.id&&((It=r.state.draggingElement)===null||It===void 0?void 0:It.id)!==jt.id&&r.initializeImageDimensions(jt,!0),yt(jt),qt.next=18;break;case 14:qt.prev=14,qt.t0=qt.catch(0),console.error(qt.t0),Zt(new Error((0,u.t)("errors.imageInsertError")));case 18:return qt.prev=18,Ae||(0,a.z8)(r.canvas),qt.finish(18);case 21:case"end":return qt.stop()}},St,null,[[0,14,18,21]])}));return function(St,yt){return Mt.apply(this,arguments)}}()));case 51:case"end":return st.stop()}},V,null,[[6,19],[31,37]])}));return function(V){return k.apply(this,arguments)}}(),this.insertImageElement=function(){var k=(0,d.Z)(y().mark(function V(re,je,ne){return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[re])),L.prev=1,L.next=4,r.initializeImage({imageFile:je,imageElement:re,showCursorImagePreview:ne});case 4:L.next=11;break;case 6:L.prev=6,L.t0=L.catch(1),(0,h.DR)(re,{isDeleted:!0}),r.actionManager.executeAction(b.pL),r.setState({errorMessage:L.t0.message||(0,u.t)("errors.imageInsertError")});case 11:case"end":return L.stop()}},V,null,[[1,6]])}));return function(V,re,je){return k.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var k=(0,d.Z)(y().mark(function V(re){var je,ne,L,ke,Ee,Me,Ae;return y().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return je=96,Ne.next=3,(0,We.Tu)(re,{maxWidthOrHeight:je});case 3:return ne=Ne.sent,Ne.next=6,(0,We.Sf)(ne);case 6:if(L=Ne.sent,re.type!==n.LO.svg){Ne.next=20;break}return Ne.next=10,(0,Dn.PK)(L);case 10:ke=Ne.sent,Ee=Math.min(ke.height,je),(Me=Ee*(ke.width/ke.height))>je&&(Ee=(Me=je)*(ke.height/ke.width)),(Ae=document.createElement("canvas")).height=Ee,Ae.width=Me,Ae.getContext("2d").drawImage(ke,0,0,Me,Ee),L=Ae.toDataURL(n.LO.svg);case 20:r.state.pendingImageElementId&&(0,a.KJ)(r.canvas,"url(".concat(L,") 4 4, auto"));case 21:case"end":return Ne.stop()}},V)}));return function(V){return k.apply(this,arguments)}}(),this.onImageAction=(0,d.Z)(y().mark(function k(){var V,re,je,ne,L,ke,Ee,Me,Ae,Ne=arguments;return y().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return V=Ne.length>0&&Ne[0]!==void 0?Ne[0]:{insertOnCanvasDirectly:!1},re=V.insertOnCanvasDirectly,Be.prev=1,je=r.state.width/2+r.state.offsetLeft,ne=r.state.height/2+r.state.offsetTop,L=(0,a.dE)({clientX:je,clientY:ne},r.state),ke=L.x,Ee=L.y,Be.next=7,(0,wt.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Me=Be.sent,Ae=r.createImageElement({sceneX:ke,sceneY:Ee}),re?(r.insertImageElement(Ae,Me),r.initializeImageDimensions(Ae),r.setState({selectedElementIds:(0,ee.Z)({},Ae.id,!0)},function(){r.actionManager.executeAction(b.pL)})):r.setState({pendingImageElementId:Ae.id},function(){r.insertImageElement(Ae,Me,!0)}),Be.next=16;break;case 12:Be.prev=12,Be.t0=Be.catch(1),Be.t0.name!=="AbortError"?console.error(Be.t0):console.warn(Be.t0),r.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,a.Om)(r.state,{type:"selection"})},function(){r.actionManager.executeAction(b.pL)});case 16:case"end":return Be.stop()}},k,null,[[1,12]])})),this.initializeImageDimensions=function(k){var V,re=arguments.length>1&&arguments[1]!==void 0&&arguments[1],je=(0,K.wi)(k)&&((V=r.imageCache.get(k.fileId))===null||V===void 0?void 0:V.image);if(!je||je instanceof Promise){if(k.width<n.f/r.state.zoom.value&&k.height<n.f/r.state.zoom.value){var ne=100/r.state.zoom.value;(0,h.DR)(k,{x:k.x-ne/2,y:k.y-ne/2,width:ne,height:ne})}}else if(re||k.width<n.f/r.state.zoom.value&&k.height<n.f/r.state.zoom.value){var L=Math.max(r.state.height-120,160),ke=Math.min(L,Math.floor(.5*r.state.height)/r.state.zoom.value),Ee=Math.min(je.naturalHeight,ke),Me=Ee*(je.naturalWidth/je.naturalHeight),Ae=k.x+k.width/2-Me/2,Ne=k.y+k.height/2-Ee/2;(0,h.DR)(k,{x:Ae,y:Ne,width:Me,height:Ee})}},this.updateImageCache=function(){var k=(0,d.Z)(y().mark(function V(re){var je,ne,L,ke,Ee,Me,Ae,Ne=arguments;return y().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return je=Ne.length>1&&Ne[1]!==void 0?Ne[1]:r.files,Be.next=3,(0,Dn.Xx)({imageCache:r.imageCache,fileIds:re.map(function(qe){return qe.fileId}),files:je});case 3:if(ne=Be.sent,L=ne.updatedFiles,ke=ne.erroredFiles,L.size||ke.size){Ee=ko(re);try{for(Ee.s();!(Me=Ee.n()).done;)Ae=Me.value,L.has(Ae.fileId)&&(0,se.bI)(Ae)}catch(qe){Ee.e(qe)}finally{Ee.f()}}return ke.size&&r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().map(function(qe){return(0,K.wi)(qe)&&ke.has(qe.fileId)?(0,h.BE)(qe,{status:"error"}):qe})),Be.abrupt("return",{updatedFiles:L,erroredFiles:ke});case 9:case"end":return Be.stop()}},V)}));return function(V){return k.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,d.Z)(y().mark(function k(){var V,re,je,ne,L=arguments;return y().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(V=L.length>0&&L[0]!==void 0?L[0]:(0,Dn.oA)(r.scene.getNonDeletedElements()),re=L.length>1&&L[1]!==void 0?L[1]:r.files,!(je=V.filter(function(Ee){return!Ee.isDeleted&&!r.imageCache.has(Ee.fileId)})).length){ke.next=9;break}return ke.next=6,r.updateImageCache(je,re);case 6:ne=ke.sent,ne.updatedFiles.size&&r.scene.informMutation();case 9:case"end":return ke.stop()}},k)})),this.scheduleImageRefresh=ii()(function(){r.addNewImagesToImageCache()},n.LL),this.updateBindingEnabledOnPointerMove=function(k){var V=(0,c.cz)(k);r.state.isBindingEnabled!==V&&r.setState({isBindingEnabled:V})},this.maybeSuggestBindingAtCursor=function(k){var V=(0,c.Y9)(k,r.scene);r.setState({suggestedBindings:V!=null?[V]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(k,V,re){if(V.length){var je=V.reduce(function(ne,L){var ke=(0,c.Y9)(L,r.scene);return ke==null||(0,c.DK)(k,re==null?void 0:re.id,ke)||ne.push(ke),ne},[]);r.setState({suggestedBindings:je})}},this.handleCanvasRef=function(k){var V,re,je;k!==null?(r.canvas=k,r.rc=ue.Z.canvas(r.canvas),r.canvas.addEventListener(n.Ks.WHEEL,r.handleWheel,{passive:!1}),r.canvas.addEventListener(n.Ks.TOUCH_START,r.onTapStart),r.canvas.addEventListener(n.Ks.TOUCH_END,r.onTapEnd)):((V=r.canvas)===null||V===void 0||V.removeEventListener(n.Ks.WHEEL,r.handleWheel),(re=r.canvas)===null||re===void 0||re.removeEventListener(n.Ks.TOUCH_START,r.onTapStart),(je=r.canvas)===null||je===void 0||je.removeEventListener(n.Ks.TOUCH_END,r.onTapEnd))},this.handleAppOnDrop=function(){var k=(0,d.Z)(y().mark(function V(re){var je,ne,L,ke,Ee,Me,Ae,Ne,Be,qe;return y().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.next=2,(0,We.bv)(re);case 2:if(je=Qe.sent,ne=je.file,L=je.fileHandle,Qe.prev=5,!(0,We.Wr)(ne)){Qe.next=26;break}if((ne==null?void 0:ne.type)!==n.LO.png&&(ne==null?void 0:ne.type)!==n.LO.svg){Qe.next=20;break}return Qe.prev=8,Qe.next=11,(0,ae.cT)(ne,r.state,r.scene.getElementsIncludingDeleted(),L);case 11:return ke=Qe.sent,r.syncActionResult(at(at({},ke),{},{appState:at(at({},ke.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Qe.abrupt("return");case 16:if(Qe.prev=16,Qe.t0=Qe.catch(8),Qe.t0.name==="EncodingError"){Qe.next=20;break}throw Qe.t0;case 20:return Ee=(0,a.dE)(re,r.state),Me=Ee.x,Ae=Ee.y,Ne=r.createImageElement({sceneX:Me,sceneY:Ae}),r.insertImageElement(Ne,ne),r.initializeImageDimensions(Ne),r.setState({selectedElementIds:(0,ee.Z)({},Ne.id,!0)}),Qe.abrupt("return");case 26:Qe.next=31;break;case 28:return Qe.prev=28,Qe.t1=Qe.catch(5),Qe.abrupt("return",r.setState({isLoading:!1,errorMessage:Qe.t1.message}));case 31:if(!(Be=re.dataTransfer.getData(n.LO.excalidrawlib))||typeof Be!="string"){Qe.next=35;break}try{qe=(0,We.wf)(Be),r.addElementsFromPasteOrLibrary({elements:(0,U.WV)(qe),position:re,files:null})}catch(Ge){r.setState({errorMessage:Ge.message})}return Qe.abrupt("return");case 35:if(!ne){Qe.next=38;break}return Qe.next=38,r.loadFileToCanvas(ne,L);case 38:case"end":return Qe.stop()}},V,null,[[5,28],[8,16]])}));return function(V){return k.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var k=(0,d.Z)(y().mark(function V(re,je){var ne;return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,We.gY)(re);case 2:return re=L.sent,L.prev=3,L.next=6,(0,We.ZY)(re,r.state,r.scene.getElementsIncludingDeleted(),je);case 6:if((ne=L.sent).type!==n.LO.excalidraw){L.next=12;break}r.setState({isLoading:!0}),r.syncActionResult(at(at({},ne.data),{},{appState:at(at({},ne.data.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),L.next=15;break;case 12:if(ne.type!==n.LO.excalidrawlib){L.next=15;break}return L.next=15,r.library.updateLibrary({libraryItems:re,merge:!0,openLibraryMenu:!0}).catch(function(ke){console.error(ke),r.setState({errorMessage:(0,u.t)("errors.importLibraryError")})});case 15:L.next=20;break;case 17:L.prev=17,L.t0=L.catch(3),r.setState({isLoading:!1,errorMessage:L.t0.message});case 20:case"end":return L.stop()}},V,null,[[3,17]])}));return function(V,re){return k.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(k){if(k.preventDefault(),k.nativeEvent.pointerType!=="touch"&&(k.nativeEvent.pointerType!=="pen"||k.button===n.Oh.SECONDARY)||r.state.activeTool.type==="selection"){var V=(0,a.dE)(k,r.state),re=V.x,je=V.y,ne=r.getElementAtPosition(re,je,{preferSelected:!0,includeLockedElements:!0}),L=(0,N.eD)(r.scene.getNonDeletedElements(),r.state),ke=r.isHittingCommonBoundingBoxOfSelectedElements({x:re,y:je},L),Ee=ne||ke?"element":"canvas",Me=r.excalidrawContainerRef.current.getBoundingClientRect(),Ae=Me.top,Ne=Me.left,Be=k.clientX-Ne,qe=k.clientY-Ae;(0,S.L)("contextMenu","openContextMenu",Ee),r.setState(at(at({},ne&&!r.state.selectedElementIds[ne.id]?(0,z.bO)(at(at({},r.state),{},{selectedElementIds:(0,ee.Z)({},ne.id,!0),selectedLinearElement:(0,K.bt)(ne)?new F._(ne,r.scene):null}),r.scene.getNonDeletedElements()):r.state),{},{showHyperlinkPopup:!1}),function(){r.setState({contextMenu:{top:qe,left:Be,items:r.getContextMenuItems(Ee)}})})}},this.maybeDragNewGenericElement=function(k,V){var re=r.state.draggingElement,je=k.lastCoords;if(re)if(re.type==="selection"&&r.state.activeTool.type!=="eraser")(0,j.EJ)(re,r.state.activeTool.type,k.origin.x,k.origin.y,je.x,je.y,(0,a.TE)(k.origin.x,je.x),(0,a.TE)(k.origin.y,je.y),(0,I.E0)(V),(0,I.OA)(V));else{var ne,L=(0,P.wC)(je.x,je.y,r.state.gridSize),ke=(0,g.Z)(L,2),Ee=ke[0],Me=ke[1],Ae=(0,K.wi)(re)&&((ne=r.imageCache.get(re.fileId))===null||ne===void 0?void 0:ne.image),Ne=!Ae||Ae instanceof Promise?null:Ae.width/Ae.height;(0,j.EJ)(re,r.state.activeTool.type,k.originInGrid.x,k.originInGrid.y,Ee,Me,(0,a.TE)(k.originInGrid.x,Ee),(0,a.TE)(k.originInGrid.y,Me),(0,K.pC)(re)?!(0,I.E0)(V):(0,I.E0)(V),(0,I.OA)(V),Ne),r.maybeSuggestBindingForAll([re])}},this.maybeHandleResize=function(k,V){var re=(0,N.eD)(r.scene.getNonDeletedElements(),r.state),je=k.resize.handleType;r.setState({isResizing:je&&je!=="rotation",isRotating:je==="rotation"});var ne=k.lastCoords,L=(0,P.wC)(ne.x-k.resize.offset.x,ne.y-k.resize.offset.y,r.state.gridSize),ke=(0,g.Z)(L,2),Ee=ke[0],Me=ke[1];return!!(0,j.vY)(k,je,re,k.resize.arrowDirection,(0,I.Ge)(V),(0,I.OA)(V),re.length===1&&(0,K.pC)(re[0])?!(0,I.E0)(V):(0,I.E0)(V),Ee,Me,k.resize.center.x,k.resize.center.y)&&(r.maybeSuggestBindingForAll(re),!0)},this.getContextMenuItems=function(k){var V=[];return V.push(b.jK,b.FA),k==="canvas"?r.state.viewModeEnabled?[].concat(V,[b.Pb,b.JN,mo,b.u0]):[xo.yQ,Re,b.jK,b.FA,b.zp,Re,b.Yy,Re,b.Pb,b.JN,mo,b.u0]:(V.push(b.zp),r.state.viewModeEnabled?[b.uN].concat(V):[b.ZM,b.uN,xo.yQ,Re].concat(V,[Re,b.pw,b.W3,Re,b.EQ,b.y7,b.vD,li.JQ,b.s,Re,b.FL,Re,b.V,b.yA,b.zi,b.BZ,Re,b.jl,b.kt,Re,b.Qs,b.nz,b.xF,b.iL,Re,b.X9]))},this.handleWheel=(0,a.tH)(function(k){if(k.preventDefault(),!wn){var V=k.deltaX,re=k.deltaY;if(k.metaKey||k.ctrlKey){var je=Math.sign(re),ne=100*n.V4,L=Math.abs(re),ke=re;L>ne&&(ke=ne*je);var Ee=r.state.zoom.value-ke/100;return Ee+=Math.log10(Math.max(1,r.state.zoom.value))*-je*Math.min(1,L/20),r.translateCanvas(function(Me){return at(at({},(0,he.E)({viewportX:ln,viewportY:sn,nextZoom:(0,N.j)(Ee)},Me)),{},{shouldCacheIgnoreZoom:!0})}),void r.resetShouldCacheIgnoreZoomDebounced()}k.shiftKey?r.translateCanvas(function(Me){var Ae=Me.zoom;return{scrollX:Me.scrollX-(re||V)/Ae.value}}):r.translateCanvas(function(Me){var Ae=Me.zoom,Ne=Me.scrollX,Be=Me.scrollY;return{scrollX:Ne-V/Ae.value,scrollY:Be-re/Ae.value}})}}),this.savePointer=function(k,V,re){var je,ne;if(k&&V){var L=(0,a.dE)({clientX:k,clientY:V},r.state);isNaN(L.x)||isNaN(L.y),(je=(ne=r.props).onPointerUpdate)===null||je===void 0||je.call(ne,{pointer:L,button:re,pointersMap:ir.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,a.Ds)(function(){r.unmounted||r.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(k){var V;if((V=r.excalidrawContainerRef)!==null&&V!==void 0&&V.current){var re=r.excalidrawContainerRef.current.getBoundingClientRect(),je=re.width,ne=re.height,L=re.left,ke=re.top,Ee=r.state,Me=Ee.width,Ae=Ee.height,Ne=Ee.offsetTop,Be=Ee.offsetLeft;if(je===Me&&ne===Ae&&L===Be&&ke===Ne)return void(k&&k());r.setState({width:je,height:ne,offsetLeft:L,offsetTop:ke},function(){k&&k()})}},this.refresh=function(){r.setState(at({},r.getCanvasOffsets()))}};n.Vi.TEST!=="production"&&n.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var r;return(r=this.app)===null||r===void 0?void 0:r.scene.getElementsIncludingDeleted()},set:function(r){var k;return(k=this.app)===null||k===void 0?void 0:k.scene.replaceAllElements(r)}}}));var fi=$n},3807:function(me,Q,e){e.d(Q,{o:function(){return de}});var w=e(45),g=e(3646),f=e(487),d=e.n(f),x=e(631),D=e.n(x),W=e(2052),i=e.n(W),R=e(4010),B=e.n(R),ee=e(1469),le=e.n(ee),y=e(9329),ce=e.n(y),fe=e(6029),Ce={};Ce.styleTagTransform=ce(),Ce.setAttributes=B(),Ce.insert=i().bind(null,"head"),Ce.domAPI=D(),Ce.insertStyleElement=le(),d()(fe.Z,Ce),fe.Z&&fe.Z.locals&&fe.Z.locals;var ue=e(4512),de=function(ye){var b=ye.children,G=ye.checked,m=ye.onChange,u=ye.className;return(0,ue.jsxs)("div",{className:(0,w.Z)("Checkbox",u,{"is-checked":G}),onClick:function(I){m(!G,I),I.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ue.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":G,children:g.eQ}),(0,ue.jsx)("div",{className:"Checkbox-label",children:b})]})}},4499:function(me,Q,e){e.d(Q,{z:function(){return t}});var w=e(2577),g=e(9787),f=e.n(g),d=e(2891),x=e(6340),D=e(487),W=e.n(D),i=e(631),R=e.n(i),B=e(2052),ee=e.n(B),le=e(4010),y=e.n(le),ce=e(1469),fe=e.n(ce),Ce=e(9329),ue=e.n(Ce),de=e(2345),ye={};ye.styleTagTransform=ue(),ye.setAttributes=y(),ye.insert=ee().bind(null,"head"),ye.domAPI=R(),ye.insertStyleElement=fe(),W()(de.Z,ye),de.Z&&de.Z.locals&&de.Z.locals;var b=e(6066),G=e(8211),m=e(56),u=e(4512),I=function(o,l){return!m.Z[l].includes(o)},h=function(o){var l=new Option().style;return l.color=o,!!l.color},c=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),a=function(o){var l=o.colors,s=o.color,S=o.onChange,X=o.onClose,C=o.label,q=o.showInput,A=q===void 0||q,_=o.type,ae=o.elements,U=f().useRef(),H=f().useRef(),j=f().useRef(),F=f().useRef(),T=f().useState(function(){return _==="canvasBackground"?[]:function(M,O){for(var z=[],p=M.filter(function(P){return!P.isDeleted}).sort(function(P,oe){return oe.updated-P.updated}),E=0,v={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[O];E<p.length&&z.length<5;){var Z=p[E];z.length<5&&I(Z[v],O)&&!z.includes(Z[v])&&z.push(Z[v]),E++}return z}(ae,_)}),K=(0,w.Z)(T,1)[0];f().useEffect(function(){H.current?H.current.focus():F.current?F.current.focus():j.current&&j.current.focus()},[]);var ie=function(M){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return M.map(function(z,p){var E=z.replace("#",""),v=O?c[p+15]:c[p],Z=O?E:(0,G.t)("colors.".concat(E));return(0,u.jsxs)("button",{className:"color-picker-swatch",onClick:function(P){P.currentTarget.focus(),S(z)},title:"".concat(Z).concat((0,x.Qm)(z)?"":" (".concat(z,")"),"  ").concat(v.toUpperCase()),"aria-label":Z,"aria-keyshortcuts":c[p],style:{color:z},ref:function(P){!O&&P&&p===0&&(U.current=P),P&&z===s&&(H.current=P)},onFocus:function(){S(z)},children:[(0,x.Qm)(z)?(0,u.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,u.jsx)("span",{className:"color-picker-keybinding",children:v})]},z)})};return(0,u.jsxs)("div",{className:"color-picker color-picker-type-".concat(_),role:"dialog","aria-modal":"true","aria-label":(0,G.t)("labels.colorPicker"),onKeyDown:function(M){var O=!1;if((0,b.Wl)(M.key)){var z,p,E;O=!0;var v,Z=document.activeElement,P=(0,G.G3)().rtl,oe=!1,se=Array.prototype.indexOf.call((z=j.current.querySelector(".color-picker-content--default"))===null||z===void 0?void 0:z.children,Z);se===-1&&(se=Array.prototype.indexOf.call((v=j.current.querySelector(".color-picker-content--canvas-colors"))===null||v===void 0?void 0:v.children,Z))!==-1&&(oe=!0);var N=oe?(p=j.current)===null||p===void 0?void 0:p.querySelector(".color-picker-content--canvas-colors"):(E=j.current)===null||E===void 0?void 0:E.querySelector(".color-picker-content--default");if(N&&se!==-1){var ge,he=N.children.length-(A?1:0),be=M.key===(P?b.tW.ARROW_LEFT:b.tW.ARROW_RIGHT)?(se+1)%he:M.key===(P?b.tW.ARROW_RIGHT:b.tW.ARROW_LEFT)?(he+se-1)%he:oe||M.key!==b.tW.ARROW_DOWN?oe||M.key!==b.tW.ARROW_UP?se:(he+se-5)%he:(se+5)%he;(ge=N.children[be])===null||ge===void 0||ge.focus()}M.preventDefault()}else if(!c.includes(M.key.toLowerCase())||M[b.tW.CTRL_OR_CMD]||M.altKey||(0,x.s)(M.target))M.key!==b.tW.ESCAPE&&M.key!==b.tW.ENTER||(O=!0,M.preventDefault(),X());else{var Se,Y,we;O=!0;var te=c.indexOf(M.key.toLowerCase()),_e=te>=15,Le=_e?j==null||(Se=j.current)===null||Se===void 0?void 0:Se.querySelector(".color-picker-content--canvas-colors"):j==null||(Y=j.current)===null||Y===void 0?void 0:Y.querySelector(".color-picker-content--default"),ze=_e?te-15:te;Le==null||(we=Le.children[ze])===null||we===void 0||we.focus(),M.preventDefault()}O&&(M.nativeEvent.stopImmediatePropagation(),M.stopPropagation())},children:[(0,u.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,u.jsx)("div",{className:"color-picker-triangle"}),(0,u.jsxs)("div",{className:"color-picker-content",ref:function(M){M&&(j.current=M)},tabIndex:-1,children:[(0,u.jsx)("div",{className:"color-picker-content--default",children:ie(l)}),!!K.length&&(0,u.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,u.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,G.t)("labels.canvasColors")}),(0,u.jsx)("div",{className:"color-picker-content--canvas-colors",children:ie(K,!0)})]}),A&&(0,u.jsx)(n,{color:s,label:C,onChange:function(M){S(M)},ref:F})]})]})},n=f().forwardRef(function(o,l){var s=o.color,S=o.onChange,X=o.label,C=f().useState(s),q=(0,w.Z)(C,2),A=q[0],_=q[1],ae=f().useRef(null);f().useEffect(function(){_(s)},[s]),f().useImperativeHandle(l,function(){return ae.current});var U=f().useCallback(function(H){var j=H.toLowerCase(),F=function(T){return(0,x.Qm)(T)?T:h("#".concat(T))?"#".concat(T):h(T)?T:null}(j);F&&S(F),_(j)},[S]);return(0,u.jsxs)("label",{className:"color-input-container",children:[(0,u.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,u.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":X,onChange:function(H){return U(H.target.value)},value:(A||"").replace(/^#/,""),onBlur:function(){return _(s)},ref:ae})]})});n.displayName="ColorInput";var t=function(o){var l,s=o.type,S=o.color,X=o.onChange,C=o.label,q=o.isActive,A=o.setActive,_=o.elements,ae=(o.appState,f().useRef(null)),U=(l=ae.current)===null||l===void 0?void 0:l.getBoundingClientRect();return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"color-picker-control-container",children:[(0,u.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,u.jsx)("button",{className:"color-picker-label-swatch","aria-label":C,style:S?{"--swatch-color":S}:void 0,onClick:function(){return A(!q)},ref:ae})}),(0,u.jsx)(n,{color:S,label:C,onChange:function(H){X(H)}})]}),(0,u.jsx)(f().Suspense,{fallback:"",children:q?(0,u.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:U==null?void 0:U.top,left:U==null?void 0:U.right,zIndex:1},children:(0,u.jsx)(d.J,{onCloseRequest:function(H){return H.target!==ae.current&&A(!1)},children:(0,u.jsx)(a,{colors:m.Z[s],color:S||null,onChange:function(H){X(H)},onClose:function(){var H;A(!1),(H=ae.current)===null||H===void 0||H.focus()},label:C,showInput:!1,type:s,elements:_})})}):null})]})}},7046:function(me,Q,e){e.d(Q,{Z:function(){return n}});var w=e(7169),g=e(2726),f=e(8211),d=e(8396),x=e(487),D=e.n(x),W=e(631),i=e.n(W),R=e(2052),B=e.n(R),ee=e(4010),le=e.n(ee),y=e(1469),ce=e.n(y),fe=e(9329),Ce=e.n(fe),ue=e(9393),de={};de.styleTagTransform=Ce(),de.setAttributes=le(),de.insert=B().bind(null,"head"),de.domAPI=i(),de.insertStyleElement=ce(),D()(ue.Z,de),ue.Z&&ue.Z.locals&&ue.Z.locals;var ye=e(6428),b=e(4739),G=e(9206),m=e(2134),u=e(9487),I=e(4512),h=["onConfirm","onCancel","children","confirmText","cancelText","className"];function c(t,o){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(S){return Object.getOwnPropertyDescriptor(t,S).enumerable})),l.push.apply(l,s)}return l}function a(t){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?c(Object(l),!0).forEach(function(s){(0,w.Z)(t,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):c(Object(l)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(l,s))})}return t}var n=function(t){var o=t.onConfirm,l=t.onCancel,s=t.children,S=t.confirmText,X=S===void 0?(0,f.t)("buttons.confirm"):S,C=t.cancelText,q=C===void 0?(0,f.t)("buttons.cancel"):C,A=t.className,_=A===void 0?"":A,ae=(0,g.Z)(t,h),U=(0,m.n9)(),H=(0,b.b9)(G.u,u.yE);return(0,I.jsxs)(d.V,a(a({onCloseRequest:l,small:!0},ae),{},{className:"confirm-dialog ".concat(_),children:[s,(0,I.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,I.jsx)(ye.Z,{label:q,onClick:function(){U({openMenu:null}),H(!1),l()}}),(0,I.jsx)(ye.Z,{label:X,onClick:function(){U({openMenu:null}),H(!1),o()},actionType:"danger"})]})]}))}},8396:function(me,Q,e){e.d(Q,{V:function(){return X}});var w=e(2577),g=e(45),f=e(9787),d=e(8211),x=e(2134),D=e(6066),W=e(487),i=e.n(W),R=e(631),B=e.n(R),ee=e(2052),le=e.n(ee),y=e(4010),ce=e.n(y),fe=e(1469),Ce=e.n(fe),ue=e(9329),de=e.n(ue),ye=e(9482),b={};b.styleTagTransform=de(),b.setAttributes=ce(),b.insert=le().bind(null,"head"),b.domAPI=B(),b.insertStyleElement=Ce(),i()(ye.Z,b),ye.Z&&ye.Z.locals&&ye.Z.locals;var G=e(3646),m=e(1881),u=e(6843),I={};I.styleTagTransform=de(),I.setAttributes=ce(),I.insert=le().bind(null,"head"),I.domAPI=B(),I.insertStyleElement=Ce(),i()(u.Z,I),u.Z&&u.Z.locals&&u.Z.locals;var h=e(5156),c=e(2335),a=e(4512),n=function(C){var q=C.theme,A=q===void 0?c.C6.LIGHT:q,_=C.closeOnClickOutside,ae=_===void 0||_,U=t(A);return U?(0,h.createPortal)((0,a.jsxs)("div",{className:(0,g.Z)("Modal",C.className),role:"dialog","aria-modal":"true",onKeyDown:function(H){H.key===D.tW.ESCAPE&&(H.nativeEvent.stopImmediatePropagation(),H.stopPropagation(),C.onCloseRequest())},"aria-labelledby":C.labelledBy,"data-prevent-outside-click":!0,children:[(0,a.jsx)("div",{className:"Modal__background",onClick:ae?C.onCloseRequest:void 0}),(0,a.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(C.maxWidth,"px")},tabIndex:0,children:C.children})]}),U):null},t=function(C){var q=(0,f.useState)(null),A=(0,w.Z)(q,2),_=A[0],ae=A[1],U=(0,x.Fy)(),H=(0,f.useRef)(U.isMobile);H.current=U.isMobile;var j=(0,x.J0)().container;return(0,f.useLayoutEffect)(function(){_&&_.classList.toggle("excalidraw--mobile",U.isMobile)},[_,U.isMobile]),(0,f.useLayoutEffect)(function(){var F=!(j==null||!j.classList.contains("theme--dark"))||C==="dark",T=document.createElement("div");return T.classList.add("excalidraw","excalidraw-modal-container"),T.classList.toggle("excalidraw--mobile",H.current),F&&(T.classList.add("theme--dark"),T.classList.add("theme--dark-background-none")),document.body.appendChild(T),ae(T),function(){document.body.removeChild(T)}},[j,C]),_},o=e(6340),l=e(4739),s=e(9206),S=e(9487),X=function(C){var q=function(){var ie=(0,f.useState)(null),M=(0,w.Z)(ie,2),O=M[0],z=M[1];return[O,(0,f.useCallback)(function(p){return z(p)},[])]}(),A=(0,w.Z)(q,2),_=A[0],ae=A[1],U=(0,f.useState)(document.activeElement),H=(0,w.Z)(U,1)[0],j=(0,x.J0)().id;(0,f.useEffect)(function(){if(_){var ie=(0,o.xp)(_);ie.length>0&&C.autofocus!==!1&&(ie[1]||ie[0]).focus();var M=function(O){if(O.key===D.tW.TAB){var z=(0,o.xp)(_),p=document.activeElement,E=z.findIndex(function(v){return v===p});E===0&&O.shiftKey?(z[z.length-1].focus(),O.preventDefault()):E!==z.length-1||O.shiftKey||(z[0].focus(),O.preventDefault())}};return _.addEventListener("keydown",M),function(){return _.removeEventListener("keydown",M)}}},[_,C.autofocus]);var F=(0,x.n9)(),T=(0,l.b9)(s.u,S.yE),K=function(){F({openMenu:null}),T(!1),H.focus(),C.onCloseRequest()};return(0,a.jsx)(n,{className:(0,g.Z)("Dialog",C.className),labelledBy:"dialog-title",maxWidth:C.small?550:800,onCloseRequest:K,theme:C.theme,closeOnClickOutside:C.closeOnClickOutside,children:(0,a.jsxs)(m.W,{ref:ae,children:[(0,a.jsxs)("h2",{id:"".concat(j,"-dialog-title"),className:"Dialog__title",children:[(0,a.jsx)("span",{className:"Dialog__titleContent",children:C.title}),(0,a.jsx)("button",{className:"Modal__close",onClick:K,title:(0,d.t)("buttons.close"),"aria-label":(0,d.t)("buttons.close"),children:(0,x.Fy)().isMobile?G.op:G.Tw})]}),(0,a.jsx)("div",{className:"Dialog__content",children:C.children})]})})}},6428:function(me,Q,e){e.d(Q,{Z:function(){return u}});var w=e(7169),g=e(2726),f=e(45),d=e(487),x=e.n(d),D=e(631),W=e.n(D),i=e(2052),R=e.n(i),B=e(4010),ee=e.n(B),le=e(1469),y=e.n(le),ce=e(9329),fe=e.n(ce),Ce=e(6148),ue={};ue.styleTagTransform=fe(),ue.setAttributes=ee(),ue.insert=R().bind(null,"head"),ue.domAPI=W(),ue.insertStyleElement=y(),x()(Ce.Z,ue),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var de=e(5644),ye=e(4512),b=["label","onClick","className","children","actionType","type","isLoading"];function G(I,h){var c=Object.keys(I);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(I);h&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(I,n).enumerable})),c.push.apply(c,a)}return c}function m(I){for(var h=1;h<arguments.length;h++){var c=arguments[h]!=null?arguments[h]:{};h%2?G(Object(c),!0).forEach(function(a){(0,w.Z)(I,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(c)):G(Object(c)).forEach(function(a){Object.defineProperty(I,a,Object.getOwnPropertyDescriptor(c,a))})}return I}var u=function(I){var h=I.label,c=I.onClick,a=I.className,n=I.children,t=I.actionType,o=I.type,l=o===void 0?"button":o,s=I.isLoading,S=(0,g.Z)(I,b),X=t?"Dialog__action-button--".concat(t):"";return(0,ye.jsxs)("button",m(m({className:(0,f.Z)("Dialog__action-button",X,a),type:l,"aria-label":h,onClick:c},S),{},{children:[n&&(0,ye.jsx)("div",{style:s?{visibility:"hidden"}:{},children:n}),(0,ye.jsx)("div",{style:s?{visibility:"hidden"}:{},children:h}),s&&(0,ye.jsx)("div",{style:{position:"absolute",inset:0},children:(0,ye.jsx)(de.Z,{})})]}))}},1881:function(me,Q,e){e.d(Q,{W:function(){return m}});var w=e(7169),g=e(487),f=e.n(g),d=e(631),x=e.n(d),D=e(2052),W=e.n(D),i=e(4010),R=e.n(i),B=e(1469),ee=e.n(B),le=e(9329),y=e.n(le),ce=e(7369),fe={};fe.styleTagTransform=y(),fe.setAttributes=R(),fe.insert=W().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=ee(),f()(ce.Z,fe),ce.Z&&ce.Z.locals&&ce.Z.locals;var Ce=e(9787),ue=e.n(Ce),de=e(45),ye=e(4512);function b(u,I){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);I&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),h.push.apply(h,c)}return h}function G(u){for(var I=1;I<arguments.length;I++){var h=arguments[I]!=null?arguments[I]:{};I%2?b(Object(h),!0).forEach(function(c){(0,w.Z)(u,c,h[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):b(Object(h)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(h,c))})}return u}var m=ue().forwardRef(function(u,I){var h=u.children,c=u.padding,a=u.className,n=u.style;return(0,ye.jsx)("div",{className:(0,de.Z)("Island",a),style:G({"--padding":c},n),ref:I,children:h})})},9206:function(me,Q,e){e.d(Q,{W:function(){return z},u:function(){return M}});var w=e(8950),g=e(2577),f=e(2975),d=e.n(f),x=e(9787),D=e(5523),W=e(7053),i=e(8211),R=e(3646),B=e(1319),ee=e(1393),le=e(6340),y=e(4739),ce=e(9487),fe=e(7046),Ce=e(7169),ue=e(5284),de=e(8396),ye=e(3024),b=e(2335),G=e(434),m=e(6428),u=e(487),I=e.n(u),h=e(631),c=e.n(h),a=e(2052),n=e.n(a),t=e(4010),o=e.n(t),l=e(1469),s=e.n(l),S=e(9329),X=e.n(S),C=e(7589),q={};q.styleTagTransform=X(),q.setAttributes=o(),q.insert=n().bind(null,"head"),q.domAPI=c(),q.insertStyleElement=s(),I()(C.Z,q),C.Z&&C.Z.locals&&C.Z.locals;var A=e(4512);function _(p,E){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(p);E&&(Z=Z.filter(function(P){return Object.getOwnPropertyDescriptor(p,P).enumerable})),v.push.apply(v,Z)}return v}function ae(p){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?_(Object(v),!0).forEach(function(Z){(0,Ce.Z)(p,Z,v[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):_(Object(v)).forEach(function(Z){Object.defineProperty(p,Z,Object.getOwnPropertyDescriptor(v,Z))})}return p}function U(p,E){var v=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!v){if(Array.isArray(p)||(v=function(ge,he){if(ge){if(typeof ge=="string")return H(ge,he);var be=Object.prototype.toString.call(ge).slice(8,-1);if(be==="Object"&&ge.constructor&&(be=ge.constructor.name),be==="Map"||be==="Set")return Array.from(ge);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return H(ge,he)}}(p))||E&&p&&typeof p.length=="number"){v&&(p=v);var Z=0,P=function(){};return{s:P,n:function(){return Z>=p.length?{done:!0}:{done:!1,value:p[Z++]}},e:function(ge){throw ge},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oe,se=!0,N=!1;return{s:function(){v=v.call(p)},n:function(){var ge=v.next();return se=ge.done,ge},e:function(ge){N=!0,oe=ge},f:function(){try{se||v.return==null||v.return()}finally{if(N)throw oe}}}}function H(p,E){(E==null||E>p.length)&&(E=p.length);for(var v=0,Z=new Array(E);v<E;v++)Z[v]=p[v];return Z}var j="publish-library-data",F=function(){var p=(0,w.Z)(d().mark(function E(v){var Z,P,oe,se,N,ge,he,be,Se,Y,we,te,_e,Le,ze,He,Fe;return d().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:Z=6,P=128,oe=Math.round(P/16),se=Math.max(Math.round(P/64),2),N=(0,le.yo)(v,Z),(ge=document.createElement("canvas")).width=N[0].length*P+(N[0].length+1)*(2*oe)-2*oe,ge.height=N.length*P+(N.length+1)*(2*oe)-2*oe,(he=ge.getContext("2d")).fillStyle=ue.white,he.fillRect(0,0,ge.width,ge.height),be=U(v.entries()),Pe.prev=12,be.s();case 14:if((Se=be.n()).done){Pe.next=28;break}return Y=(0,g.Z)(Se.value,2),we=Y[0],te=Y[1],Pe.next=18,(0,ye.NL)({elements:te.elements,files:null,maxWidthOrHeight:P});case 18:_e=Pe.sent,Le=_e.width,ze=_e.height,He=Math.floor(we/Z)*(P+2*oe),Fe=we%Z*(P+2*oe),he.drawImage(_e,Fe+(P-Le)/2+oe,He+(P-ze)/2+oe),he.lineWidth=se,he.strokeStyle=ue.gray[4],he.strokeRect(Fe+oe/2,He+oe/2,P+oe,P+oe);case 26:Pe.next=14;break;case 28:Pe.next=33;break;case 30:Pe.prev=30,Pe.t0=Pe.catch(12),be.e(Pe.t0);case 33:return Pe.prev=33,be.f(),Pe.finish(33);case 36:return Pe.t1=G.Tu,Pe.t2=File,Pe.next=40,(0,G._c)(ge);case 40:return Pe.t3=Pe.sent,Pe.t4=[Pe.t3],Pe.t5={type:b.LO.png},Pe.t6=new Pe.t2(Pe.t4,"preview",Pe.t5),Pe.t7={outputType:b.LO.jpg,maxWidthOrHeight:5e3},Pe.next=47,(0,Pe.t1)(Pe.t6,Pe.t7);case 47:return Pe.abrupt("return",Pe.sent);case 48:case"end":return Pe.stop()}},E,null,[[12,30,33,36]])}));return function(E){return p.apply(this,arguments)}}(),T=function(p){var E=p.libItem,v=p.appState,Z=p.index,P=p.onChange,oe=p.onRemove,se=(0,x.useRef)(null),N=(0,x.useRef)(null);return(0,x.useEffect)(function(){var ge=se.current;ge&&(0,w.Z)(d().mark(function he(){var be;return d().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,ye.$D)({elements:E.elements,appState:ae(ae({},v),{},{viewBackgroundColor:ue.white,exportBackground:!0}),files:null});case 2:be=Se.sent,ge.innerHTML=be.outerHTML;case 4:case"end":return Se.stop()}},he)}))()},[E.elements,v]),(0,A.jsxs)("div",{className:"single-library-item",children:[E.status==="published"&&(0,A.jsx)("span",{className:"single-library-item-status",children:(0,i.t)("labels.statusPublished")}),(0,A.jsx)("div",{ref:se,className:"single-library-item__svg"}),(0,A.jsx)(B.V,{"aria-label":(0,i.t)("buttons.remove"),type:"button",icon:R.Tw,className:"single-library-item--remove",onClick:oe.bind(null,E.id),title:(0,i.t)("buttons.remove")}),(0,A.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,A.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,A.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,A.jsx)("span",{style:{fontWeight:500,color:ue.gray[6]},children:(0,i.t)("publishDialog.itemName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",ref:N,style:{width:"80%",padding:"0.2rem"},defaultValue:E.name,placeholder:"Item name",onChange:function(ge){P(ge.target.value,Z)}})]}),(0,A.jsx)("span",{className:"error",children:E.error})]})]})},K=function(p){var E=p.onClose,v=p.libraryItems,Z=p.appState,P=p.onSuccess,oe=p.onError,se=p.updateItemsInStorage,N=p.onRemove,ge=(0,x.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),he=(0,g.Z)(ge,2),be=he[0],Se=he[1],Y=(0,x.useState)(!1),we=(0,g.Z)(Y,2),te=we[0],_e=we[1];(0,x.useEffect)(function(){var Ze=function(){try{var Re=localStorage.getItem(j);if(Re)return JSON.parse(Re)}catch(Ue){console.error(Ue)}return null}();Ze&&Se(Ze)},[]);var Le=(0,x.useState)(v.slice()),ze=(0,g.Z)(Le,2),He=ze[0],Fe=ze[1];(0,x.useEffect)(function(){Fe(v.slice())},[v]);var Pe,J=function(Ze){Se(ae(ae({},be),{},(0,Ce.Z)({},Ze.target.name,Ze.target.value)))},ve=function(){var Ze=(0,w.Z)(d().mark(function Re(Ue){var Ke,Ye,lt,ht,ot,et,nt;return d().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(Ue.preventDefault(),_e(!0),Ke=[],Ye=!1,He.forEach(function(vt){var Tt="";vt.name||(Tt=(0,i.t)("publishDialog.errors.required"),Ye=!0),Ke.push(ae(ae({},vt),{},{error:Tt}))}),!Ye){ct.next=9;break}return Fe(Ke),_e(!1),ct.abrupt("return");case 9:return ct.next=11,F(He);case 11:lt=ct.sent,ht={type:b.r8.excalidrawLibrary,version:b.Kr.excalidrawLibrary,source:b.pb,libraryItems:He},ot=JSON.stringify(ht,null,2),et=new Blob([ot],{type:"application/json"}),(nt=new FormData).append("excalidrawLib",et),nt.append("previewImage",lt),nt.append("previewImageType",lt.type),nt.append("title",be.name),nt.append("authorName",be.authorName),nt.append("githubHandle",be.githubHandle),nt.append("name",be.name),nt.append("description",be.description),nt.append("twitterHandle",be.twitterHandle),nt.append("website",be.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:nt}).then(function(vt){return vt.ok?vt.json().then(function(Tt){var Bt=Tt.url;localStorage.removeItem(j),P({url:Bt,authorName:be.authorName,items:He})}):vt.json().catch(function(){throw new Error(vt.statusText||"something went wrong")}).then(function(Tt){throw new Error(Tt.message||vt.statusText||"something went wrong")})},function(vt){console.error(vt),oe(vt),_e(!1)}).catch(function(vt){console.error(vt),oe(vt),_e(!1)});case 27:case"end":return ct.stop()}},Re)}));return function(Re){return Ze.apply(this,arguments)}}(),xe=(0,x.useCallback)(function(){se(He),function(Ze){try{localStorage.setItem(j,JSON.stringify(Ze))}catch(Re){console.error(Re)}}(be),E()},[He,E,se,be]),Ie=!!v.length,De=v.some(function(Ze){return Ze.status==="published"});return(0,A.jsx)(de.V,{onCloseRequest:xe,title:(0,i.t)("publishDialog.title"),className:"publish-library",children:Ie?(0,A.jsxs)("form",{onSubmit:ve,children:[(0,A.jsxs)("div",{className:"publish-library-note",children:[(0,i.t)("publishDialog.noteDescription.pre"),(0,A.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,i.t)("publishDialog.noteDescription.link")})," ",(0,i.t)("publishDialog.noteDescription.post")]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[(0,i.t)("publishDialog.noteGuidelines.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,i.t)("publishDialog.noteGuidelines.link")}),(0,i.t)("publishDialog.noteGuidelines.post")]}),(0,A.jsx)("div",{className:"publish-library-note",children:(0,i.t)("publishDialog.noteItems")}),De&&(0,A.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,i.t)("publishDialog.republishWarning")}),(Pe=[],He.forEach(function(Ze,Re){Pe.push((0,A.jsx)("div",{className:"single-library-item-wrapper",children:(0,A.jsx)(T,{libItem:Ze,appState:Z,index:Re,onChange:function(Ue,Ke){var Ye=He.slice();Ye[Ke].name=Ue,Fe(Ye)},onRemove:N})},Re))}),(0,A.jsx)("div",{className:"selected-library-items",children:Pe})),(0,A.jsxs)("div",{className:"publish-library__fields",children:[(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.libraryName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"name",required:!0,value:be.name,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.libraryName")})]}),(0,A.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.libraryDesc")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("textarea",{name:"description",rows:4,required:!0,value:be.description,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.libraryDesc")})]}),(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.authorName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"authorName",required:!0,value:be.authorName,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.authorName")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.githubUsername")}),(0,A.jsx)("input",{type:"text",name:"githubHandle",value:be.githubHandle,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.githubHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.twitterUsername")}),(0,A.jsx)("input",{type:"text",name:"twitterHandle",value:be.twitterHandle,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.twitterHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:(0,i.t)("publishDialog.website")}),(0,A.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,i.t)("publishDialog.errors.website"),value:be.website,onChange:J,placeholder:(0,i.t)("publishDialog.placeholder.website")})]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[(0,i.t)("publishDialog.noteLicense.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,i.t)("publishDialog.noteLicense.link")}),(0,i.t)("publishDialog.noteLicense.post")]})]}),(0,A.jsxs)("div",{className:"publish-library__buttons",children:[(0,A.jsx)(m.Z,{label:(0,i.t)("buttons.cancel"),onClick:xe,"data-testid":"cancel-clear-canvas-button"}),(0,A.jsx)(m.Z,{type:"submit",label:(0,i.t)("buttons.submit"),actionType:"primary",isLoading:te})]})]}):(0,A.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,i.t)("publishDialog.atleastOneLibItem")})})},ie=e(9127),M=(0,y.cn)(!1),O=function(p,E){return p.filter(function(v){return E.includes(v.id)})},z=function(p){var E=p.setAppState,v=p.selectedItems,Z=p.library,P=p.onRemoveFromLibrary,oe=p.resetLibrary,se=p.onSelectItems,N=p.appState,ge=(0,y.KO)(W.rF,ce.yE),he=(0,g.Z)(ge,1)[0],be=(0,y.KO)(M,ce.yE),Se=(0,g.Z)(be,2),Y=Se[0],we=Se[1],te=(0,x.useCallback)(function(){var et=v.length?(0,i.t)("alerts.removeItemsFromsLibrary",{count:v.length}):(0,i.t)("alerts.resetLibrary"),nt=v.length?(0,i.t)("confirmDialog.removeItemsFromLib"):(0,i.t)("confirmDialog.resetLibrary");return(0,A.jsx)(fe.Z,{onConfirm:function(){v.length?P():oe(),He(!1)},onCancel:function(){He(!1)},title:nt,children:(0,A.jsx)("p",{children:et})})},[v,P,oe]),_e=(0,x.useState)(!1),Le=(0,g.Z)(_e,2),ze=Le[0],He=Le[1],Fe=!!v.length,Pe=Fe?he.libraryItems.filter(function(et){return v.includes(et.id)}):he.libraryItems,J=Fe?(0,i.t)("buttons.remove"):(0,i.t)("buttons.resetLibrary"),ve=(0,x.useState)(!1),xe=(0,g.Z)(ve,2),Ie=xe[0],De=xe[1],Ze=(0,x.useState)(null),Re=(0,g.Z)(Ze,2),Ue=Re[0],Ke=Re[1],Ye=(0,x.useCallback)(function(){return(0,A.jsxs)(de.V,{onCloseRequest:function(){return Ke(null)},title:(0,i.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,A.jsxs)("p",{children:[(0,i.t)("publishSuccessDialog.content",{authorName:Ue.authorName})," ",(0,A.jsx)("a",{href:Ue==null?void 0:Ue.url,target:"_blank",rel:"noopener noreferrer",children:(0,i.t)("publishSuccessDialog.link")})]}),(0,A.jsx)(B.V,{type:"button",title:(0,i.t)("buttons.close"),"aria-label":(0,i.t)("buttons.close"),label:(0,i.t)("buttons.close"),onClick:function(){return Ke(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Ke,Ue]),lt=(0,x.useCallback)(function(et,nt){De(!1),Ke({url:et.url,authorName:et.authorName});var ct=nt.slice();ct.forEach(function(vt){v.includes(vt.id)&&(vt.status="published")}),Z.setLibrary(ct)},[De,Ke,v,Z]),ht=function(){var et=(0,w.Z)(d().mark(function nt(){return d().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return ct.prev=0,ct.next=3,Z.updateLibrary({libraryItems:(0,ee.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:ct.next=11;break;case 5:if(ct.prev=5,ct.t0=ct.catch(0),(ct.t0===null||ct.t0===void 0?void 0:ct.t0.name)!=="AbortError"){ct.next=10;break}return console.warn(ct.t0),ct.abrupt("return");case 10:E({errorMessage:(0,i.t)("errors.importLibraryError")});case 11:case"end":return ct.stop()}},nt,null,[[0,5]])}));return function(){return et.apply(this,arguments)}}(),ot=function(){var et=(0,w.Z)(d().mark(function nt(){var ct;return d().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(!Fe){vt.next=4;break}vt.t0=Pe,vt.next=7;break;case 4:return vt.next=6,Z.getLatestLibrary();case 6:vt.t0=vt.sent;case 7:ct=vt.t0,(0,D.t1)(ct).catch(le.FG).catch(function(Tt){E({errorMessage:Tt.message})});case 9:case"end":return vt.stop()}},nt)}));return function(){return et.apply(this,arguments)}}();return(0,A.jsxs)("div",{style:{position:"relative"},children:[(0,A.jsxs)(ie.Z,{open:Y,children:[(0,A.jsx)(ie.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return we(!Y)},children:R.YA}),(0,A.jsxs)(ie.Z.Content,{onClickOutside:function(){return we(!1)},onSelect:function(){return we(!1)},className:"library-menu",children:[!Fe&&(0,A.jsx)(ie.Z.Item,{onSelect:ht,icon:R.Tl,"data-testid":"lib-dropdown--load",children:(0,i.t)("buttons.load")}),!!Pe.length&&(0,A.jsx)(ie.Z.Item,{onSelect:ot,icon:R.Hy,"data-testid":"lib-dropdown--export",children:(0,i.t)("buttons.export")}),!!Pe.length&&(0,A.jsx)(ie.Z.Item,{onSelect:function(){return He(!0)},icon:R.XH,children:J}),Fe&&(0,A.jsx)(ie.Z.Item,{icon:R.Nw,onSelect:function(){return De(!0)},"data-testid":"lib-dropdown--remove",children:(0,i.t)("buttons.publishLibrary")})]})]}),v.length>0&&(0,A.jsx)("div",{className:"library-actions-counter",children:v.length}),ze&&te(),Ie&&(0,A.jsx)(K,{onClose:function(){return De(!1)},libraryItems:O(he.libraryItems,v),appState:N,onSuccess:function(et){return lt(et,he.libraryItems)},onError:function(et){return window.alert(et)},updateItemsInStorage:function(){return Z.setLibrary(he.libraryItems)},onRemove:function(et){return se(v.filter(function(nt){return nt!==et}))}}),Ue&&Ye()]})}},5440:function(me,Q,e){e.d(Q,{z:function(){return i}});var w=e(2577),g=e(8211),f=e(9787),d=e(5644),x=e(45),D=e(2335),W=e(4512),i=function(R){var B=R.delay,ee=R.theme,le=(0,f.useState)(!!B),y=(0,w.Z)(le,2),ce=y[0],fe=y[1];return(0,f.useEffect)(function(){if(B){var Ce=setTimeout(function(){fe(!1)},B);return function(){return clearTimeout(Ce)}}},[B]),ce?null:(0,W.jsxs)("div",{className:(0,x.Z)("LoadingMessage",{"LoadingMessage--dark":ee===D.C6.DARK}),children:[(0,W.jsx)("div",{children:(0,W.jsx)(d.Z,{})}),(0,W.jsx)("div",{className:"LoadingMessage-text",children:(0,g.t)("labels.loadingScene")})]})}},2891:function(me,Q,e){e.d(Q,{J:function(){return b}});var w=e(9787),g=e(487),f=e.n(g),d=e(631),x=e.n(d),D=e(2052),W=e.n(D),i=e(4010),R=e.n(i),B=e(1469),ee=e.n(B),le=e(9329),y=e.n(le),ce=e(9935),fe={};fe.styleTagTransform=y(),fe.setAttributes=R(),fe.insert=W().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=ee(),f()(ce.Z,fe),ce.Z&&ce.Z.locals&&ce.Z.locals;var Ce=e(5156),ue=e(6340),de=e(6066),ye=e(4512),b=function(G){var m=G.children,u=G.left,I=G.top,h=G.onCloseRequest,c=G.fitInViewport,a=c!==void 0&&c,n=G.offsetLeft,t=n===void 0?0:n,o=G.offsetTop,l=o===void 0?0:o,s=G.viewportWidth,S=s===void 0?window.innerWidth:s,X=G.viewportHeight,C=X===void 0?window.innerHeight:X,q=(0,w.useRef)(null);(0,w.useEffect)(function(){var _=q.current;if(_){_.contains(document.activeElement)||_.focus();var ae=function(U){if(U.key===de.tW.TAB){var H=(0,ue.xp)(_),j=document.activeElement,F=H.findIndex(function(M){return M===j});if(j===_){var T;U.shiftKey?(T=H[H.length-1])===null||T===void 0||T.focus():H[0].focus(),U.preventDefault(),U.stopImmediatePropagation()}else if(F===0&&U.shiftKey){var K;(K=H[H.length-1])===null||K===void 0||K.focus(),U.preventDefault(),U.stopImmediatePropagation()}else if(F===H.length-1&&!U.shiftKey){var ie;(ie=H[0])===null||ie===void 0||ie.focus(),U.preventDefault(),U.stopImmediatePropagation()}}};return _.addEventListener("keydown",ae),function(){return _.removeEventListener("keydown",ae)}}},[]);var A=(0,w.useRef)(null);return(0,w.useLayoutEffect)(function(){if(a&&q.current&&I!=null&&u!=null){var _,ae,U=q.current,H=U.getBoundingClientRect(),j=H.width,F=H.height;if(((_=A.current)===null||_===void 0?void 0:_.top)===I&&((ae=A.current)===null||ae===void 0?void 0:ae.left)===u)return;A.current={top:I,left:u},j>=S?(U.style.width="".concat(S,"px"),U.style.left="0px",U.style.overflowX="scroll"):U.style.left="".concat(u+j-t>S?S-j-10:u,"px"),F>=C?(U.style.height="".concat(C-20,"px"),U.style.top="10px",U.style.overflowY="scroll"):U.style.top="".concat(I+F-l>C?C-F:I,"px")}},[I,u,a,S,C,t,l]),(0,w.useEffect)(function(){if(h){var _=function(ae){var U;(U=q.current)!==null&&U!==void 0&&U.contains(ae.target)||(0,Ce.unstable_batchedUpdates)(function(){return h(ae)})};return document.addEventListener("pointerdown",_,!1),function(){return document.removeEventListener("pointerdown",_,!1)}}},[h]),(0,ye.jsx)("div",{className:"popover",ref:q,tabIndex:-1,children:m})}},9430:function(me,Q,e){e.d(Q,{Y:function(){return q},b:function(){return C}});var w=e(2577),g=e(9787),f=e.n(g),d=e(1881),x=e(4739),D=e(9487),W=f().createContext({}),i=e(45),R=e(8211),B=e(2134),ee=e(3646),le=e(7169),y=e(4512);function ce(A,_){var ae=Object.keys(A);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(A);_&&(U=U.filter(function(H){return Object.getOwnPropertyDescriptor(A,H).enumerable})),ae.push.apply(ae,U)}return ae}var fe=e(1894),Ce=function(A){return(0,y.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,y.jsxs)(fe.u,{label:(0,R.t)("labels.sidebarLock"),children:[(0,y.jsxs)("label",{className:(0,i.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,y.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:A.onChange,checked:A.checked,"aria-label":(0,R.t)("labels.sidebarLock")})," ",(0,y.jsx)("div",{className:(0,i.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":A.checked}),tabIndex:0,children:ee.qQ})," "]})," "]})})},ue=function(A){var _=(0,g.createContext)([!1,function(){}]),ae=function(H){var j=H.children,F=(0,g.useState)(!1),T=(0,w.Z)(F,2),K=T[0],ie=T[1],M=(0,g.useMemo)(function(){return[K,ie]},[K]);return(0,y.jsx)(_.Provider,{value:M,children:j})},U=function(H){var j=(0,g.useContext)(_),F=(0,w.Z)(j,2),T=F[0],K=F[1];return(0,g.useLayoutEffect)(function(){if(!H.__isFallback)return K(!0),function(){return K(!1)}},[H.__isFallback,K]),H.__isFallback&&T?null:(0,y.jsx)(A,function(ie){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{};M%2?ce(Object(O),!0).forEach(function(z){(0,le.Z)(ie,z,O[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(O)):ce(Object(O)).forEach(function(z){Object.defineProperty(ie,z,Object.getOwnPropertyDescriptor(O,z))})}return ie}({},H))};return A.name&&(U.displayName="".concat(A.name,"_upstreamOverrideWrapper"),ae.displayName="".concat(A.name,"_upstreamOverrideContextWrapper")),[ae,U]}(function(A){var _=A.children,ae=A.className,U=(0,B.Fy)(),H=(0,g.useContext)(W),j=!(!U.canDeviceFitSidebar||!H.dockable),F=!!H.onClose;return(0,y.jsxs)("div",{className:(0,i.Z)("layer-ui__sidebar__header",ae),"data-testid":"sidebar-header",children:[_,(j||F)&&(0,y.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[j&&(0,y.jsx)(Ce,{checked:!!H.docked,onChange:function(){var T;(T=H.onDock)===null||T===void 0||T.call(H,!H.docked)}}),F&&(0,y.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:H.onClose,"aria-label":(0,R.t)("buttons.close"),children:ee.Tw})]})]})}),de=(0,w.Z)(ue,2),ye={Context:de[0],Component:de[1]},b=e(487),G=e.n(b),m=e(631),u=e.n(m),I=e(2052),h=e.n(I),c=e(4010),a=e.n(c),n=e(1469),t=e.n(n),o=e(9329),l=e.n(o),s=e(8208),S={};S.styleTagTransform=l(),S.setAttributes=a(),S.insert=h().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=t(),G()(s.Z,S),s.Z&&s.Z.locals&&s.Z.locals;var X=e(6340),C=(0,x.cn)({rendered:0,docked:0}),q=Object.assign((0,g.forwardRef)(function(A,_){var ae,U=A.children,H=A.onClose,j=A.onDock,F=A.docked,T=A.initialDockedState,K=T===void 0?F:T,ie=A.dockable,M=ie===void 0||ie,O=A.className,z=A.__isInternal,p=(0,x.KO)(C,D.yE),E=(0,w.Z)(p,2),v=E[0],Z=E[1],P=(0,B.n9)(),oe=(0,g.useState)((ae=F??K)!==null&&ae!==void 0&&ae),se=(0,w.Z)(oe,2),N=se[0],ge=se[1];(0,g.useLayoutEffect)(function(){F===void 0&&P(function(Se){return ge(Se.isSidebarDocked),null})},[P,F]),(0,g.useLayoutEffect)(function(){if(!z)return Z(function(Se){return{rendered:Se.rendered+1,docked:N?Se.docked+1:Se.docked}}),function(){Z(function(Se){return{rendered:Se.rendered-1,docked:N?Se.docked-1:Se.docked}})}},[z,Z,N]);var he=(0,g.useRef)(H);he.current=H,(0,g.useEffect)(function(){return function(){var Se;(Se=he.current)===null||Se===void 0||Se.call(he)}},[]);var be=(0,g.useRef)({});return be.current.onClose=function(){P({openSidebar:null})},be.current.onDock=function(Se){F===void 0&&(P({isSidebarDocked:Se}),ge(Se)),j==null||j(Se)},be.current=(0,X.v4)(be.current,{docked:F??N,dockable:M}),v.rendered>0&&z?null:(0,y.jsx)(d.W,{className:(0,i.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":N},O),ref:_,children:(0,y.jsx)(W.Provider,{value:be.current,children:(0,y.jsxs)(ye.Context,{children:[(0,y.jsx)(ye.Component,{__isFallback:!0}),U]})})})}),{Header:ye.Component})},5644:function(me,Q,e){e.d(Q,{Z:function(){return Ce}});var w=e(487),g=e.n(w),f=e(631),d=e.n(f),x=e(2052),D=e.n(x),W=e(4010),i=e.n(W),R=e(1469),B=e.n(R),ee=e(9329),le=e.n(ee),y=e(5892),ce={};ce.styleTagTransform=le(),ce.setAttributes=i(),ce.insert=D().bind(null,"head"),ce.domAPI=d(),ce.insertStyleElement=B(),g()(y.Z,ce),y.Z&&y.Z.locals&&y.Z.locals;var fe=e(4512),Ce=function(ue){var de=ue.size,ye=de===void 0?"1em":de,b=ue.circleWidth,G=b===void 0?8:b;return(0,fe.jsx)("div",{className:"Spinner",children:(0,fe.jsx)("svg",{viewBox:"0 0 100 100",style:{width:ye,height:ye},children:(0,fe.jsx)("circle",{cx:"50",cy:"50",r:50-G/2,strokeWidth:G,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(me,Q,e){e.d(Q,{Z:function(){return b}});var w=e(7169),g=e(487),f=e.n(g),d=e(631),x=e.n(d),D=e(2052),W=e.n(D),i=e(4010),R=e.n(i),B=e(1469),ee=e.n(B),le=e(9329),y=e.n(le),ce=e(3874),fe={};fe.styleTagTransform=y(),fe.setAttributes=R(),fe.insert=W().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=ee(),f()(ce.Z,fe),ce.Z&&ce.Z.locals&&ce.Z.locals;var Ce=e(45),ue=e(4512);function de(G,m){var u=Object.keys(G);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(G);m&&(I=I.filter(function(h){return Object.getOwnPropertyDescriptor(G,h).enumerable})),u.push.apply(u,I)}return u}function ye(G){for(var m=1;m<arguments.length;m++){var u=arguments[m]!=null?arguments[m]:{};m%2?de(Object(u),!0).forEach(function(I){(0,w.Z)(G,I,u[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(u)):de(Object(u)).forEach(function(I){Object.defineProperty(G,I,Object.getOwnPropertyDescriptor(u,I))})}return G}var b={Row:function(G){var m=G.children,u=G.gap,I=G.align,h=G.justifyContent,c=G.className,a=G.style;return(0,ue.jsx)("div",{className:(0,Ce.Z)("Stack Stack_horizontal",c),style:ye({"--gap":u,alignItems:I,justifyContent:h},a),children:m})},Col:function(G){var m=G.children,u=G.gap,I=G.align,h=G.justifyContent,c=G.className,a=G.style;return(0,ue.jsx)("div",{className:(0,Ce.Z)("Stack Stack_vertical",c),style:ye({"--gap":u,justifyItems:I,justifyContent:h},a),children:m})}}},1319:function(me,Q,e){e.d(Q,{V:function(){return le}});var w=e(8950),g=e(2577),f=e(2975),d=e.n(f),x=(e(5422),e(9787)),D=e.n(x),W=e(45),i=e(2134),R=e(6797),B=e(5644),ee=e(4512),le=D().forwardRef(function(y,ce){var fe=(0,i.J0)().id,Ce=D().useRef(null);D().useImperativeHandle(ce,function(){return Ce.current});var ue="ToolIcon_size_".concat(y.size),de=(0,x.useState)(!1),ye=(0,g.Z)(de,2),b=ye[0],G=ye[1],m=(0,x.useRef)(!0),u=function(){var c=(0,w.Z)(d().mark(function a(n){var t,o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(o="onClick"in y&&((t=y.onClick)===null||t===void 0?void 0:t.call(y,n)))||!("then"in o)){l.next=18;break}return l.prev=2,G(!0),l.next=6,o;case 6:l.next=15;break;case 8:if(l.prev=8,l.t0=l.catch(2),l.t0 instanceof R._){l.next=14;break}throw l.t0;case 14:console.warn(l.t0);case 15:return l.prev=15,m.current&&G(!1),l.finish(15);case 18:case"end":return l.stop()}},a,null,[[2,8,15,18]])}));return function(a){return c.apply(this,arguments)}}();(0,x.useEffect)(function(){return function(){m.current=!1}},[]);var I=(0,x.useRef)(null);if(y.type==="button"||y.type==="icon"||y.type==="submit"){var h=y.type==="icon"?"button":y.type;return(0,ee.jsxs)("button",{className:(0,W.Z)("ToolIcon_type_button",ue,y.className,y.visible&&!y.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!y.hidden,"ToolIcon--selected":y.selected,"ToolIcon--plain":y.type==="icon"}),"data-testid":y["data-testid"],hidden:y.hidden,title:y.title,"aria-label":y["aria-label"],type:h,onClick:u,ref:Ce,disabled:b||y.isLoading,children:[(y.icon||y.label)&&(0,ee.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[y.icon||y.label,y.keyBindingLabel&&(0,ee.jsx)("span",{className:"ToolIcon__keybinding",children:y.keyBindingLabel}),y.isLoading&&(0,ee.jsx)(B.Z,{})]}),y.showAriaLabel&&(0,ee.jsxs)("div",{className:"ToolIcon__label",children:[y["aria-label"]," ",b&&(0,ee.jsx)(B.Z,{})]}),y.children]})}return(0,ee.jsxs)("label",{className:(0,W.Z)("ToolIcon",y.className),title:y.title,onPointerDown:function(c){var a;I.current=c.pointerType||null,(a=y.onPointerDown)===null||a===void 0||a.call(y,{pointerType:c.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){I.current=null})},children:[(0,ee.jsx)("input",{className:"ToolIcon_type_radio ".concat(ue),type:"radio",name:y.name,"aria-label":y["aria-label"],"aria-keyshortcuts":y["aria-keyshortcuts"],"data-testid":y["data-testid"],id:"".concat(fe,"-").concat(y.id),onChange:function(){var c;(c=y.onChange)===null||c===void 0||c.call(y,{pointerType:I.current})},checked:y.checked,ref:Ce}),(0,ee.jsxs)("div",{className:"ToolIcon__icon",children:[y.icon,y.keyBindingLabel&&(0,ee.jsx)("span",{className:"ToolIcon__keybinding",children:y.keyBindingLabel})]})]})});le.defaultProps={visible:!0,className:"",size:"medium"},le.displayName="ToolButton"},1894:function(me,Q,e){e.d(Q,{u:function(){return ye},bK:function(){return ue},Js:function(){return de}});var w=e(487),g=e.n(w),f=e(631),d=e.n(f),x=e(2052),D=e.n(x),W=e(4010),i=e.n(W),R=e(1469),B=e.n(R),ee=e(9329),le=e.n(ee),y=e(6626),ce={};ce.styleTagTransform=le(),ce.setAttributes=i(),ce.insert=D().bind(null,"head"),ce.domAPI=d(),ce.insertStyleElement=B(),g()(y.Z,ce),y.Z&&y.Z.locals&&y.Z.locals;var fe=e(9787),Ce=e(4512),ue=function(){var b=document.querySelector(".excalidraw-tooltip");if(b)return b;var G=document.createElement("div");return document.body.appendChild(G),G.classList.add("excalidraw-tooltip"),G},de=function(b,G){var m,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",I=b.getBoundingClientRect(),h=window.innerWidth,c=window.innerHeight,a=5,n=G.left+G.width/2-I.width/2;n<0?n=a:n+I.width>=h&&(n=h-I.width-a),u==="bottom"?(m=G.top+G.height+a)+I.height>=c&&(m=G.top-I.height-a):(m=G.top-I.height-a)<0&&(m=G.top+G.height+a),Object.assign(b.style,{top:"".concat(m,"px"),left:"".concat(n,"px")})},ye=function(b){var G=b.children,m=b.label,u=b.long,I=u!==void 0&&u,h=b.style;return(0,fe.useEffect)(function(){return function(){return ue().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Ce.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(c){return function(a,n,t,o){n.classList.add("excalidraw-tooltip--visible"),n.style.minWidth=o?"50ch":"10ch",n.style.maxWidth=o?"50ch":"15ch",n.textContent=t;var l=a.getBoundingClientRect();de(n,l)}(c.currentTarget,ue(),m,I)},onPointerLeave:function(){return ue().classList.remove("excalidraw-tooltip--visible")},style:h,children:G})}},6773:function(me,Q,e){e.d(Q,{Z:function(){return m}});var w=e(2577),g=e(487),f=e.n(g),d=e(631),x=e.n(d),D=e(2052),W=e.n(D),i=e(4010),R=e.n(i),B=e(1469),ee=e.n(B),le=e(9329),y=e.n(le),ce=e(6359),fe={};fe.styleTagTransform=y(),fe.setAttributes=R(),fe.insert=W().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=ee(),f()(ce.Z,fe),ce.Z&&ce.Z.locals&&ce.Z.locals;var Ce=e(9787),ue=e.n(Ce),de=e(45),ye=e(1894),b=e(2134),G=e(4512),m=function(u){var I=u.className,h=u.mobile,c=u.collaborators,a=(0,b.eh)(),n=new Map;c.forEach(function(o,l){n.set(o.id||l,o)});var t=n.size>0&&Array.from(n).filter(function(o){var l=(0,w.Z)(o,2),s=(l[0],l[1]);return Object.keys(s).length!==0}).map(function(o){var l=(0,w.Z)(o,2),s=l[0],S=l[1],X=a.renderAction("goToCollaborator",[s,S]);return h?(0,G.jsx)(ye.u,{label:S.username||"Unknown user",children:X},s):(0,G.jsx)(ue().Fragment,{children:X},s)});return(0,G.jsx)("div",{className:(0,de.Z)("UserList",I,{UserList_mobile:h}),children:t})}},8888:function(me,Q,e){e.d(Q,{A3:function(){return B},ZC:function(){return le},R6:function(){return ee}});var w=e(9787),g=e.n(w);const f=y=>{let ce;const fe=new Set,Ce=(ye,b)=>{const G=typeof ye=="function"?ye(ce):ye;if(!Object.is(G,ce)){const m=ce;ce=b??typeof G!="object"?G:Object.assign({},ce,G),fe.forEach(u=>u(ce,m))}},ue=()=>ce,de={setState:Ce,getState:ue,subscribe:ye=>(fe.add(ye),()=>fe.delete(ye)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),fe.clear()}};return ce=y(Ce,ue,de),de},d=y=>y?f(y):f;var x=e(5668);const{useSyncExternalStoreWithSelector:D}=x,W=y=>{typeof y!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const ce=typeof y=="function"?d(y):y,fe=(Ce,ue)=>function(de,ye=de.getState,b){const G=D(de.subscribe,de.getState,de.getServerState||de.getState,ye,b);return(0,w.useDebugValue)(G),G}(ce,Ce,ue);return Object.assign(fe,ce),fe},i=y=>y?W(y):W;function R(){const y=i(ce=>({current:new Array,version:0,set:ce}));return{In:({children:ce})=>{const fe=y(ue=>ue.set),Ce=y(ue=>ue.version);return(0,w.useLayoutEffect)(()=>{fe(ue=>({version:ue.version+1}))},[]),(0,w.useLayoutEffect)(()=>(fe(({current:ue})=>({current:[...ue,ce]})),()=>fe(({current:ue})=>({current:ue.filter(de=>de!==ce)}))),[ce,Ce]),null},Out:()=>{const ce=y(fe=>fe.current);return g().createElement(g().Fragment,null,ce)}}}var B=g().createContext(null),ee=function(){return g().useContext(B)},le=function(){return g().useMemo(function(){return{mainMenuTunnel:R(),welcomeScreenMenuHintTunnel:R(),welcomeScreenToolbarHintTunnel:R(),welcomeScreenHelpHintTunnel:R(),welcomeScreenCenterTunnel:R(),footerCenterTunnel:R(),jotaiScope:Symbol()}},[])}},9127:function(me,Q,e){e.d(Q,{Z:function(){return H}});var w=e(45),g=e(2134),f=e(4512),d=function(j){var F=j.className,T=F===void 0?"":F,K=j.children,ie=j.onToggle,M=(0,g.gF)(),O=(0,g.Fy)(),z=(0,w.Z)("dropdown-menu-button ".concat(T),"zen-mode-transition",{"transition-left":M.zenModeEnabled,"dropdown-menu-button--mobile":O.isMobile}).trim();return(0,f.jsx)("button",{"data-prevent-outside-click":!0,className:z,onClick:ie,type:"button","data-testid":"dropdown-menu-button",children:K})},x=d;d.displayName="DropdownMenuTrigger";var D=e(2739),W=function(){return(0,f.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},i=W;W.displayName="DropdownMenuSeparator";var R=function(j){var F=j.children,T=j.className,K=T===void 0?"":T,ie=j.style,M=j.title;return(0,f.jsxs)("div",{className:"dropdown-menu-group ".concat(K),style:ie,children:[M&&(0,f.jsx)("p",{className:"dropdown-menu-group-title",children:M}),F]})},B=R;R.displayName="DropdownMenuGroup";var ee=e(1930),le=e(9787),y=e.n(le),ce=e(1881),fe=e(7239),Ce=e(6772),ue=function(j){var F,T,K=j.children,ie=j.onClickOutside,M=j.className,O=M===void 0?"":M,z=j.onSelect,p=j.style,E=(0,g.Fy)(),v=(F=function(){ie==null||ie()},T=(0,le.useRef)(null),(0,le.useEffect)(function(){var P=function(oe){var se=T.current;!se||se.contains(oe.target)||(0,ee.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(N){return N.contains(oe.target)})||F(oe)};return document.addEventListener("pointerdown",P),document.addEventListener("touchstart",P),function(){document.removeEventListener("pointerdown",P),document.removeEventListener("touchstart",P)}},[T,F]),T),Z=(0,w.Z)("dropdown-menu ".concat(O),{"dropdown-menu--mobile":E.isMobile}).trim();return(0,f.jsx)(Ce.N7.Provider,{value:{onSelect:z},children:(0,f.jsx)("div",{ref:v,className:Z,style:p,"data-testid":"dropdown-menu",children:E.isMobile?(0,f.jsx)(fe.Z.Col,{className:"dropdown-menu-container",children:K}):(0,f.jsx)(ce.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:K})})})};ue.displayName="DropdownMenuContent";var de=ue,ye=e(4215),b=e(7169),G=e(2726),m=["children","className"];function u(j,F){var T=Object.keys(j);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(j);F&&(K=K.filter(function(ie){return Object.getOwnPropertyDescriptor(j,ie).enumerable})),T.push.apply(T,K)}return T}function I(j){for(var F=1;F<arguments.length;F++){var T=arguments[F]!=null?arguments[F]:{};F%2?u(Object(T),!0).forEach(function(K){(0,b.Z)(j,K,T[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(K){Object.defineProperty(j,K,Object.getOwnPropertyDescriptor(T,K))})}return j}var h=function(j){var F=j.children,T=j.className,K=T===void 0?"":T,ie=(0,G.Z)(j,m);return(0,f.jsx)("div",I(I({},ie),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(K).trim(),children:F}))},c=e(487),a=e.n(c),n=e(631),t=e.n(n),o=e(2052),l=e.n(o),s=e(4010),S=e.n(s),X=e(1469),C=e.n(X),q=e(9329),A=e.n(q),_=e(7399),ae={};ae.styleTagTransform=A(),ae.setAttributes=S(),ae.insert=l().bind(null,"head"),ae.domAPI=t(),ae.insertStyleElement=C(),a()(_.Z,ae),_.Z&&_.Z.locals&&_.Z.locals;var U=function(j){var F=j.children,T=j.open,K=function(M){return y().Children.toArray(M).find(function(O){return y().isValidElement(O)&&typeof O.type!="string"&&(O==null?void 0:O.type.displayName)&&O.type.displayName==="DropdownMenuTrigger"})||null}(F),ie=function(M){return y().Children.toArray(M).find(function(O){return y().isValidElement(O)&&typeof O.type!="string"&&(O==null?void 0:O.type.displayName)&&O.type.displayName==="DropdownMenuContent"})||null}(F);return(0,f.jsxs)(f.Fragment,{children:[K,T&&ie]})};U.Trigger=x,U.Content=de,U.Item=D.Z,U.ItemLink=ye.Z,U.ItemCustom=h,U.Group=B,U.Separator=i;var H=U;U.displayName="DropdownMenu"},2739:function(me,Q,e){var w=e(7169),g=e(2726),f=e(6772),d=e(4122),x=e(4512),D=["icon","onSelect","children","shortcut","className"];function W(B,ee){var le=Object.keys(B);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(B);ee&&(y=y.filter(function(ce){return Object.getOwnPropertyDescriptor(B,ce).enumerable})),le.push.apply(le,y)}return le}function i(B){for(var ee=1;ee<arguments.length;ee++){var le=arguments[ee]!=null?arguments[ee]:{};ee%2?W(Object(le),!0).forEach(function(y){(0,w.Z)(B,y,le[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(le)):W(Object(le)).forEach(function(y){Object.defineProperty(B,y,Object.getOwnPropertyDescriptor(le,y))})}return B}var R=function(B){var ee,le=B.icon,y=B.onSelect,ce=B.children,fe=B.shortcut,Ce=B.className,ue=(0,g.Z)(B,D),de=(0,f.qZ)(ue.onClick,y);return(0,x.jsx)("button",i(i({},ue),{},{onClick:de,type:"button",className:(0,f.n)(Ce),title:(ee=ue.title)!==null&&ee!==void 0?ee:ue["aria-label"],children:(0,x.jsx)(d.Z,{icon:le,shortcut:fe,children:ce})}))};Q.Z=R,R.displayName="DropdownMenuItem"},4122:function(me,Q,e){var w=e(2134),g=e(4512);Q.Z=function(f){var d=f.icon,x=f.shortcut,D=f.children,W=(0,w.Fy)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"dropdown-menu-item__icon",children:d}),(0,g.jsx)("div",{className:"dropdown-menu-item__text",children:D}),x&&!W.isMobile&&(0,g.jsx)("div",{className:"dropdown-menu-item__shortcut",children:x})]})}},4215:function(me,Q,e){var w=e(7169),g=e(2726),f=e(4122),d=e(6772),x=e(4512),D=["icon","shortcut","href","children","onSelect","className"];function W(B,ee){var le=Object.keys(B);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(B);ee&&(y=y.filter(function(ce){return Object.getOwnPropertyDescriptor(B,ce).enumerable})),le.push.apply(le,y)}return le}function i(B){for(var ee=1;ee<arguments.length;ee++){var le=arguments[ee]!=null?arguments[ee]:{};ee%2?W(Object(le),!0).forEach(function(y){(0,w.Z)(B,y,le[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(le)):W(Object(le)).forEach(function(y){Object.defineProperty(B,y,Object.getOwnPropertyDescriptor(le,y))})}return B}var R=function(B){var ee,le=B.icon,y=B.shortcut,ce=B.href,fe=B.children,Ce=B.onSelect,ue=B.className,de=ue===void 0?"":ue,ye=(0,g.Z)(B,D),b=(0,d.qZ)(ye.onClick,Ce);return(0,x.jsx)("a",i(i({},ye),{},{href:ce,target:"_blank",rel:"noreferrer",className:(0,d.n)(de),title:(ee=ye.title)!==null&&ee!==void 0?ee:ye["aria-label"],onClick:b,children:(0,x.jsx)(f.Z,{icon:le,shortcut:y,children:fe})}))};Q.Z=R,R.displayName="DropdownMenuItemLink"},6772:function(me,Q,e){e.d(Q,{N7:function(){return x},n:function(){return D},qZ:function(){return W}});var w=e(9787),g=e.n(w),f=e(2335),d=e(6340),x=g().createContext({}),D=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(i).trim()},W=function(i,R){var B=(0,w.useContext)(x);return(0,d.Mj)(i,function(ee){var le,y=new CustomEvent(f.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});R==null||R(y),y.defaultPrevented||(le=B.onSelect)===null||le===void 0||le.call(B,y)})}},3646:function(me,Q,e){e.d(Q,{$c:function(){return he},$q:function(){return q},BF:function(){return Ue},BR:function(){return oe},Ct:function(){return ze},D7:function(){return O},DG:function(){return se},DJ:function(){return I},DS:function(){return Et},EO:function(){return er},ET:function(){return M},FC:function(){return G},Gc:function(){return te},HL:function(){return He},Hk:function(){return jr},Hy:function(){return T},IN:function(){return _e},J8:function(){return N},Mw:function(){return h},NA:function(){return U},NW:function(){return j},Nw:function(){return lr},OA:function(){return ft},OW:function(){return a},P7:function(){return or},Pm:function(){return S},RJ:function(){return Ke},RY:function(){return F},Re:function(){return t},ST:function(){return xe},Sd:function(){return A},TP:function(){return ge},Tl:function(){return P},Tw:function(){return Ze},UE:function(){return be},VL:function(){return X},Vl:function(){return Y},Vq:function(){return Ce},W2:function(){return Wt},W5:function(){return ve},Wl:function(){return nt},X7:function(){return ot},XB:function(){return C},XH:function(){return ae},YA:function(){return de},ZA:function(){return et},Zm:function(){return z},_C:function(){return b},_U:function(){return u},a0:function(){return lt},a1:function(){return v},a5:function(){return vt},aA:function(){return rr},aT:function(){return Tt},bf:function(){return Bt},by:function(){return K},e0:function(){return o},eQ:function(){return p},fr:function(){return Pt},gK:function(){return Ie},h0:function(){return ie},il:function(){return Nt},j8:function(){return We},jn:function(){return De},kL:function(){return H},kM:function(){return Kt},lF:function(){return Ye},m:function(){return Dt},m9:function(){return ct},mh:function(){return Pe},nb:function(){return n},np:function(){return ht},nq:function(){return $e},o3:function(){return Yt},oQ:function(){return m},oT:function(){return At},op:function(){return Re},pO:function(){return ue},po:function(){return Z},pw:function(){return Le},q0:function(){return Xe},qQ:function(){return ye},rr:function(){return Ot},t5:function(){return we},tW:function(){return Ve},tb:function(){return s},tn:function(){return Qt},uD:function(){return J},vo:function(){return wt},wr:function(){return Gt},xL:function(){return _},xP:function(){return E},xs:function(){return Fe},z6:function(){return _t},zG:function(){return Se},zb:function(){return l},zu:function(){return c}});var w=e(7169),g=e(2726),f=e(9787),d=e.n(f),x=e(5284),D=e(45),W=e(2335),i=e(4512),R=["width","height","mirror","style"];function B(zt,Ft){var $t=Object.keys(zt);if(Object.getOwnPropertySymbols){var cr=Object.getOwnPropertySymbols(zt);Ft&&(cr=cr.filter(function(Zr){return Object.getOwnPropertyDescriptor(zt,Zr).enumerable})),$t.push.apply($t,cr)}return $t}function ee(zt){for(var Ft=1;Ft<arguments.length;Ft++){var $t=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?B(Object($t),!0).forEach(function(cr){(0,w.Z)(zt,cr,$t[cr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors($t)):B(Object($t)).forEach(function(cr){Object.defineProperty(zt,cr,Object.getOwnPropertyDescriptor($t,cr))})}return zt}var le=function(zt){return zt===W.C6.LIGHT?x.white:"#1e1e1e"},y=function(zt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,$t=typeof Ft=="number"?{width:Ft}:Ft,cr=$t.width,Zr=cr===void 0?512:cr,Hr=$t.height,Yr=Hr===void 0?Zr:Hr,Xr=$t.mirror,Dr=$t.style,gr=(0,g.Z)($t,R);return(0,i.jsx)("svg",ee(ee({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Zr," ").concat(Yr),className:(0,D.Z)({"rtl-mirror":Xr}),style:Dr},gr),{},{children:typeof zt=="string"?(0,i.jsx)("path",{fill:"currentColor",d:zt}):zt}))},ce={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},fe={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Ce=(y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,i.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,i.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,i.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),ce),y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,i.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,i.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,i.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),ce)),ue=y((0,i.jsxs)("svg",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ce),de=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,i.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,i.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),ce),ye=y((0,i.jsxs)("svg",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,i.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,i.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),ce),b=y((0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,i.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,i.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,i.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),fe),G=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,i.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,i.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),fe),m=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),u=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),I=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),h=y((0,i.jsxs)("g",{fill:"currentColor",children:[(0,i.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),c=y((0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,i.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),a=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),ce),n=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),ce),t=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),ce),o=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,i.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,i.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),ce),l=y((0,i.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),fe),s=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,i.jsx)("path",{d:"M16 7h4"}),(0,i.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),ce),S=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,i.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),fe),X=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,i.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,i.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,i.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,i.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),ce),C=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M12.5 6.667h.01"}),(0,i.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,i.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,i.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),fe),q=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,i.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),ce),A=y((0,i.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),fe),_=y((0,i.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),fe),ae=y((0,i.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),fe),U=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),fe),H=y((0,i.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),fe),j=y((0,i.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),fe),F=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,i.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,i.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),ce),T=y((0,i.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),fe),K=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,i.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ce),ie=y((0,i.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),fe),M=y((0,i.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),fe),O=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,i.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),fe),z=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),ce),p=y((0,i.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),E=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,i.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),fe),v=y("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Z=y("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),P=y((0,i.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),fe),oe=y("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),se=y("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),N=y((0,i.jsxs)("g",{strokeWidth:"1.25",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M15 8h.01"}),(0,i.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,i.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,i.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,i.jsx)("path",{d:"M19 16v6"}),(0,i.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),ce),ge=y("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),he=(y("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),y("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),y("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),be=(y("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),y((0,i.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),fe)),Se=y((0,i.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),fe),Y=y("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),we=(y((0,i.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),fe),y("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,i.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),y((0,i.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe)),te=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,i.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),_e=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),Le=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",children:[(0,i.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,i.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),ze=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),He=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),Fe=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),Pe=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),J=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),ve=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),xe=y((0,i.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),fe),Ie=y((0,i.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),fe),De=y((0,i.jsxs)("g",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,i.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,i.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,i.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),ce),Ze=(y("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),y("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe)),Re=y("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ue=(y("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),y("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),y("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),d().memo(function(zt){var Ft=zt.theme;return y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,i.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,i.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,i.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,i.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Ke=d().memo(function(zt){var Ft=zt.theme;return y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,i.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,i.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,i.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,i.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,i.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),Ye=y((0,i.jsx)("g",{strokeWidth:1.25,children:(0,i.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),fe),lt=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,i.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,i.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,i.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),fe),ht=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#a)",children:[(0,i.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,i.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,i.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,i.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),ot=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",children:(0,i.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ee(ee({},fe),{},{fill:"currentColor"})),et=y((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fe),nt=y((0,i.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),fe),ct=y((0,i.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),fe),vt=y((0,i.jsxs)("g",{strokeWidth:"2",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M5 12h2"}),(0,i.jsx)("path",{d:"M17 12h2"}),(0,i.jsx)("path",{d:"M11 12h2"})]}),ce),Tt=y((0,i.jsxs)("g",{strokeWidth:"2",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M4 12v.01"}),(0,i.jsx)("path",{d:"M8 12v.01"}),(0,i.jsx)("path",{d:"M12 12v.01"}),(0,i.jsx)("path",{d:"M16 12v.01"}),(0,i.jsx)("path",{d:"M20 12v.01"})]}),ce),Bt=y((0,i.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),fe),Kt=y((0,i.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),fe),Wt=y((0,i.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),fe),Gt=y((0,i.jsxs)("svg",{strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,i.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,i.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,i.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,i.jsx)("path",{d:"M16.6667 10V10.01"}),(0,i.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,i.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,i.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,i.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,i.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,i.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,i.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),fe),Et=y((0,i.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,i.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,i.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,i.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,i.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,i.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,i.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,i.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,i.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,i.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,i.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,i.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),ce),Pt=y((0,i.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Nt=d().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return y((0,i.jsxs)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,i.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,i.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Qt=d().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return y((0,i.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,i.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,i.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Dt=d().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return y((0,i.jsx)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",children:(0,i.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),We=d().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return y((0,i.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,i.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,i.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Xe=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",children:(0,i.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),$e=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",children:(0,i.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),Ve=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",children:(0,i.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),ft=y((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fe),wt=y((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),fe),_t=y((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fe),Ot=y((0,i.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,i.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,i.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),ce),Yt=y((0,i.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,i.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,i.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),ce),At=y((0,i.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,i.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,i.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),ce),er=d().memo(function(zt){return zt.theme,y((0,i.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,i.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),ce)}),rr=d().memo(function(zt){return zt.theme,y((0,i.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,i.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),ce)}),or=d().memo(function(zt){return zt.theme,y((0,i.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,i.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,i.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),ce)}),lr=y((0,i.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),jr=(y((0,i.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),y((0,i.jsxs)("g",{strokeWidth:1.25,children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,i.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,i.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,i.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),ce))},4709:function(me,Q,e){e.d(Q,{Z:function(){return v}});var w={};e.r(w),e.d(w,{ChangeCanvasBackground:function(){return C},ClearCanvas:function(){return S},Export:function(){return q},Help:function(){return s},LiveCollaborationTrigger:function(){return _},LoadScene:function(){return t},SaveAsImage:function(){return l},SaveToActiveFile:function(){return o},Socials:function(){return A},ToggleTheme:function(){return X}});var g=e(2134),f=e(9127),d=e(785),x=e(8211),D=e(3646),W=e(2739),i=e(4215),R=e(6710),B=e(487),ee=e.n(B),le=e(631),y=e.n(le),ce=e(2052),fe=e.n(ce),Ce=e(4010),ue=e.n(Ce),de=e(1469),ye=e.n(de),b=e(9329),G=e.n(b),m=e(4343),u={};u.styleTagTransform=G(),u.setAttributes=ue(),u.insert=fe().bind(null,"head"),u.domAPI=y(),u.insertStyleElement=ye(),ee()(m.Z,u),m.Z&&m.Z.locals&&m.Z.locals;var I=e(45),h=e(4739),c=e(6798),a=e(9487),n=e(4512),t=function(){var Z=(0,x.QT)().t,P=(0,g.eh)();return P.isActionEnabled(R._d)?(0,n.jsx)(W.Z,{icon:D.Tl,onSelect:function(){return P.executeAction(R._d)},"data-testid":"load-button",shortcut:(0,d.C)("loadScene"),"aria-label":Z("buttons.load"),children:Z("buttons.load")}):null};t.displayName="LoadScene";var o=function(){var Z=(0,x.QT)().t,P=(0,g.eh)();return P.isActionEnabled(R.ns)?(0,n.jsx)(W.Z,{shortcut:(0,d.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return P.executeAction(R.ns)},icon:D.a1,"aria-label":"".concat(Z("buttons.save")),children:"".concat(Z("buttons.save"))}):null};o.displayName="SaveToActiveFile";var l=function(){var Z=(0,g.n9)(),P=(0,x.QT)().t;return(0,n.jsx)(W.Z,{icon:D.J8,"data-testid":"image-export-button",onSelect:function(){return Z({openDialog:"imageExport"})},shortcut:(0,d.C)("imageExport"),"aria-label":P("buttons.exportImage"),children:P("buttons.exportImage")})};l.displayName="SaveAsImage";var s=function(){var Z=(0,x.QT)().t,P=(0,g.eh)();return(0,n.jsx)(W.Z,{"data-testid":"help-menu-item",icon:D.by,onSelect:function(){return P.executeAction(R.jY)},shortcut:"?","aria-label":Z("helpDialog.title"),children:Z("helpDialog.title")})};s.displayName="Help";var S=function(){var Z=(0,x.QT)().t,P=(0,h.b9)(c.w,a.yE);return(0,g.eh)().isActionEnabled(R.mo)?(0,n.jsx)(W.Z,{icon:D.XH,onSelect:function(){return P("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Z("buttons.clearReset"),children:Z("buttons.clearReset")}):null};S.displayName="ClearCanvas";var X=function(){var Z=(0,x.QT)().t,P=(0,g.gF)(),oe=(0,g.eh)();return oe.isActionEnabled(R.Zp)?(0,n.jsx)(W.Z,{onSelect:function(se){return se.preventDefault(),oe.executeAction(R.Zp)},icon:P.theme==="dark"?D.NW:D.kL,"data-testid":"toggle-dark-mode",shortcut:(0,d.C)("toggleTheme"),"aria-label":P.theme==="dark"?Z("buttons.lightMode"):Z("buttons.darkMode"),children:P.theme==="dark"?Z("buttons.lightMode"):Z("buttons.darkMode")}):null};X.displayName="ToggleTheme";var C=function(){var Z=(0,x.QT)().t,P=(0,g.gF)(),oe=(0,g.eh)();return P.viewModeEnabled?null:(0,n.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,n.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:Z("labels.canvasBackground")}),(0,n.jsx)("div",{style:{padding:"0 0.625rem"},children:oe.renderAction("changeViewBackgroundColor")})]})};C.displayName="ChangeCanvasBackground";var q=function(){var Z=(0,x.QT)().t,P=(0,g.n9)();return(0,n.jsx)(W.Z,{icon:D.Hy,onSelect:function(){P({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Z("buttons.export"),children:Z("buttons.export")})};q.displayName="Export";var A=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{icon:D.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,n.jsx)(i.Z,{icon:D.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,n.jsx)(i.Z,{icon:D.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};A.displayName="Socials";var _=function(Z){var P=Z.onSelect,oe=Z.isCollaborating,se=(0,x.QT)().t;return(0,n.jsx)(W.Z,{"data-testid":"collab-button",icon:D.jn,className:(0,I.Z)({"active-collab":oe}),onSelect:P,children:se("labels.liveCollaboration")})};_.displayName="LiveCollaborationTrigger";var ae=e(6773),U=e(7169),H=e(2577),j=e(9787),F=e(8888);function T(Z,P){var oe=Object.keys(Z);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(Z);P&&(se=se.filter(function(N){return Object.getOwnPropertyDescriptor(Z,N).enumerable})),oe.push.apply(oe,se)}return oe}var K,ie,M,O,z,p=e(6340),E=Object.assign((K="MainMenu",ie=function(Z){var P=Z.children,oe=Z.onSelect,se=(0,F.R6)().mainMenuTunnel,N=(0,g.Fy)(),ge=(0,g.gF)(),he=(0,g.n9)(),be=N.isMobile?void 0:function(){return he({openMenu:null})};return(0,n.jsx)(se.In,{children:(0,n.jsxs)(f.Z,{open:ge.openMenu==="canvas",children:[(0,n.jsx)(f.Z.Trigger,{onToggle:function(){he({openMenu:ge.openMenu==="canvas"?null:"canvas"})},children:D.RY}),(0,n.jsxs)(f.Z.Content,{onClickOutside:be,onSelect:(0,p.Mj)(oe,function(){he({openMenu:null})}),children:[P,N.isMobile&&ge.collaborators.size>0&&(0,n.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,n.jsx)("legend",{children:(0,x.t)("labels.collaborators")}),(0,n.jsx)(ae.Z,{mobile:!0,collaborators:ge.collaborators})]})]})]})})},M=(0,h.cn)(0),O=!1,z=function(Z){var P=(0,F.R6)().jotaiScope,oe=(0,h.KO)(M,P),se=(0,H.Z)(oe,2),N=se[0],ge=se[1];return(0,j.useLayoutEffect)(function(){return ge(function(he){return he+1}),function(){ge(function(he){return he-1})}},[ge]),Z.__fallback||(O=!0),!N&&Z.__fallback&&O||N>1&&Z.__fallback?null:(0,n.jsx)(ie,function(he){for(var be=1;be<arguments.length;be++){var Se=arguments[be]!=null?arguments[be]:{};be%2?T(Object(Se),!0).forEach(function(Y){(0,U.Z)(he,Y,Se[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(Se)):T(Object(Se)).forEach(function(Y){Object.defineProperty(he,Y,Object.getOwnPropertyDescriptor(Se,Y))})}return he}({},Z))},z.displayName=K,z),{Trigger:f.Z.Trigger,Item:f.Z.Item,ItemLink:f.Z.ItemLink,ItemCustom:f.Z.ItemCustom,Group:f.Z.Group,Separator:f.Z.Separator,DefaultItems:w}),v=E},2335:function(me,Q,e){e.d(Q,{jo:function(){return ze},iC:function(){return I},gK:function(){return J},$C:function(){return X},oc:function(){return l},_9:function(){return Ze},HN:function(){return Ke},qy:function(){return _e},rk:function(){return ae},n5:function(){return _},h6:function(){return Le},Rx:function(){return De},Hg:function(){return U},cW:function(){return se},hs:function(){return H},f:function(){return h},xY:function(){return Ie},Iw:function(){return a},$e:function(){return n},Vi:function(){return S},Ks:function(){return fe},r8:function(){return T},ZB:function(){return te},pb:function(){return K},ut:function(){return C},k:function(){return j},sA:function(){return v},LL:function(){return ie},EE:function(){return Y},qx:function(){return c},$n:function(){return He},zK:function(){return we},LO:function(){return F},Zj:function(){return E},Yx:function(){return be},sS:function(){return he},kV:function(){return ge},sk:function(){return Se},eF:function(){return N},Oh:function(){return s},WR:function(){return Ue},a6:function(){return Re},HM:function(){return z},ay:function(){return o},hR:function(){return Fe},Gj:function(){return M},I8:function(){return xe},wZ:function(){return t},C6:function(){return q},ZF:function(){return Z},nM:function(){return O},ah:function(){return oe},UO:function(){return P},Kr:function(){return Pe},oX:function(){return ve},_D:function(){return A},V4:function(){return p},Dt:function(){return b},jP:function(){return u},Um:function(){return de},vU:function(){return G},G6:function(){return m},ED:function(){return ye}});var w=e(487),g=e.n(w),f=e(631),d=e.n(f),x=e(2052),D=e.n(x),W=e(4010),i=e.n(W),R=e(1469),B=e.n(R),ee=e(9329),le=e.n(ee),y=e(6464),ce={};ce.styleTagTransform=le(),ce.setAttributes=i(),ce.insert=D().bind(null,"head"),ce.domAPI=d(),ce.insertStyleElement=B(),g()(y.Z,ce);var fe,Ce=y.Z&&y.Z.locals?y.Z.locals:void 0,ue=e(5284),de=/Mac|iPod|iPhone|iPad/.test(navigator.platform),ye=/^Win/.test(navigator.platform),b=/\b(android)\b/i.test(navigator.userAgent),G="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,m=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,u=function(){var Ye,lt;return((Ye=navigator.brave)===null||Ye===void 0||(lt=Ye.isBrave)===null||lt===void 0?void 0:lt.name)==="isBrave"},I="Excalidraw",h=10,c=8,a=5,n=1,t=30,o=Math.PI/12,l={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},s={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Ye){Ye.COPY="copy",Ye.PASTE="paste",Ye.CUT="cut",Ye.KEYDOWN="keydown",Ye.KEYUP="keyup",Ye.MOUSE_MOVE="mousemove",Ye.RESIZE="resize",Ye.UNLOAD="unload",Ye.FOCUS="focus",Ye.BLUR="blur",Ye.DRAG_OVER="dragover",Ye.DROP="drop",Ye.GESTURE_END="gestureend",Ye.BEFORE_UNLOAD="beforeunload",Ye.GESTURE_START="gesturestart",Ye.GESTURE_CHANGE="gesturechange",Ye.POINTER_MOVE="pointermove",Ye.POINTER_UP="pointerup",Ye.STATE_CHANGE="statechange",Ye.WHEEL="wheel",Ye.TOUCH_START="touchstart",Ye.TOUCH_END="touchend",Ye.HASHCHANGE="hashchange",Ye.VISIBILITY_CHANGE="visibilitychange",Ye.SCROLL="scroll",Ye.EXCALIDRAW_LINK="excalidraw-link",Ye.MENU_ITEM_SELECT="menu.itemSelect"})(fe||(fe={}));var S={TEST:"test",DEVELOPMENT:"development"},X={SHAPE_ACTIONS_MENU:"App-menu__left"},C={Virgil:1,Helvetica:2,Cascadia:3},q={LIGHT:"light",DARK:"dark"},A="Segoe UI Emoji",_=20,ae=C.Virgil,U="left",H="top",j=20,F={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},T={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},K=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,ie=500,M=300,O=500,z=100,p=.1,E=.1,v=300,Z=Ce.themeFilter,P={addLibrary:"addLibrary"},oe={addLibrary:"addLibrary"},se={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},N=640,ge=730,he=1e3,be=500,Se=1229,Y=parseInt(Ce.rightSidebarWidth),we=2,te=[1,2,3],_e=10,Le=1440,ze=[F.png,F.jpg,F.svg,F.gif,F.webp,F.bmp,F.ico],He=2097152,Fe="http://www.w3.org/2000/svg",Pe={excalidraw:2,excalidrawLibrary:2},J=5,ve={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},xe={LEFT:"left",CENTER:"center",RIGHT:"right"},Ie=20,De=.25,Ze=32,Re={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Ue="__precedingElement__",Ke={strokeColor:ue.black,backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,locked:!1}},434:function(me,Q,e){e.d(Q,{DQ:function(){return m},KG:function(){return s},Pn:function(){return X},Qk:function(){return G},Sf:function(){return l},Tu:function(){return S},Wr:function(){return I},ZY:function(){return h},_c:function(){return t},bv:function(){return C},cT:function(){return c},g8:function(){return u},gY:function(){return ae},lV:function(){return n},tW:function(){return o},vZ:function(){return U},wf:function(){return a}});var w=e(1930),g=e(2577),f=e(7169),d=e(8950),x=e(2975),D=e.n(x),W=e(5605),i=e(8897),R=e(2335),B=e(1047),ee=e(6797),le=e(8211),y=e(75),ce=e(6340),fe=e(1393),Ce=e(5523),ue=e(679);function de(H,j){var F=Object.keys(H);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(H);j&&(T=T.filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable})),F.push.apply(F,T)}return F}function ye(H){for(var j=1;j<arguments.length;j++){var F=arguments[j]!=null?arguments[j]:{};j%2?de(Object(F),!0).forEach(function(T){(0,f.Z)(H,T,F[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(F)):de(Object(F)).forEach(function(T){Object.defineProperty(H,T,Object.getOwnPropertyDescriptor(F,T))})}return H}var b=function(){var H=(0,d.Z)(D().mark(function j(F){var T;return D().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(F.type!==R.LO.png){K.next=18;break}return K.prev=1,K.next=4,Promise.resolve().then(e.bind(e,673));case 4:return K.next=6,K.sent.decodePngMetadata(F);case 6:return K.abrupt("return",K.sent);case 9:if(K.prev=9,K.t0=K.catch(1),K.t0.message!=="INVALID"){K.next=15;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:K.next=43;break;case 18:if(!("text"in Blob)){K.next=24;break}return K.next=21,F.text();case 21:T=K.sent,K.next=27;break;case 24:return K.next=26,new Promise(function(ie){var M=new FileReader;M.readAsText(F,"utf8"),M.onloadend=function(){M.readyState===FileReader.DONE&&ie(M.result)}});case 26:T=K.sent;case 27:if(F.type!==R.LO.svg){K.next=43;break}return K.prev=28,K.next=31,Promise.resolve().then(e.bind(e,673));case 31:return K.next=33,K.sent.decodeSvgMetadata({svg:T});case 33:return K.abrupt("return",K.sent);case 36:if(K.prev=36,K.t1=K.catch(28),K.t1.message!=="INVALID"){K.next=42;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return K.abrupt("return",T);case 44:case"end":return K.stop()}},j,null,[[1,9],[28,36]])}));return function(j){return H.apply(this,arguments)}}(),G=function(H){var j;return H&&((j=H.name.match(/\.(json|excalidraw|png|svg)$/))===null||j===void 0?void 0:j[1])||null},m=function(H){return H==="png"||H==="svg"},u=function(H){var j=G(H);return j==="png"||j==="svg"},I=function(H){var j=(H||{}).type;return!!j&&R.jo.includes(j)},h=function(){var H=(0,d.Z)(D().mark(function j(F,T,K,ie){var M,O;return D().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,b(F);case 2:if(M=z.sent,z.prev=3,O=JSON.parse(M),!(0,Ce.dS)(O)){z.next=9;break}return z.abrupt("return",{type:R.LO.excalidraw,data:(0,ue.nu)({elements:(0,B._M)(O.elements||[]),appState:ye(ye({theme:T==null?void 0:T.theme,fileHandle:ie||F.handle||null},(0,i.s)(O.appState||{})),T?(0,y.W)(O.elements||[],T,null):{}),files:O.files},T,K,{repairBindings:!0,refreshDimensions:!0})});case 9:if(!(0,Ce.HT)(O)){z.next=11;break}return z.abrupt("return",{type:R.LO.excalidrawlib,data:O});case 11:throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 14:throw z.prev=14,z.t0=z.catch(3),console.error(z.t0.message),new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return z.stop()}},j,null,[[3,14]])}));return function(j,F,T,K){return H.apply(this,arguments)}}(),c=function(){var H=(0,d.Z)(D().mark(function j(F,T,K,ie){var M;return D().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,h(F,T,K,ie);case 2:if((M=O.sent).type===R.LO.excalidraw){O.next=5;break}throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 5:return O.abrupt("return",M.data);case 6:case"end":return O.stop()}},j)}));return function(j,F,T,K){return H.apply(this,arguments)}}(),a=function(H){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",F=JSON.parse(H);if(!(0,Ce.HT)(F))throw new Error("Invalid library");var T=F.libraryItems||F.library;return(0,ue.wJ)(T,j)},n=function(){var H=(0,d.Z)(D().mark(function j(F){var T,K=arguments;return D().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return T=K.length>1&&K[1]!==void 0?K[1]:"unpublished",ie.t0=a,ie.next=4,b(F);case 4:return ie.t1=ie.sent,ie.t2=T,ie.abrupt("return",(0,ie.t0)(ie.t1,ie.t2));case 7:case"end":return ie.stop()}},j)}));return function(j){return H.apply(this,arguments)}}(),t=function(){var H=(0,d.Z)(D().mark(function j(F){return D().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",new Promise(function(K,ie){try{F.toBlob(function(M){if(!M)return ie(new ee.l((0,le.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));K(M)})}catch(M){ie(M)}}));case 1:case"end":return T.stop()}},j)}));return function(j){return H.apply(this,arguments)}}(),o=function(){var H=(0,d.Z)(D().mark(function j(F){var T;return D().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.prev=0,K.t0=window.crypto.subtle,K.next=4,U(F);case 4:return K.t1=K.sent,K.next=7,K.t0.digest.call(K.t0,"SHA-1",K.t1);case 7:return T=K.sent,K.abrupt("return",(0,ce.G3)(new Uint8Array(T)));case 11:return K.prev=11,K.t2=K.catch(0),console.error(K.t2),K.abrupt("return",(0,W.x0)(40));case 15:case"end":return K.stop()}},j,null,[[0,11]])}));return function(j){return H.apply(this,arguments)}}(),l=function(){var H=(0,d.Z)(D().mark(function j(F){return D().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",new Promise(function(K,ie){var M=new FileReader;M.onload=function(){var O=M.result;K(O)},M.onerror=function(O){return ie(O)},M.readAsDataURL(F)}));case 1:case"end":return T.stop()}},j)}));return function(j){return H.apply(this,arguments)}}(),s=function(H){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",F=H.indexOf(","),T=atob(H.slice(F+1)),K=H.slice(0,F).split(":")[1].split(";")[0],ie=new ArrayBuffer(T.length),M=new Uint8Array(ie),O=0;O<T.length;O++)M[O]=T.charCodeAt(O);return new File([ie],j,{type:K})},S=function(){var H=(0,d.Z)(D().mark(function j(F,T){var K,ie,M,O,z,p;return D().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(F.type!==R.LO.svg){E.next=2;break}return E.abrupt("return",F);case 2:return E.next=4,Promise.all([e.e(4736).then(e.t.bind(e,4881,23)).then(function(v){return v.default}),e.e(4736).then(e.bind(e,100)).then(function(v){return v.default})]);case 4:if(K=E.sent,ie=(0,g.Z)(K,2),M=ie[0],O=ie[1],z=O({pica:M({features:["js","wasm"]})}),T.outputType&&(p=T.outputType,z._create_blob=function(v){return this.pica.toBlob(v.out_canvas,p,.8).then(function(Z){return v.out_blob=Z,v})}),I(F)){E.next=12;break}throw new Error((0,le.t)("errors.unsupportedFileType"));case 12:return E.t0=File,E.next=15,z.toBlob(F,{max:T.maxWidthOrHeight});case 15:return E.t1=E.sent,E.t2=[E.t1],E.t3=F.name,E.t4={type:T.outputType||F.type},E.abrupt("return",new E.t0(E.t2,E.t3,E.t4));case 20:case"end":return E.stop()}},j)}));return function(j,F){return H.apply(this,arguments)}}(),X=function(H){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(H)],j,{type:R.LO.svg})},C=function(){var H=(0,d.Z)(D().mark(function j(F){var T,K;return D().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return T=F.dataTransfer.files.item(0),ie.next=3,q(F);case 3:if(K=ie.sent,!T){ie.next=10;break}return ie.next=7,ae(T);case 7:ie.t0=ie.sent,ie.next=11;break;case 10:ie.t0=null;case 11:return ie.t1=ie.t0,ie.t2=K,ie.abrupt("return",{file:ie.t1,fileHandle:ie.t2});case 14:case"end":return ie.stop()}},j)}));return function(j){return H.apply(this,arguments)}}(),q=function(){var H=(0,d.Z)(D().mark(function j(F){var T,K;return D().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!fe.kr){ie.next=16;break}return ie.prev=1,T=F.dataTransfer.items[0],ie.next=5,T.getAsFileSystemHandle();case 5:if(ie.t0=ie.sent,ie.t0){ie.next=8;break}ie.t0=null;case 8:return K=ie.t0,ie.abrupt("return",K);case 12:return ie.prev=12,ie.t1=ie.catch(1),console.warn(ie.t1.name,ie.t1.message),ie.abrupt("return",null);case 16:return ie.abrupt("return",null);case 17:case"end":return ie.stop()}},j,null,[[1,12]])}));return function(j){return H.apply(this,arguments)}}(),A=function(H){var j=null,F="".concat((0,w.Z)(new Uint8Array(H).slice(0,8)).join(" ")," "),T="255 216 255 ",K="71 73 70 56 57 97 ";return F==="137 80 78 71 13 10 26 10 "?j=R.LO.png:F.startsWith(T)?j=R.LO.jpg:F.startsWith(K)&&(j=R.LO.gif),j},_=function(H,j,F){return new File([H],F||"",{type:j})},ae=function(){var H=(0,d.Z)(D().mark(function j(F){var T,K,ie,M,O,z,p,E;return D().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(F.type){v.next=28;break}if((T=F)===null||T===void 0||(K=T.name)===null||K===void 0||!K.endsWith(".excalidrawlib")){v.next=11;break}return v.t0=_,v.next=5,U(F);case 5:v.t1=v.sent,v.t2=R.LO.excalidrawlib,v.t3=F.name,F=(0,v.t0)(v.t1,v.t2,v.t3),v.next=26;break;case 11:if((ie=F)===null||ie===void 0||(M=ie.name)===null||M===void 0||!M.endsWith(".excalidraw")){v.next=21;break}return v.t4=_,v.next=15,U(F);case 15:v.t5=v.sent,v.t6=R.LO.excalidraw,v.t7=F.name,F=(0,v.t4)(v.t5,v.t6,v.t7),v.next=26;break;case 21:return v.next=23,U(F);case 23:O=v.sent,(z=A(O))&&(F=_(O,z,F.name));case 26:v.next=34;break;case 28:if(!I(F)){v.next=34;break}return v.next=31,U(F);case 31:p=v.sent,(E=A(p))&&E!==F.type&&(F=_(p,E,F.name));case 34:return v.abrupt("return",F);case 35:case"end":return v.stop()}},j)}));return function(j){return H.apply(this,arguments)}}(),U=function(H){return"arrayBuffer"in H?H.arrayBuffer():new Promise(function(j,F){var T=new FileReader;T.onload=function(K){var ie;if((ie=K.target)===null||ie===void 0||!ie.result)return F(new Error("Couldn't convert blob to ArrayBuffer"));j(K.target.result)},T.readAsArrayBuffer(H)})}},1393:function(me,Q,e){e.d(Q,{I$:function(){return le},NL:function(){return y},kr:function(){return d}});var w=e(1930),g=e(8950),f=e(2975),d=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),x=d?e.e(4736).then(e.bind(e,2254)):e.e(4736).then(e.bind(e,3499));function D(){return D=(0,g.Z)(f.mark(function ce(){var fe,Ce=arguments;return f.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x;case 2:return ue.abrupt("return",(fe=ue.sent).default.apply(fe,Ce));case 3:case"end":return ue.stop()}},ce)})),D.apply(this,arguments)}d?e.e(4736).then(e.bind(e,6474)):e.e(4736).then(e.bind(e,9521));var W=d?e.e(4736).then(e.bind(e,9475)):e.e(4736).then(e.bind(e,6281));function i(){return i=(0,g.Z)(f.mark(function ce(){var fe,Ce=arguments;return f.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,W;case 2:return ue.abrupt("return",(fe=ue.sent).default.apply(fe,Ce));case 3:case"end":return ue.stop()}},ce)})),i.apply(this,arguments)}var R=e(2335),B=e(6797),ee=e(6340),le=function(ce){var fe,Ce,ue,de=(fe=ce.extensions)===null||fe===void 0?void 0:fe.reduce(function(b,G){return b.push(R.LO[G]),b},[]),ye=(Ce=ce.extensions)===null||Ce===void 0?void 0:Ce.reduce(function(b,G){return G==="jpg"?b.concat(".jpg",".jpeg"):b.concat(".".concat(G))},[]);return function(){return D.apply(this,arguments)}({description:ce.description,extensions:ye,mimeTypes:de,multiple:(ue=ce.multiple)!==null&&ue!==void 0&&ue,legacySetup:function(b,G,m){var u=(0,ee.Ds)(G,500),I=function(){h(),document.addEventListener(R.Ks.KEYUP,u),document.addEventListener(R.Ks.POINTER_UP,u),u()},h=function(){var a;if((a=m.files)!==null&&a!==void 0&&a.length){var n=ce.multiple?(0,w.Z)(m.files):m.files[0];b(n)}};requestAnimationFrame(function(){window.addEventListener(R.Ks.FOCUS,I)});var c=window.setInterval(function(){h()},500);return function(a){clearInterval(c),u.cancel(),window.removeEventListener(R.Ks.FOCUS,I),document.removeEventListener(R.Ks.KEYUP,u),document.removeEventListener(R.Ks.POINTER_UP,u),a&&(console.warn("Opening the file was canceled (legacy-fs)."),a(new B._))}}})},y=function(ce,fe){return function(){return i.apply(this,arguments)}(ce,{fileName:"".concat(fe.name,".").concat(fe.extension),description:fe.description,extensions:[".".concat(fe.extension)]},fe.fileHandle)}},673:function(me,Q,e){e.r(Q),e.d(Q,{decodePngMetadata:function(){return G},decodeSvgMetadata:function(){return u},encodePngMetadata:function(){return b},encodeSvgMetadata:function(){return m},getTEXtChunk:function(){return ye}});var w=e(8950),g=e(2975),f=e.n(g),d=e(2983),x=e.n(d),D=e(1194),W=e(3434),i=e.n(W),R=e(2744),B=e(2335),ee=e(434),le=function(I){return new Promise(function(h,c){var a=typeof I=="string"?new Blob([new TextEncoder().encode(I)]):new Blob([I instanceof Uint8Array?I:new Uint8Array(I)]),n=new FileReader;n.onload=function(t){if(!t.target||typeof t.target.result!="string")return c(new Error("couldn't convert to byte string"));h(t.target.result)},n.readAsBinaryString(a)})},y=function(I){for(var h=new ArrayBuffer(I.length),c=new Uint8Array(h),a=0,n=I.length;a<n;a++)c[a]=I.charCodeAt(a);return h},ce=function(I){return new TextDecoder("utf-8").decode(y(I))},fe=function(){var I=(0,w.Z)(f().mark(function h(c){var a=arguments;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a.length>1&&a[1]!==void 0&&a[1])){n.next=5;break}n.t0=window.btoa(c),n.next=10;break;case 5:return n.t1=window,n.next=8,le(c);case 8:n.t2=n.sent,n.t0=n.t1.btoa.call(n.t1,n.t2);case 10:return n.abrupt("return",n.t0);case 11:case"end":return n.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),Ce=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n=arguments;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&n[1]!==void 0&&n[1],t.abrupt("return",a?window.atob(c):ce(window.atob(c)));case 2:case"end":return t.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),ue=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c.text,c.compress===!1){t.next=11;break}return t.prev=2,t.next=5,le((0,R.deflate)(a));case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.error("encode: cannot deflate",t.t0);case 11:if(t.t1=!!n,t.t2=n,t.t2){t.next=17;break}return t.next=16,le(a);case 16:t.t2=t.sent;case 17:return t.t3=t.t2,t.abrupt("return",{version:"1",encoding:"bstring",compressed:t.t1,encoded:t.t3});case 19:case"end":return t.stop()}},h,null,[[2,8]])}));return function(h){return I.apply(this,arguments)}}(),de=function(){var I=(0,w.Z)(f().mark(function h(c){var a;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=c.encoding,n.next=n.t0==="bstring"?3:12;break;case 3:if(!c.compressed){n.next=7;break}n.t1=c.encoded,n.next=10;break;case 7:return n.next=9,ce(c.encoded);case 9:n.t1=n.sent;case 10:return a=n.t1,n.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(c.encoding,'"'));case 13:if(!c.compressed){n.next=15;break}return n.abrupt("return",(0,R.inflate)(new Uint8Array(y(a)),{to:"string"}));case 15:return n.abrupt("return",a);case 16:case"end":return n.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),ye=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=x(),t.t1=Uint8Array,t.next=4,(0,ee.vZ)(c);case 4:if(t.t2=t.sent,t.t3=new t.t1(t.t2),a=(0,t.t0)(t.t3),!(n=a.find(function(o){return o.name==="tEXt"}))){t.next=10;break}return t.abrupt("return",D.decode(n.data));case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),b=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n,t,o;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=c.blob,n=c.metadata,l.t0=x(),l.t1=Uint8Array,l.next=5,(0,ee.vZ)(a);case 5:return l.t2=l.sent,l.t3=new l.t1(l.t2),t=(0,l.t0)(l.t3),l.t4=D,l.t5=B.LO.excalidraw,l.t6=JSON,l.next=13,ue({text:n,compress:!0});case 13:return l.t7=l.sent,l.t8=l.t6.stringify.call(l.t6,l.t7),o=l.t4.encode.call(l.t4,l.t5,l.t8),t.splice(-1,0,o),l.abrupt("return",new Blob([i()(t)],{type:B.LO.png}));case 18:case"end":return l.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),G=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye(c);case 2:if(((a=t.sent)==null?void 0:a.keyword)!==B.LO.excalidraw){t.next=19;break}if(t.prev=4,"encoded"in(n=JSON.parse(a.text))){t.next=10;break}if(!("type"in n)||n.type!==B.r8.excalidraw){t.next=9;break}return t.abrupt("return",a.text);case 9:throw new Error("FAILED");case 10:return t.next=12,de(n);case 12:return t.abrupt("return",t.sent);case 15:throw t.prev=15,t.t0=t.catch(4),console.error(t.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return t.stop()}},h,null,[[4,15]])}));return function(h){return I.apply(this,arguments)}}(),m=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n,t;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=c.text,o.t0=fe,o.t1=JSON,o.next=5,ue({text:a});case 5:return o.t2=o.sent,o.t3=o.t1.stringify.call(o.t1,o.t2),o.next=9,(0,o.t0)(o.t3,!0);case 9:return n=o.sent,t="",t+="<!-- payload-type:".concat(B.LO.excalidraw," -->"),t+="<!-- payload-version:2 -->",t+="<!-- payload-start -->",t+=n,t+="<!-- payload-end -->",o.abrupt("return",t);case 17:case"end":return o.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),u=function(){var I=(0,w.Z)(f().mark(function h(c){var a,n,t,o,l,s,S;return f().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(a=c.svg).includes("payload-type:".concat(B.LO.excalidraw))){X.next=26;break}if(n=a.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){X.next=5;break}throw new Error("INVALID");case 5:return t=a.match(/<!-- payload-version:(\d+) -->/),o=(t==null?void 0:t[1])||"1",l=o!=="1",X.prev=8,X.next=11,Ce(n[1],l);case 11:if(s=X.sent,"encoded"in(S=JSON.parse(s))){X.next=17;break}if(!("type"in S)||S.type!==B.r8.excalidraw){X.next=16;break}return X.abrupt("return",s);case 16:throw new Error("FAILED");case 17:return X.next=19,de(S);case 19:return X.abrupt("return",X.sent);case 22:throw X.prev=22,X.t0=X.catch(8),console.error(X.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return X.stop()}},h,null,[[8,22]])}));return function(h){return I.apply(this,arguments)}}()},9485:function(me,Q,e){e.d(Q,{Um:function(){return B.Um},cT:function(){return i.cT},n8:function(){return B.n8},p1:function(){return ee}});var w=e(8950),g=e(2975),f=e.n(g),d=e(6665),x=e(2335),D=e(8211),W=e(4162),i=e(434),R=e(1393),B=e(5523),ee=function(){var le=(0,w.Z)(f().mark(function y(ce,fe,Ce,ue,de){var ye,b,G,m,u,I,h,c,a,n,t;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(ye=de.exportBackground,b=de.exportPadding,G=b===void 0?x.qy:b,m=de.viewBackgroundColor,u=de.name,I=de.fileHandle,h=I===void 0?null:I,fe.length!==0){o.next=3;break}throw new Error((0,D.t)("alerts.cannotExportEmptyCanvas"));case 3:if(ce!=="svg"&&ce!=="clipboard-svg"){o.next=17;break}return o.next=6,(0,W.$D)(fe,{exportBackground:ye,exportWithDarkMode:Ce.exportWithDarkMode,viewBackgroundColor:m,exportPadding:G,exportScale:Ce.exportScale,exportEmbedScene:Ce.exportEmbedScene&&ce==="svg"},ue);case 6:if(c=o.sent,ce!=="svg"){o.next=13;break}return o.next=10,(0,R.NL)(new Blob([c.outerHTML],{type:x.LO.svg}),{description:"Export to SVG",name:u,extension:Ce.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:h});case 10:return o.abrupt("return",o.sent);case 13:if(ce!=="clipboard-svg"){o.next=17;break}return o.next=16,(0,d.dd)(c.outerHTML);case 16:return o.abrupt("return");case 17:return o.next=19,(0,W.NL)(fe,Ce,ue,{exportBackground:ye,viewBackgroundColor:m,exportPadding:G});case 19:if((a=o.sent).style.display="none",document.body.appendChild(a),ce!=="png"){o.next=38;break}return o.next=25,(0,i._c)(a);case 25:if(n=o.sent,a.remove(),!Ce.exportEmbedScene){o.next=33;break}return o.next=30,Promise.resolve().then(e.bind(e,673));case 30:return o.next=32,o.sent.encodePngMetadata({blob:n,metadata:(0,B.I_)(fe,Ce,ue,"local")});case 32:n=o.sent;case 33:return o.next=35,(0,R.NL)(n,{description:"Export to PNG",name:u,extension:"png",fileHandle:h});case 35:return o.abrupt("return",o.sent);case 38:if(ce!=="clipboard"){o.next=60;break}return o.prev=39,t=(0,i._c)(a),o.next=43,(0,d.uR)(t);case 43:o.next=55;break;case 45:if(o.prev=45,o.t0=o.catch(39),console.warn(o.t0),o.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){o.next=50;break}throw o.t0;case 50:if(!x.vU||o.t0.name!=="TypeError"){o.next=54;break}throw new Error("".concat((0,D.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,D.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,D.t)("alerts.couldNotCopyToClipboard"));case 55:return o.prev=55,a.remove(),o.finish(55);case 58:o.next=62;break;case 60:throw a.remove(),new Error("Unsupported export type");case 62:case"end":return o.stop()}},y,null,[[39,45,55,58]])}));return function(y,ce,fe,Ce,ue){return le.apply(this,arguments)}}()},5523:function(me,Q,e){e.d(Q,{HT:function(){return ue},I_:function(){return y},NI:function(){return de},Um:function(){return ce},dS:function(){return Ce},n8:function(){return fe},t1:function(){return ye}});var w=e(6655),g=e(8950),f=e(2975),d=e.n(f),x=e(1393),D=e(8897),W=e(2335),i=e(1047),R=e(434);function B(b,G){var m=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!m){if(Array.isArray(b)||(m=function(n,t){if(n){if(typeof n=="string")return ee(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ee(n,t)}}(b))||G&&b&&typeof b.length=="number"){m&&(b=m);var u=0,I=function(){};return{s:I,n:function(){return u>=b.length?{done:!0}:{done:!1,value:b[u++]}},e:function(n){throw n},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,c=!0,a=!1;return{s:function(){m=m.call(b)},n:function(){var n=m.next();return c=n.done,n},e:function(n){a=!0,h=n},f:function(){try{c||m.return==null||m.return()}finally{if(a)throw h}}}}function ee(b,G){(G==null||G>b.length)&&(G=b.length);for(var m=0,u=new Array(G);m<G;m++)u[m]=b[m];return u}var le=function(b,G){var m,u={},I=B(b);try{for(I.s();!(m=I.n()).done;){var h=m.value;!h.isDeleted&&"fileId"in h&&h.fileId&&G[h.fileId]&&(u[h.fileId]=G[h.fileId])}}catch(c){I.e(c)}finally{I.f()}return u},y=function(b,G,m,u){var I={type:W.r8.excalidraw,version:W.Kr.excalidraw,source:W.pb,elements:u==="local"?(0,i._M)(b):(0,i.BQ)(b),appState:u==="local"?(0,D.s)(G):(0,D.eS)(G),files:u==="local"?le(b,m):void 0};return JSON.stringify(I,null,2)},ce=function(){var b=(0,g.Z)(d().mark(function G(m,u,I){var h,c,a;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h=y(m,u,I,"local"),c=new Blob([h],{type:W.LO.excalidraw}),n.next=4,(0,x.NL)(c,{name:u.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,R.g8)(u.fileHandle)?null:u.fileHandle});case 4:return a=n.sent,n.abrupt("return",{fileHandle:a});case 6:case"end":return n.stop()}},G)}));return function(G,m,u){return b.apply(this,arguments)}}(),fe=function(){var b=(0,g.Z)(d().mark(function G(m,u){var I;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,x.I$)({description:"Excalidraw files"});case 2:return I=h.sent,h.t0=R.cT,h.next=6,(0,R.gY)(I);case 6:return h.t1=h.sent,h.t2=m,h.t3=u,h.t4=I.handle,h.abrupt("return",(0,h.t0)(h.t1,h.t2,h.t3,h.t4));case 11:case"end":return h.stop()}},G)}));return function(G,m){return b.apply(this,arguments)}}(),Ce=function(b){return(b==null?void 0:b.type)===W.r8.excalidraw&&(!b.elements||Array.isArray(b.elements)&&(!b.appState||(0,w.Z)(b.appState)==="object"))},ue=function(b){return(0,w.Z)(b)==="object"&&b&&b.type===W.r8.excalidrawLibrary&&(b.version===1||b.version===2)},de=function(b){var G={type:W.r8.excalidrawLibrary,version:W.Kr.excalidrawLibrary,source:W.pb,libraryItems:b};return JSON.stringify(G,null,2)},ye=function(){var b=(0,g.Z)(d().mark(function G(m){var u;return d().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return u=de(m),I.next=3,(0,x.NL)(new Blob([u],{type:W.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return I.stop()}},G)}));return function(G){return b.apply(this,arguments)}}()},7053:function(me,Q,e){e.d(Q,{Di:function(){return a},WV:function(){return c},rF:function(){return G},xS:function(){return n},zh:function(){return I}});var w=e(7169),g=e(8950),f=e(5169),d=e(8821),x=e(1930),D=e(2975),W=e.n(D),i=e(434),R=e(679),B=e(4739),ee=e(9487),le=e(8925),y=e(6797),ce=e(8211),fe=e(9787),Ce=e(2335);function ue(t,o){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(S){return Object.getOwnPropertyDescriptor(t,S).enumerable})),l.push.apply(l,s)}return l}function de(t){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?ue(Object(l),!0).forEach(function(s){(0,w.Z)(t,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):ue(Object(l)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(l,s))})}return t}function ye(t,o){var l=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!l){if(Array.isArray(t)||(l=function(A,_){if(A){if(typeof A=="string")return b(A,_);var ae=Object.prototype.toString.call(A).slice(8,-1);if(ae==="Object"&&A.constructor&&(ae=A.constructor.name),ae==="Map"||ae==="Set")return Array.from(A);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return b(A,_)}}(t))||o&&t&&typeof t.length=="number"){l&&(t=l);var s=0,S=function(){};return{s:S,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(A){throw A},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,C=!0,q=!1;return{s:function(){l=l.call(t)},n:function(){var A=l.next();return C=A.done,A},e:function(A){q=!0,X=A},f:function(){try{C||l.return==null||l.return()}finally{if(q)throw X}}}}function b(t,o){(o==null||o>t.length)&&(o=t.length);for(var l=0,s=new Array(o);l<o;l++)s[l]=t[l];return s}var G=(0,B.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),m=function(t){return JSON.parse(JSON.stringify(t))},u=function(t,o){return!t.find(function(l){return l.elements.length===o.elements.length&&l.elements.every(function(s,S){return s.id===o.elements[S].id&&s.versionNonce===o.elements[S].versionNonce})})},I=function(t,o){var l,s=[],S=ye(o);try{for(S.s();!(l=S.n()).done;){var X=l.value;u(t,X)&&s.push(X)}}catch(C){S.e(C)}finally{S.f()}return[].concat(s,(0,x.Z)(t))},h=(0,f.Z)(function t(o){var l=this;(0,d.Z)(this,t),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return l.updateQueue[l.updateQueue.length-1]},this.notifyListeners=function(){if(l.updateQueue.length>0)ee.e_.set(G,{status:"loading",libraryItems:l.lastLibraryItems,isInitialized:l.isInitialized});else{l.isInitialized=!0,ee.e_.set(G,{status:"loaded",libraryItems:l.lastLibraryItems,isInitialized:l.isInitialized});try{var s,S;(s=(S=l.app.props).onLibraryChange)===null||s===void 0||s.call(S,m(l.lastLibraryItems))}catch(X){console.error(X)}}},this.resetLibrary=function(){return l.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var s=(0,g.Z)(W().mark(function S(X){var C;return W().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,l.getLastUpdateTask()||l.lastLibraryItems;case 3:C=q.sent,l.updateQueue.length>0?X(l.getLatestLibrary()):X(m(C)),q.next=10;break;case 7:return q.prev=7,q.t0=q.catch(0),q.abrupt("return",X(l.lastLibraryItems));case 10:case"end":return q.stop()}},S,null,[[0,7]])}));return function(S){return s.apply(this,arguments)}}())},this.updateLibrary=function(){var s=(0,g.Z)(W().mark(function S(X){var C,q,A,_,ae,U,H,j,F;return W().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return C=X.libraryItems,q=X.prompt,A=q!==void 0&&q,_=X.merge,ae=_!==void 0&&_,U=X.openLibraryMenu,H=U!==void 0&&U,j=X.defaultStatus,F=j===void 0?"unpublished":j,H&&l.app.setState({openSidebar:"library"}),T.abrupt("return",l.setLibrary(function(){return new Promise(function(){var K=(0,g.Z)(W().mark(function ie(M,O){var z,p;return W().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,typeof C!="function"||C instanceof Blob?C:C(l.lastLibraryItems);case 3:if(!((z=E.sent)instanceof Blob)){E.next=10;break}return E.next=7,(0,i.lV)(z,F);case 7:p=E.sent,E.next=11;break;case 10:p=(0,R.wJ)(z,F);case 11:!A||window.confirm((0,ce.t)("alerts.confirmAddLibrary",{numShapes:p.length}))?M(ae?I(l.lastLibraryItems,p):p):O(new y._),E.next=17;break;case 14:E.prev=14,E.t0=E.catch(0),O(E.t0);case 17:case"end":return E.stop()}},ie,null,[[0,14]])}));return function(ie,M){return K.apply(this,arguments)}}())}).finally(function(){l.app.focusContainer()}));case 3:case"end":return T.stop()}},S)}));return function(S){return s.apply(this,arguments)}}(),this.setLibrary=function(s){var S=new Promise(function(){var X=(0,g.Z)(W().mark(function C(q,A){return W().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,l.getLastUpdateTask();case 3:return typeof s=="function"&&(s=s(l.lastLibraryItems)),_.t0=m,_.next=7,s;case 7:_.t1=_.sent,l.lastLibraryItems=(0,_.t0)(_.t1),q(l.lastLibraryItems),_.next=15;break;case 12:_.prev=12,_.t2=_.catch(0),A(_.t2);case 15:case"end":return _.stop()}},C,null,[[0,12]])}));return function(C,q){return X.apply(this,arguments)}}()).catch(function(X){if(X.name==="AbortError")return console.warn("Library update aborted by user"),l.lastLibraryItems;throw X}).finally(function(){l.updateQueue=l.updateQueue.filter(function(X){return X!==S}),l.notifyListeners()});return l.updateQueue.push(S),l.notifyListeners(),S},this.app=o});Q.ZP=h;var c=function(t){var o,l=Math.ceil(Math.sqrt(t.length)),s=[],S=0,X=0,C=0,q=0,A=0,_=0,ae=0,U=ye(t);try{var H=function(){var j=o.value;A&&A%l==0&&(X+=C+50,S=0,_=0,ae++),_===0&&(C=function(p){return t.slice(p*l,p*l+l).reduce(function(E,v){var Z=(0,le.v2)(v.elements).height;return Math.max(E,Z)},0)}(ae)),q=function(p){var E,v=0,Z=0,P=0,oe=ye(t);try{for(oe.s();!(E=oe.n()).done;){var se=E.value;if(v%l==0&&(Z=0),Z===p){var N=(0,le.v2)(se.elements).width;P=Math.max(P,N)}v++,Z++}}catch(ge){oe.e(ge)}finally{oe.f()}return P}(_);var F=(0,le.v2)(j.elements),T=F.minX,K=F.minY,ie=F.width,M=F.height,O=(q-ie)/2,z=(C-M)/2;s.push.apply(s,(0,x.Z)(j.elements.map(function(p){return de(de({},p),{},{x:p.x+S+O-T,y:p.y+X+z-K})}))),S+=q+50,A++,_++};for(U.s();!(o=U.n()).done;)H()}catch(j){U.e(j)}finally{U.f()}return s},a=function(){var t=new URLSearchParams(window.location.hash.slice(1)).get(Ce.ah.addLibrary)||new URLSearchParams(window.location.search).get(Ce.UO.addLibrary),o=t?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return t?{libraryUrl:t,idToken:o}:null},n=function(t){var o=t.excalidrawAPI,l=t.getInitialLibraryItems,s=(0,fe.useRef)(l);(0,fe.useEffect)(function(){if(o){var S=function(){var q=(0,g.Z)(W().mark(function A(_){var ae,U,H,j,F,T;return W().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return ae=_.libraryUrl,U=_.idToken,H=new Promise(function(){var ie=(0,g.Z)(W().mark(function M(O,z){var p,E;return W().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,fetch(decodeURIComponent(ae));case 3:return p=v.sent,v.next=6,p.blob();case 6:E=v.sent,O(E),v.next=13;break;case 10:v.prev=10,v.t0=v.catch(0),z(v.t0);case 13:case"end":return v.stop()}},M,null,[[0,10]])}));return function(M,O){return ie.apply(this,arguments)}}()),j=U!==o.id,K.next=5,j&&document.hidden?new Promise(function(ie){window.addEventListener("focus",function(){return ie()},{once:!0})}):null;case 5:return K.prev=5,K.next=8,o.updateLibrary({libraryItems:H,prompt:j,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:K.next=13;break;case 10:throw K.prev=10,K.t0=K.catch(5),K.t0;case 13:return K.prev=13,window.location.hash.includes(Ce.ah.addLibrary)?((F=new URLSearchParams(window.location.hash.slice(1))).delete(Ce.ah.addLibrary),window.history.replaceState({},Ce.iC,"#".concat(F.toString()))):window.location.search.includes(Ce.UO.addLibrary)&&((T=new URLSearchParams(window.location.search)).delete(Ce.UO.addLibrary),window.history.replaceState({},Ce.iC,"?".concat(T.toString()))),K.finish(13);case 16:case"end":return K.stop()}},A,null,[[5,10,13,16]])}));return function(A){return q.apply(this,arguments)}}(),X=function(q){q.preventDefault();var A=a();A&&(q.stopImmediatePropagation(),window.history.replaceState({},"",q.oldURL),S(A))};s.current&&o.updateLibrary({libraryItems:s.current()});var C=a();return C&&S(C),window.addEventListener(Ce.Ks.HASHCHANGE,X),function(){window.removeEventListener(Ce.Ks.HASHCHANGE,X)}}},[o])}},679:function(me,Q,e){e.d(Q,{ET:function(){return u},lY:function(){return c},nu:function(){return a},wJ:function(){return t}});var w=e(2577),g=e(7169),f=e(1047),d=e(1974),x=e(6954),D=e(2335),W=e(8897),i=e(6938),R=e(1935),B=e(6340),ee=e(5284),le=e(5710),y=e(6794);function ce(o,l){var s=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!s){if(Array.isArray(o)||(s=function(_,ae){if(_){if(typeof _=="string")return fe(_,ae);var U=Object.prototype.toString.call(_).slice(8,-1);if(U==="Object"&&_.constructor&&(U=_.constructor.name),U==="Map"||U==="Set")return Array.from(_);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return fe(_,ae)}}(o))||l&&o&&typeof o.length=="number"){s&&(o=s);var S=0,X=function(){};return{s:X,n:function(){return S>=o.length?{done:!0}:{done:!1,value:o[S++]}},e:function(_){throw _},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,q=!0,A=!1;return{s:function(){s=s.call(o)},n:function(){var _=s.next();return q=_.done,_},e:function(_){A=!0,C=_},f:function(){try{q||s.return==null||s.return()}finally{if(A)throw C}}}}function fe(o,l){(l==null||l>o.length)&&(l=o.length);for(var s=0,S=new Array(l);s<l;s++)S[s]=o[s];return S}function Ce(o,l){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(o);l&&(S=S.filter(function(X){return Object.getOwnPropertyDescriptor(o,X).enumerable})),s.push.apply(s,S)}return s}function ue(o){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Ce(Object(s),!0).forEach(function(S){(0,g.Z)(o,S,s[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):Ce(Object(s)).forEach(function(S){Object.defineProperty(o,S,Object.getOwnPropertyDescriptor(s,S))})}return o}var de={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},ye=function(o){return Object.keys(D.ut).includes(o)?D.ut[o]:D.rk},b=function(o,l){var s,S,X,C,q,A,_,ae,U,H,j,F,T,K={type:l.type||o.type,version:o.version||1,versionNonce:(s=o.versionNonce)!==null&&s!==void 0?s:0,isDeleted:(S=o.isDeleted)!==null&&S!==void 0&&S,id:o.id||(0,x.kb)(),fillStyle:o.fillStyle||"hachure",strokeWidth:o.strokeWidth||1,strokeStyle:(X=o.strokeStyle)!==null&&X!==void 0?X:"solid",roughness:(C=o.roughness)!==null&&C!==void 0?C:1,opacity:o.opacity==null?100:o.opacity,angle:o.angle||0,x:(q=(A=l.x)!==null&&A!==void 0?A:o.x)!==null&&q!==void 0?q:0,y:(_=(ae=l.y)!==null&&ae!==void 0?ae:o.y)!==null&&_!==void 0?_:0,strokeColor:o.strokeColor||ee.black,backgroundColor:o.backgroundColor||"transparent",width:o.width||0,height:o.height||0,seed:(U=o.seed)!==null&&U!==void 0?U:1,groupIds:(H=o.groupIds)!==null&&H!==void 0?H:[],roundness:o.roundness?o.roundness:o.strokeSharpness==="round"?{type:(0,d.QI)(o.type)?D.a6.LEGACY:D.a6.PROPORTIONAL_RADIUS}:null,boundElements:o.boundElementIds?o.boundElementIds.map(function(ie){return{type:"arrow",id:ie}}):(j=o.boundElements)!==null&&j!==void 0?j:[],updated:(F=o.updated)!==null&&F!==void 0?F:(0,B.C3)(),link:o.link?(0,y.$)(o.link):null,locked:(T=o.locked)!==null&&T!==void 0&&T};return"customData"in o&&(K.customData=o.customData),D.WR in o&&(K[D.WR]=o[D.WR]),ue(ue(ue({},K),(0,f.Qp)(K)),l)},G=function(o,l){if(o.boundElements){var s=o.boundElements.slice(),S=new Set;o.boundElements=s.reduce(function(X,C){var q=l.get(C.id);if(q&&!S.has(C.id)){if(S.add(C.id),q.isDeleted)return X;X.push(C),(0,d.iB)(q)&&!q.containerId&&(q.containerId=o.id)}return X},[])}},m=function(o,l){var s=o.containerId?l.get(o.containerId):null;if(s){if(!o.isDeleted&&s.boundElements&&!s.boundElements.find(function(X){return X.id===o.id})){var S=(s.boundElements||(s.boundElements=[])).slice();S.push({type:"text",id:o.id}),s.boundElements=S}}else o.containerId=null},u=function(o,l,s){var S=new Set,X=l?(0,B.xn)(l):null,C=(o||[]).reduce(function(U,H){if(H.type!=="selection"&&!(0,f.QD)(H)){var j=function(T){var K,ie,M=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(T.type){case"text":var O=T.fontSize,z=T.fontFamily;if("font"in T){var p=T.font.split(" "),E=(0,w.Z)(p,2),v=E[0],Z=E[1];O=parseFloat(v),z=ye(Z)}var P=(K=T.text)!==null&&K!==void 0?K:"",oe=T.lineHeight||(T.height?(0,le.$2)(T):(0,le.PT)(T.fontFamily)),se=(0,le.R8)(T.text,(0,B.mO)(T),oe);return T=b(T,{fontSize:O,fontFamily:z,text:P,textAlign:T.textAlign||D.Hg,verticalAlign:T.verticalAlign||D.hs,containerId:(ie=T.containerId)!==null&&ie!==void 0?ie:null,originalText:T.originalText||P,lineHeight:oe,baseline:se}),M&&(T=ue(ue({},T),(0,f.JZ)(T))),T;case"freedraw":return b(T,{points:T.points,lastCommittedPoint:null,simulatePressure:T.simulatePressure,pressures:T.pressures});case"image":return b(T,{status:T.status||"pending",fileId:T.fileId,scale:T.scale||[1,1]});case"line":case"draw":case"arrow":var N=T,ge=N.startArrowhead,he=ge===void 0?null:ge,be=N.endArrowhead,Se=be===void 0?T.type==="arrow"?"arrow":null:be,Y=T.x,we=T.y,te=!Array.isArray(T.points)||T.points.length<2?[[0,0],[T.width,T.height]]:T.points;if(te[0][0]!==0||te[0][1]!==0){var _e=i._.getNormalizedPoints(T);te=_e.points,Y=_e.x,we=_e.y}return b(T,{type:T.type==="draw"?"line":T.type,startBinding:T.startBinding,endBinding:T.endBinding,lastCommittedPoint:null,startArrowhead:he,endArrowhead:Se,points:te,x:Y,y:we});case"ellipse":case"rectangle":case"diamond":return b(T,{})}}(H,s==null?void 0:s.refreshDimensions);if(j){var F=X==null?void 0:X.get(H.id);F&&F.version>j.version&&(j=(0,R.ZP)(j,F.version)),S.has(j.id)&&(j=ue(ue({},j),{},{id:(0,x.kb)()})),S.add(j.id),U.push(j)}}return U},[]);if(s==null||!s.repairBindings)return C;var q,A=(0,B.xn)(C),_=ce(C);try{for(_.s();!(q=_.n()).done;){var ae=q.value;(0,d.iB)(ae)&&ae.containerId?m(ae,A):ae.boundElements&&G(ae,A)}}catch(U){_.e(U)}finally{_.f()}return C},I=function(o,l,s){var S=l[o];return S!==void 0?S:s[o]},h={isLibraryOpen:function(o,l){return["openSidebar","isLibraryOpen"in o?o.isLibraryOpen?"library":null:I("openSidebar",o,l)]},isLibraryMenuDocked:function(o,l){var s;return["isSidebarDocked",(s=o.isLibraryMenuDocked)!==null&&s!==void 0?s:I("isSidebarDocked",o,l)]}},c=function(o,l){var s,S,X,C;o=o||{};for(var q=(0,W.im)(),A={},_=0,ae=Object.keys(h);_<ae.length;_++){var U=ae[_];if(U in o){var H=h[U](o,q),j=(0,w.Z)(H,2),F=j[0],T=j[1];A[F]=T}}for(var K=0,ie=Object.entries(q);K<ie.length;K++){var M=(0,w.Z)(ie[K],2),O=M[0],z=M[1],p=o[O],E=l?l[O]:void 0;A[O]=p!==void 0?p:E!==void 0?E:z}return ue(ue({},A),{},{cursorButton:(l==null?void 0:l.cursorButton)||"up",penDetected:(s=l==null?void 0:l.penDetected)!==null&&s!==void 0?s:!!o.penMode&&(S=o.penDetected)!==null&&S!==void 0&&S,activeTool:ue(ue({},(0,B.Om)(q,A.activeTool.type&&de[A.activeTool.type]?A.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(X=A.activeTool.locked)!==null&&X!==void 0&&X}),zoom:typeof o.zoom=="number"?{value:o.zoom}:(C=o.zoom)!==null&&C!==void 0&&C.value?o.zoom:q.zoom,openSidebar:A.openSidebar==="library"?A.isSidebarDocked?"library":null:A.openSidebar})},a=function(o,l,s,S){return{elements:u(o==null?void 0:o.elements,s,S),appState:c(o==null?void 0:o.appState,l||null),files:(o==null?void 0:o.files)||{}}},n=function(o){var l=u((0,f.Lm)(o.elements),null);return l.length?ue(ue({},o),{},{elements:l}):null},t=function(){var o,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0,S=[],X=ce(l);try{for(X.s();!(o=X.n()).done;){var C=o.value;if(Array.isArray(C)){var q=n({status:s,elements:C,id:(0,x.kb)(),created:Date.now()});q&&S.push(q)}else{var A=C,_=n(ue(ue({},A),{},{id:A.id||(0,x.kb)(),status:A.status||s,created:A.created||Date.now()}));_&&S.push(_)}}}catch(ae){X.e(ae)}finally{X.f()}return S}},6794:function(me,Q,e){e.d(Q,{$:function(){return g},q:function(){return f}});var w=e(5779),g=function(d){return(0,w.N)(d)},f=function(d){return!!(d!=null&&d.includes(location.origin)||d!=null&&d.startsWith("/"))}},4929:function(me,Q,e){e.d(Q,{rj:function(){return ae},nW:function(){return H},nz:function(){return F},sw:function(){return K},lV:function(){return p},wq:function(){return ie},Pp:function(){return O}});var w=e(7169),g=e(2577),f=e(6340),d=e(1935),x=e(7901),D=e(1319),W=e(3646),i=e(8211),R=e(9787),B=e(45),ee=e(6066),le=e(3063),y=e(6552),ce=e(2335),fe=e(1894),Ce=e(75),ue=e(2325),de=e(1047),ye=e(6794),b=e(487),G=e.n(b),m=e(631),u=e.n(m),I=e(2052),h=e.n(I),c=e(4010),a=e.n(c),n=e(1469),t=e.n(n),o=e(9329),l=e.n(o),s=e(5260),S={};S.styleTagTransform=l(),S.setAttributes=a(),S.insert=h().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=t(),G()(s.Z,S),s.Z&&s.Z.locals&&s.Z.locals;var X=e(7047),C=e(2134),q=e(4512);function A(v,Z){var P=Object.keys(v);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(v);Z&&(oe=oe.filter(function(se){return Object.getOwnPropertyDescriptor(v,se).enumerable})),P.push.apply(P,oe)}return P}function _(v){for(var Z=1;Z<arguments.length;Z++){var P=arguments[Z]!=null?arguments[Z]:{};Z%2?A(Object(P),!0).forEach(function(oe){(0,w.Z)(v,oe,P[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(P)):A(Object(P)).forEach(function(oe){Object.defineProperty(v,oe,Object.getOwnPropertyDescriptor(P,oe))})}return v}var ae=document.createElement("img");ae.src="data:".concat(ce.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var U=!1,H=function(v){var Z=v.element,P=v.setAppState,oe=v.onLinkOpen,se=(0,C.gF)(),N=Z.link||"",ge=(0,R.useState)(N),he=(0,g.Z)(ge,2),be=he[0],Se=he[1],Y=(0,R.useRef)(null),we=se.showHyperlinkPopup==="editor"||!N,te=(0,R.useCallback)(function(){if(Y.current){var Fe=(0,ye.$)(Y.current.value);!Z.link&&Fe&&(0,X.L)("hyperlink","create"),(0,d.DR)(Z,{link:Fe}),P({showHyperlinkPopup:"info"})}},[Z,P]);(0,R.useLayoutEffect)(function(){return function(){te()}},[te]),(0,R.useEffect)(function(){var Fe=null,Pe=function(J){we||(Fe&&clearTimeout(Fe),E(Z,se,[J.clientX,J.clientY])&&(Fe=window.setTimeout(function(){P({showHyperlinkPopup:!1})},500)))};return window.addEventListener(ce.Ks.POINTER_MOVE,Pe,!1),function(){window.removeEventListener(ce.Ks.POINTER_MOVE,Pe,!1),Fe&&clearTimeout(Fe)}},[se,Z,we,P]);var _e=(0,R.useCallback)(function(){(0,X.L)("hyperlink","delete"),(0,d.DR)(Z,{link:null}),we&&(Y.current.value=""),P({showHyperlinkPopup:!1})},[P,Z,we]),Le=j(Z,se),ze=Le.x,He=Le.y;return se.draggingElement||se.resizingElement||se.isRotating||se.openMenu?null:(0,q.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(He,"px"),left:"".concat(ze,"px"),width:320,padding:5},children:[we?(0,q.jsx)("input",{className:(0,B.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Y,value:be,onChange:function(Fe){return Se(Fe.target.value)},autoFocus:!0,onKeyDown:function(Fe){Fe.stopPropagation(),Fe[ee.tW.CTRL_OR_CMD]&&Fe.key===ee.tW.K&&Fe.preventDefault(),Fe.key!==ee.tW.ENTER&&Fe.key!==ee.tW.ESCAPE||te()}}):(0,q.jsx)("a",{href:(0,ye.$)(Z.link||""),className:(0,B.Z)("excalidraw-hyperlinkContainer-link",{"d-none":we}),target:(0,ye.q)(Z.link)?"_self":"_blank",onClick:function(Fe){if(Z.link&&oe){var Pe=(0,f.ag)(ce.Ks.EXCALIDRAW_LINK,Fe.nativeEvent);oe(_(_({},Z),{},{link:(0,ye.$)(Z.link)}),Pe),Pe.defaultPrevented&&Fe.preventDefault()}},rel:"noopener noreferrer",children:Z.link}),(0,q.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!we&&(0,q.jsx)(D.V,{type:"button",title:(0,i.t)("buttons.edit"),"aria-label":(0,i.t)("buttons.edit"),label:(0,i.t)("buttons.edit"),onClick:function(){(0,X.L)("hyperlink","edit","popup-ui"),P({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:W.Pm}),N&&(0,q.jsx)(D.V,{type:"button",title:(0,i.t)("buttons.remove"),"aria-label":(0,i.t)("buttons.remove"),label:(0,i.t)("buttons.remove"),onClick:_e,className:"excalidraw-hyperlinkContainer--remove",icon:W.XH})]})]})},j=function(v,Z){var P=(0,de.qf)(v),oe=(0,g.Z)(P,2),se=oe[0],N=oe[1],ge=(0,f._i)({sceneX:se+v.width/2,sceneY:N},Z),he=ge.x,be=ge.y;return{x:he-Z.offsetLeft-160,y:be-Z.offsetTop-85}},F=(0,x.z)({name:"hyperlink",perform:function(v,Z){return Z.showHyperlinkPopup!=="editor"&&{elements:v,appState:_(_({},Z),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(v){return v[ee.tW.CTRL_OR_CMD]&&v.key===ee.tW.K},contextItemLabel:function(v,Z){return T(v,Z)},predicate:function(v,Z){return(0,Ce.eD)(v,Z).length===1},PanelComponent:function(v){var Z=v.elements,P=v.appState,oe=v.updateData,se=(0,Ce.eD)(Z,P);return(0,q.jsx)(D.V,{type:"button",icon:W.xP,"aria-label":(0,i.t)(T(Z,P)),title:"".concat((0,i.t)("labels.link.label")," - ").concat((0,f.uY)("CtrlOrCmd+K")),onClick:function(){return oe(null)},selected:se.length===1&&!!se[0].link})}}),T=function(v,Z){return(0,Ce.eD)(v,Z)[0].link?"labels.link.edit":"labels.link.create"},K=function(v,Z,P){var oe=(0,g.Z)(v,4),se=oe[0],N=oe[1],ge=oe[2],he=oe[3],be=le.Dn,Se=be/P.zoom.value,Y=be/P.zoom.value,we=be/P.zoom.value,te=(se+ge)/2,_e=(N+he)/2,Le=(be-8)/(2*P.zoom.value),ze=4/P.zoom.value,He=ge+ze-Le,Fe=N-ze-we+Le,Pe=(0,y.U1)(He+Se/2,Fe+Y/2,te,_e,Z),J=(0,g.Z)(Pe,2);return[J[0]-Se/2,J[1]-Y/2,Se,Y]},ie=function(v,Z,P,oe){var se=(0,g.Z)(P,2),N=se[0],ge=se[1];if(!v.link||Z.selectedElementIds[v.id])return!1;var he=4/Z.zoom.value;if(!oe&&Z.viewModeEnabled&&(0,ue.pX)(v,[N,ge],he))return!0;var be=(0,de.qf)(v),Se=(0,g.Z)(be,4),Y=Se[0],we=Se[1],te=Se[2],_e=Se[3],Le=K([Y,we,te,_e],v.angle,Z),ze=(0,g.Z)(Le,4),He=ze[0],Fe=ze[1],Pe=ze[2],J=ze[3];return N>He-he&&N<He+he+Pe&&ge>Fe-he&&ge<Fe+J+he},M=null,O=function(v,Z){M&&clearTimeout(M),M=window.setTimeout(function(){return z(v,Z)},ce.sA)},z=function(v,Z){if(v.link){var P=(0,fe.bK)();P.classList.add("excalidraw-tooltip--visible"),P.style.maxWidth="20rem",P.textContent=v.link;var oe=(0,de.qf)(v),se=(0,g.Z)(oe,4),N=se[0],ge=se[1],he=se[2],be=se[3],Se=K([N,ge,he,be],v.angle,Z),Y=(0,g.Z)(Se,4),we=Y[0],te=Y[1],_e=Y[2],Le=Y[3],ze=(0,f._i)({sceneX:we,sceneY:te},Z);(0,fe.Js)(P,{left:ze.x,top:ze.y,width:_e,height:Le},"top"),(0,X.L)("hyperlink","tooltip","link-icon"),U=!0}},p=function(){M&&clearTimeout(M),U&&(U=!1,(0,fe.bK)().classList.remove("excalidraw-tooltip--visible"))},E=function(v,Z,P){var oe=(0,g.Z)(P,2),se=oe[0],N=oe[1],ge=(0,f.dE)({clientX:se,clientY:N},Z),he=ge.x,be=ge.y,Se=15/Z.zoom.value;if((0,ue.pX)(v,[he,be],Se))return!1;var Y=(0,de.qf)(v),we=(0,g.Z)(Y,3),te=we[0],_e=we[1],Le=we[2];if(he>=te&&he<=Le&&be>=_e-85&&be<=_e)return!1;var ze=j(v,Z),He=ze.x,Fe=ze.y;return!(se>=He-Se&&se<=He+320+10+Se&&N>=Fe-Se&&N<=Fe+Se+10+42)}},8290:function(me,Q,e){e.d(Q,{$q:function(){return H},DK:function(){return u},H:function(){return I},HG:function(){return Ce},N1:function(){return ce},R:function(){return b},Ww:function(){return n},Y9:function(){return c},ZB:function(){return S},cz:function(){return y},ek:function(){return ae},el:function(){return de}});var w=e(7169),g=e(2577),f=e(75),d=e(1974),x=e(2325),D=e(1935),W=e(1564),i=e(6938),R=e(6340),B=e(6066),ee=e(5710);function le(T,K){var ie=Object.keys(T);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(T);K&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(T,O).enumerable})),ie.push.apply(ie,M)}return ie}var y=function(T){return!T[B.tW.CTRL_OR_CMD]},ce=function(T){return T.isBindingEnabled},fe=function(T,K){var ie=[];return K.forEach(function(M){var O=T.getNonDeletedElement(M);O!=null&&ie.push(O)}),ie},Ce=function(T,K,ie){var M=new Set,O=new Set;ue(T,K,ie,"start",M,O),ue(T,ie,K,"end",M,O);var z=Array.from(O).filter(function(p){return!M.has(p)});fe(W.Z.getScene(T),z).forEach(function(p){var E;(0,D.DR)(p,{boundElements:(E=p.boundElements)===null||E===void 0?void 0:E.filter(function(v){return v.type!=="arrow"||v.id!==T.id})})})},ue=function(T,K,ie,M,O,z){if(K!=="keep")if(K!=null)ie!=null&&(ie==="keep"?m(T,K,M):M!=="start"&&ie.id===K.id)||(G(T,K,M),O.add(K.id));else{var p=h(T,M);p!=null&&z.add(p)}},de=function(T){T.forEach(function(K){(0,d.Mn)(K)?Ce(K,C(K,"start"),C(K,"end")):(0,d.f0)(K)&&ye(K)})},ye=function(T){A(T).forEach(function(K){var ie=(0,g.Z)(K,2),M=ie[0],O=ie[1];return Ce(M,O==="end"?"keep":T,O==="start"?"keep":T)})},b=function(T,K,ie,M){K.startBoundElement!=null&&G(T,K.startBoundElement,"start");var O=c(M,ie);O==null||m(T,O,"end")||G(T,O,"end")},G=function(T,K,ie){(0,D.DR)(T,(0,w.Z)({},ie==="start"?"startBinding":"endBinding",function(M){for(var O=1;O<arguments.length;O++){var z=arguments[O]!=null?arguments[O]:{};O%2?le(Object(z),!0).forEach(function(p){(0,w.Z)(M,p,z[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):le(Object(z)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(z,p))})}return M}({elementId:K.id},a(T,K,ie)))),(0,R.xn)(K.boundElements||[]).has(T.id)||(0,D.DR)(K,{boundElements:(K.boundElements||[]).concat({id:T.id,type:"arrow"})})},m=function(T,K,ie){var M=T[ie==="start"?"endBinding":"startBinding"];return u(T,M==null?void 0:M.elementId,K)},u=function(T,K,ie){return K===ie.id&&T.points.length<3},I=function(T){T.forEach(function(K){(0,d.Mn)(K)&&Ce(K,null,null)})},h=function(T,K){var ie=K==="start"?"startBinding":"endBinding",M=T[ie];return M==null?null:((0,D.DR)(T,(0,w.Z)({},ie,null)),M.elementId)},c=function(T,K){return(0,f.QG)(K.getNonDeletedElements(),function(ie){return(0,d.f0)(ie,!1)&&(0,x.uu)(ie,T)})},a=function(T,K,ie){var M=ie==="start"?-1:1,O=M===-1?0:T.points.length-1,z=O-M,p=i._.getPointAtIndexGlobalCoordinates(T,O),E=i._.getPointAtIndexGlobalCoordinates(T,z);return{focus:(0,x.T_)(K,E,p),gap:Math.max(1,(0,x.oT)(K,p))}},n=function(T,K){var ie,M=((ie=T.boundElements)!==null&&ie!==void 0?ie:[]).filter(function(v){return v.type==="arrow"});if(M.length!==0){var O=K??{},z=O.newSize,p=O.simultaneouslyUpdated,E=o(p);fe(W.Z.getScene(T),M.map(function(v){return v.id})).forEach(function(v){if((0,d.bt)(v)){var Z=T;if(t(v,Z)){var P=s(Z,v.startBinding,z),oe=s(Z,v.endBinding,z);E.has(v.id)?(0,D.DR)(v,{startBinding:P,endBinding:oe}):(l(v,"start",P,T),l(v,"end",oe,T),(0,ee.WJ)(v)&&(0,ee.RB)(v,!1))}}})}},t=function(T,K){var ie,M;return((ie=T.startBinding)===null||ie===void 0?void 0:ie.elementId)===K.id||((M=T.endBinding)===null||M===void 0?void 0:M.elementId)===K.id},o=function(T){return new Set((T||[]).map(function(K){return K.id}))},l=function(T,K,ie,M){if(!(ie==null||ie.elementId!==M.id&&T.points.length>2)){var O=W.Z.getScene(T).getElement(ie.elementId);if(O!=null){var z,p=K==="start"?-1:1,E=p===-1?0:T.points.length-1,v=E-p,Z=i._.getPointAtIndexGlobalCoordinates(T,v),P=(0,x.j_)(O,ie.focus,Z);if(ie.gap===0)z=P;else{var oe=(0,x.MZ)(O,Z,P,ie.gap);z=oe.length===0?P:oe[0]}i._.movePoints(T,[{index:E,point:i._.pointFromAbsoluteCoords(T,z)}],(0,w.Z)({},K==="start"?"startBinding":"endBinding",ie))}}},s=function(T,K,ie){if(K==null||ie==null)return K;var M=K.gap,O=K.focus,z=K.elementId,p=ie.width,E=ie.height,v=T.width,Z=T.height;return{elementId:z,gap:Math.max(1,Math.min((0,x.fb)(T,p,E),M*(p<E?p/v:E/Z))),focus:O}},S=function(T){var K=new Set(T.map(function(ie){return ie.id}));return T.flatMap(function(ie){return(0,d.Mn)(ie,!1)?X(ie).filter(function(M){return!K.has(M.id)}):(0,d.f0)(ie,!1)?A(ie).filter(function(M){return!K.has(M[0].id)}):[]})},X=function(T){return[C(T,"start"),C(T,"end")].filter(function(K){return K!=null})},C=function(T,K){return c(q(T,K),W.Z.getScene(T))},q=function(T,K){var ie=K==="start"?0:-1;return(0,R.AK)(i._.getPointAtIndexGlobalCoordinates(T,ie))},A=function(T){return W.Z.getScene(T).getNonDeletedElements().map(function(K){if(!(0,d.Mn)(K,!1))return null;var ie=_(K,"start",T),M=_(K,"end",T);return ie||M?[K,ie&&M?"both":ie?"start":"end",T]:null}).filter(function(K){return K!=null})},_=function(T,K,ie){return T[K==="start"?"startBinding":"endBinding"]==null&&!m(T,ie,K)&&(0,x.uu)(ie,q(T,K))},ae=function(T,K,ie,M){var O=new Set,z=new Set,p=M==="duplicatesServeAsOld";K.forEach(function(E){var v=E.boundElements;if(v!=null&&v.length>0&&(v.forEach(function(oe){p&&!ie.has(oe.id)&&O.add(oe.id)}),z.add(ie.get(E.id))),(0,d.Mn)(E)){if(E.startBinding!=null){var Z=E.startBinding.elementId;p&&!ie.has(Z)&&z.add(Z)}if(E.endBinding!=null){var P=E.endBinding.elementId;p&&!ie.has(P)&&z.add(P)}E.startBinding==null&&E.endBinding==null||O.add(ie.get(E.id))}}),T.filter(function(E){var v=E.id;return O.has(v)}).forEach(function(E){var v=E.startBinding,Z=E.endBinding;(0,D.DR)(E,{startBinding:U(v,ie),endBinding:U(Z,ie)})}),T.filter(function(E){var v=E.id;return z.has(v)}).forEach(function(E){var v=E.boundElements;v!=null&&v.length>0&&(0,D.DR)(E,{boundElements:v.map(function(Z){return ie.has(Z.id)?{id:ie.get(Z.id),type:Z.type}:Z})})})},U=function(T,K){var ie;if(T==null)return null;var M=T.elementId;return{focus:T.focus,gap:T.gap,elementId:(ie=K.get(M))!==null&&ie!==void 0?ie:M}},H=function(T,K){var ie=new Set(K.map(function(O){return O.id})),M=new Set;K.forEach(function(O){var z;(0,d.f0)(O)?(z=O.boundElements)===null||z===void 0||z.forEach(function(p){ie.has(p.id)||M.add(p.id)}):(0,d.Mn)(O)&&(O.startBinding&&M.add(O.startBinding.elementId),O.endBinding&&M.add(O.endBinding.elementId))}),T.filter(function(O){var z=O.id;return M.has(z)}).forEach(function(O){(0,d.f0)(O)?(0,D.DR)(O,{boundElements:F(O.boundElements,ie)}):(0,d.Mn)(O)&&(0,D.DR)(O,{startBinding:j(O.startBinding,ie),endBinding:j(O.endBinding,ie)})})},j=function(T,K){return T==null||K.has(T.elementId)?null:T},F=function(T,K){return T?T.filter(function(ie){return!K.has(ie.id)}):null}},8925:function(me,Q,e){e.d(Q,{CM:function(){return ce},IX:function(){return ue},KP:function(){return u},Pi:function(){return m},UC:function(){return y},Ut:function(){return h},Y5:function(){return b},os:function(){return c},qf:function(){return le},v2:function(){return a},wC:function(){return I}});var w=e(2577),g=e(1930),f=e(6552),d=e(8234),x=e(3063),D=e(1974),W=e(5001),i=e(5710),R=e(6938);function B(n,t){var o=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!o){if(Array.isArray(n)||(o=function(q,A){if(q){if(typeof q=="string")return ee(q,A);var _=Object.prototype.toString.call(q).slice(8,-1);if(_==="Object"&&q.constructor&&(_=q.constructor.name),_==="Map"||_==="Set")return Array.from(q);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return ee(q,A)}}(n))||t&&n&&typeof n.length=="number"){o&&(n=o);var l=0,s=function(){};return{s,n:function(){return l>=n.length?{done:!0}:{done:!1,value:n[l++]}},e:function(q){throw q},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,X=!0,C=!1;return{s:function(){o=o.call(n)},n:function(){var q=o.next();return X=q.done,q},e:function(q){C=!0,S=q},f:function(){try{X||o.return==null||o.return()}finally{if(C)throw S}}}}function ee(n,t){(t==null||t>n.length)&&(t=n.length);for(var o=0,l=new Array(t);o<t;o++)l[o]=n[o];return l}var le=function(n){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,D.F9)(n))return ye(n);if((0,D.bt)(n))return R._.getElementAbsoluteCoords(n,t);if((0,D.iB)(n)){var o=(0,i.tl)(n);if((0,D.Yv)(o)){var l=R._.getBoundTextElementPosition(o,n);return[l.x,l.y,l.x+n.width,l.y+n.height,l.x+n.width/2,l.y+n.height/2]}}return[n.x,n.y,n.x+n.width,n.y+n.height,n.x+n.width/2,n.y+n.height/2]},y=function(n){var t=Math.floor(n.width/2)+1,o=n.width,l=Math.floor(n.height/2)+1;return[t,0,o,l,t,n.height,0,l]},ce=function(n){var t,o=B(n.sets);try{for(o.s();!(t=o.n()).done;){var l=t.value;if(l.type==="path")return l.ops}}catch(s){o.e(s)}finally{o.f()}return n.sets[0].ops},fe=function(n,t,o,l,s){var S=1-n;return Math.pow(S,3)*t+3*Math.pow(S,2)*n*o+3*S*Math.pow(n,2)*l+Math.pow(n,3)*s},Ce=function(n,t,o,l){var s=t-n,S=o-t,X=3*s-6*S+3*(l-o),C=6*S-6*s,q=3*s,A=C*C-4*X*q;if(!(A>=0))return!1;var _=null,ae=null,U=1/0,H=1/0;return X===0?U=H=-q/C:(U=(-C+Math.sqrt(A))/(2*X),H=(-C-Math.sqrt(A))/(2*X)),U>=0&&U<=1&&(_=fe(U,n,t,o,l)),H>=0&&H<=1&&(ae=fe(H,n,t,o,l)),[_,ae]},ue=function(n,t){var o=[0,0],l=n.reduce(function(s,S){var X=S.op,C=S.data;if(X==="move")o=C;else if(X==="bcurveTo"){var q=[C[0],C[1]],A=[C[2],C[3]],_=[C[4],C[5]],ae=t?t.apply(void 0,q):q,U=t?t.apply(void 0,A):A,H=t?t.apply(void 0,_):_,j=t?t.apply(void 0,(0,g.Z)(o)):o;o=_;var F=function(z,p,E,v){var Z=Ce(z[0],p[0],E[0],v[0]),P=Ce(z[1],p[1],E[1],v[1]),oe=Math.min(z[0],v[0]),se=Math.max(z[0],v[0]);if(Z){var N=Z.filter(function(Se){return Se!==null});oe=Math.min.apply(Math,[oe].concat((0,g.Z)(N))),se=Math.max.apply(Math,[se].concat((0,g.Z)(N)))}var ge=Math.min(z[1],v[1]),he=Math.max(z[1],v[1]);if(P){var be=P.filter(function(Se){return Se!==null});ge=Math.min.apply(Math,[ge].concat((0,g.Z)(be))),he=Math.max.apply(Math,[he].concat((0,g.Z)(be)))}return[oe,ge,se,he]}(j,ae,U,H),T=(0,w.Z)(F,4),K=T[0],ie=T[1],M=T[2],O=T[3];s.minX=Math.min(s.minX,K),s.minY=Math.min(s.minY,ie),s.maxX=Math.max(s.maxX,M),s.maxY=Math.max(s.maxY,O)}return s},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[l.minX,l.minY,l.maxX,l.maxY]},de=function(n){var t,o=1/0,l=1/0,s=-1/0,S=-1/0,X=B(n);try{for(X.s();!(t=X.n()).done;){var C=(0,w.Z)(t.value,2),q=C[0],A=C[1];o=Math.min(o,q),l=Math.min(l,A),s=Math.max(s,q),S=Math.max(S,A)}}catch(_){X.e(_)}finally{X.f()}return[o,l,s,S]},ye=function(n){var t=de(n.points),o=(0,w.Z)(t,4),l=o[0],s=o[1],S=o[2],X=o[3],C=l+n.x,q=s+n.y,A=S+n.x,_=X+n.y;return[C,q,A,_,(C+A)/2,(q+_)/2]},b=function(n,t,o,l){var s=ce(t[0]);if(s.length<1)return null;var S=o==="start"?1:s.length-1,X=s[S].data,C=[X[4],X[5]],q=[X[2],X[3]],A=[X[0],X[1]],_=s[S-1],ae=[0,0];_.op==="move"?ae=_.data:_.op==="bcurveTo"&&(ae=[_.data[4],_.data[5]]);var U=function(Ue,Ke){return Math.pow(1-Ue,3)*C[Ke]+3*Ue*Math.pow(1-Ue,2)*q[Ke]+3*Math.pow(Ue,2)*(1-Ue)*A[Ke]+ae[Ke]*Math.pow(Ue,3)},H=o==="start"?ae:C,j=(0,w.Z)(H,2),F=j[0],T=j[1],K=[U(.3,0),U(.3,1)],ie=K[0],M=K[1],O=Math.hypot(F-ie,T-M),z=(F-ie)/O,p=(T-M)/O,E={arrow:30,bar:15,dot:15,triangle:15}[l],v=0;if(l==="arrow"){var Z=(0,w.Z)(n.points[n.points.length-1],2),P=Z[0],oe=Z[1],se=n.points.length>1?n.points[n.points.length-2]:[0,0],N=(0,w.Z)(se,2),ge=N[0],he=N[1];v=Math.hypot(P-ge,oe-he)}else for(var be=0;be<n.points.length;be++){var Se=n.points[be-1]||[0,0],Y=(0,w.Z)(Se,2),we=Y[0],te=Y[1],_e=(0,w.Z)(n.points[be],2),Le=_e[0],ze=_e[1];v+=Math.hypot(Le-we,ze-te)}var He=Math.min(E,v/2),Fe=F-z*He,Pe=T-p*He;if(l==="dot")return[F,T,Math.hypot(Pe-T,Fe-F)+n.strokeWidth];var J={arrow:20,bar:90,triangle:25}[l],ve=(0,f.U1)(Fe,Pe,F,T,-J*Math.PI/180),xe=(0,w.Z)(ve,2),Ie=xe[0],De=xe[1],Ze=(0,f.U1)(Fe,Pe,F,T,J*Math.PI/180),Re=(0,w.Z)(Ze,2);return[F,T,Ie,De,Re[0],Re[1]]},G=function(n,t,o){var l;if(n.points.length<2){var s=(0,w.Z)(n.points[0],2),S=s[0],X=s[1],C=(0,f.U1)(n.x+S,n.y+X,t,o,n.angle),q=(0,w.Z)(C,2),A=q[0],_=q[1],ae=[A,_,A,_],U=(0,i.WJ)(n);if(U){var H=R._.getMinMaxXYWithBoundText(n,[A,_,A,_],U);ae=[H[0],H[1],H[2],H[3]]}return ae}var j=(l=(0,x.R2)(n))===null||l===void 0?void 0:l[0],F=j??function(z){var p=d.Z.generator(),E=(0,x.i)(z);return p[z.roundness?"curve":E.fill?"polygon":"linearPath"](z.points,E)}(n),T=ce(F),K=ue(T,function(z,p){return(0,f.U1)(n.x+z,n.y+p,t,o,n.angle)}),ie=[K[0],K[1],K[2],K[3]],M=(0,i.WJ)(n);if(M){var O=R._.getMinMaxXYWithBoundText(n,ie,M);ie=[O[0],O[1],O[2],O[3]]}return ie},m=function(n){var t,o=le(n),l=(0,w.Z)(o,6),s=l[0],S=l[1],X=l[2],C=l[3],q=l[4],A=l[5];if((0,D.F9)(n)){var _=de(n.points.map(function(ht){var ot=(0,w.Z)(ht,2),et=ot[0],nt=ot[1];return(0,f.U1)(et,nt,q-n.x,A-n.y,n.angle)})),ae=(0,w.Z)(_,4),U=ae[0],H=ae[1],j=ae[2],F=ae[3];return[U+n.x,H+n.y,j+n.x,F+n.y]}if((0,D.bt)(n))t=G(n,q,A);else if(n.type==="diamond"){var T=(0,f.U1)(q,S,q,A,n.angle),K=(0,w.Z)(T,2),ie=K[0],M=K[1],O=(0,f.U1)(q,C,q,A,n.angle),z=(0,w.Z)(O,2),p=z[0],E=z[1],v=(0,f.U1)(s,A,q,A,n.angle),Z=(0,w.Z)(v,2),P=Z[0],oe=Z[1],se=(0,f.U1)(X,A,q,A,n.angle),N=(0,w.Z)(se,2),ge=N[0],he=N[1];t=[Math.min(ie,p,P,ge),Math.min(M,E,oe,he),Math.max(ie,p,P,ge),Math.max(M,E,oe,he)]}else if(n.type==="ellipse"){var be=(X-s)/2,Se=(C-S)/2,Y=Math.cos(n.angle),we=Math.sin(n.angle),te=Math.hypot(be*Y,Se*we),_e=Math.hypot(Se*Y,be*we);t=[q-te,A-_e,q+te,A+_e]}else{var Le=(0,f.U1)(s,S,q,A,n.angle),ze=(0,w.Z)(Le,2),He=ze[0],Fe=ze[1],Pe=(0,f.U1)(s,C,q,A,n.angle),J=(0,w.Z)(Pe,2),ve=J[0],xe=J[1],Ie=(0,f.U1)(X,C,q,A,n.angle),De=(0,w.Z)(Ie,2),Ze=De[0],Re=De[1],Ue=(0,f.U1)(X,S,q,A,n.angle),Ke=(0,w.Z)(Ue,2),Ye=Ke[0],lt=Ke[1];t=[Math.min(He,ve,Ze,Ye),Math.min(Fe,xe,Re,lt),Math.max(He,ve,Ze,Ye),Math.max(Fe,xe,Re,lt)]}return t},u=function(n){if(!n.length)return[0,0,0,0];var t=1/0,o=-1/0,l=1/0,s=-1/0;return n.forEach(function(S){var X=m(S),C=(0,w.Z)(X,4),q=C[0],A=C[1],_=C[2],ae=C[3];t=Math.min(t,q),l=Math.min(l,A),o=Math.max(o,_),s=Math.max(s,ae)}),[t,l,o,s]},I=function(n,t,o,l){if(!(0,D.bt)(n)&&!(0,D.F9)(n))return[n.x,n.y,n.x+t,n.y+o];var s,S=(0,W.z)(0,t,(0,W.z)(1,o,n.points,l),l);if((0,D.F9)(n))s=de(S);else{var X=d.Z.generator(),C=n.roundness?X.curve(S,(0,x.i)(n)):X.linearPath(S,(0,x.i)(n)),q=ce(C);s=ue(q)}var A=s,_=(0,w.Z)(A,4),ae=_[0],U=_[1],H=_[2],j=_[3];return[ae+n.x,U+n.y,H+n.x,j+n.y]},h=function(n,t){var o=d.Z.generator(),l=n.roundness==null?o.linearPath(t,(0,x.i)(n)):o.curve(t,(0,x.i)(n)),s=ce(l),S=ue(s),X=(0,w.Z)(S,4),C=X[0],q=X[1],A=X[2],_=X[3];return[C+n.x,q+n.y,A+n.x,_+n.y]},c=function(n,t){if(!n.length)return[0,0,0,0];var o=1/0,l=n[0];return n.forEach(function(s){var S=m(s),X=(0,w.Z)(S,4),C=X[0],q=X[1],A=X[2],_=X[3],ae=(0,f.LW)((C+A)/2,(q+_)/2,t.x,t.y);ae<o&&(o=ae,l=s)}),m(l)},a=function(n){var t=u(n),o=(0,w.Z)(t,4),l=o[0],s=o[1],S=o[2],X=o[3];return{minX:l,minY:s,maxX:S,maxY:X,width:S-l,height:X-s,midX:(l+S)/2,midY:(s+X)/2}}},2325:function(me,Q,e){e.d(Q,{uu:function(){return H},T_:function(){return ge},j_:function(){return he},oT:function(){return T},wX:function(){return q},MZ:function(){return be},wB:function(){return A},Qu:function(){return _},pX:function(){return U},fb:function(){return j}});var w=e(2577),g=function(J,ve){return[0,0,0,0,ve,J,1,0]},f=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xe=[0,0,0,0,0,0,0,0];if(ve<0||ve>7)throw new Error("Expected `index` between 0 and 7, got `".concat(ve,"`"));return J!==0&&(xe[ve]=J),xe},d=function(J){return[J[0],J[1],J[2],J[3],-J[4],-J[5],-J[6],-J[7]]},x=function(J,ve){return y(ve)?[J[0]-ve,J[1],J[2],J[3],J[4],J[5],J[6],J[7]]:[J[0]-ve[0],J[1]-ve[1],J[2]-ve[2],J[3]-ve[3],J[4]-ve[4],J[5]-ve[5],J[6]-ve[6],J[7]-ve[7]]},D=function(J,ve){return y(ve)?[J[0]*ve,J[1]*ve,J[2]*ve,J[3]*ve,J[4]*ve,J[5]*ve,J[6]*ve,J[7]*ve]:[W(J,ve),ve[1]*J[0]+ve[0]*J[1]-ve[4]*J[2]+ve[5]*J[3]+ve[2]*J[4]-ve[3]*J[5]-ve[7]*J[6]-ve[6]*J[7],ve[2]*J[0]+ve[0]*J[2]-ve[6]*J[3]+ve[3]*J[6],ve[3]*J[0]+ve[6]*J[2]+ve[0]*J[3]-ve[2]*J[6],ve[4]*J[0]+ve[2]*J[1]-ve[1]*J[2]+ve[7]*J[3]+ve[0]*J[4]+ve[6]*J[5]-ve[5]*J[6]+ve[3]*J[7],ve[5]*J[0]-ve[3]*J[1]+ve[7]*J[2]+ve[1]*J[3]-ve[6]*J[4]+ve[0]*J[5]+ve[4]*J[6]+ve[2]*J[7],ve[6]*J[0]+ve[3]*J[2]-ve[2]*J[3]+ve[0]*J[6],ve[7]*J[0]+ve[6]*J[1]+ve[5]*J[2]+ve[4]*J[3]+ve[3]*J[4]+ve[2]*J[5]+ve[1]*J[6]+ve[0]*J[7]]},W=function(J,ve){return ve[0]*J[0]+ve[2]*J[2]+ve[3]*J[3]-ve[6]*J[6]},i=function(J,ve){return[R(J,ve),J[1]*ve[7]+J[4]*ve[5]-J[5]*ve[4]+J[7]*ve[1],J[2]*ve[7]-J[4]*ve[6]+J[6]*ve[4]+J[7]*ve[2],J[3]*ve[7]+J[5]*ve[6]-J[6]*ve[5]+J[7]*ve[3],J[4]*ve[7]+J[7]*ve[4],J[5]*ve[7]+J[7]*ve[5],J[6]*ve[7]+J[7]*ve[6],J[7]*ve[7]]},R=function(J,ve){return J[0]*ve[7]+J[1]*ve[6]+J[2]*ve[5]+J[3]*ve[4]+J[4]*ve[3]+J[5]*ve[2]+J[6]*ve[1]+J[7]*ve[0]},B=function(J){return Math.sqrt(Math.abs(J[0]*J[0]-J[2]*J[2]-J[3]*J[3]+J[6]*J[6]))},ee=function(J){var ve=B(J);if(ve===0||ve===1)return J;var xe=J[6]<0?-1:1;return D(J,xe/ve)},le=function(J){var ve=function(xe){return Math.sqrt(Math.abs(xe[7]*xe[7]-xe[5]*xe[5]-xe[4]*xe[4]+xe[1]*xe[1]))}(J);return ve===0||ve===1?J:D(J,1/ve)},y=function(J){return typeof J=="number"},ce=(f(1,1),f(1,2),f(1,3),f(1,4),f(1,5),f(1,6),f(1,7),function(J,ve,xe){return ee([0,xe,J,ve,0,0,0,0])}),fe=function(J,ve){return ee(i(ve,J))},Ce=function(J,ve){return xe=J,[(Ie=ve)[0]*xe[0]+Ie[2]*xe[2]+Ie[3]*xe[3]-Ie[6]*xe[6],Ie[1]*xe[0]+Ie[0]*xe[1]-Ie[4]*xe[2]+Ie[5]*xe[3]+Ie[2]*xe[4]-Ie[3]*xe[5]-Ie[7]*xe[6]-Ie[6]*xe[7],Ie[2]*xe[0]+Ie[0]*xe[2]-Ie[6]*xe[3]+Ie[3]*xe[6],Ie[3]*xe[0]+Ie[6]*xe[2]+Ie[0]*xe[3]-Ie[2]*xe[6],Ie[4]*xe[0]+Ie[7]*xe[3]+Ie[0]*xe[4]+Ie[3]*xe[7],Ie[5]*xe[0]+Ie[7]*xe[2]+Ie[0]*xe[5]+Ie[2]*xe[7],Ie[6]*xe[0]+Ie[0]*xe[6],Ie[7]*xe[0]+Ie[0]*xe[7]];var xe,Ie},ue=function(J){var ve=(0,w.Z)(J,2),xe=ve[0];return[0,0,0,0,ve[1],xe,1,0]},de=function(J){return[J[5],J[4]]},ye=function(J,ve){return ee((xe=J,[(Ie=ve)[0]*xe[0],Ie[1]*xe[0]+Ie[0]*xe[1],Ie[2]*xe[0]+Ie[0]*xe[2],Ie[3]*xe[0]+Ie[0]*xe[3],Ie[4]*xe[0]+Ie[2]*xe[1]-Ie[1]*xe[2]+Ie[0]*xe[4],Ie[5]*xe[0]-Ie[3]*xe[1]+Ie[1]*xe[3]+Ie[0]*xe[5],Ie[6]*xe[0]+Ie[3]*xe[2]-Ie[2]*xe[3]+Ie[0]*xe[6],Ie[7]*xe[0]+Ie[6]*xe[1]+Ie[5]*xe[2]+Ie[4]*xe[3]+Ie[3]*xe[4]+Ie[2]*xe[5]+Ie[1]*xe[6]]));var xe,Ie},b=function(J,ve){return B(i(J,ve))},G=function(J,ve){return R(J,ve)},m=function(J){return[0,0,0,0,J[4],J[5],0,0]},u=function(J,ve){return xe=D(J,Math.sin(ve/2)),Ie=Math.cos(ve/2),y(Ie)?[xe[0]+Ie,xe[1],xe[2],xe[3],xe[4],xe[5],xe[6],xe[7]]:[xe[0]+Ie[0],xe[1]+Ie[1],xe[2]+Ie[2],xe[3]+Ie[3],xe[4]+Ie[4],xe[5]+Ie[5],xe[6]+Ie[6],xe[7]+Ie[7]];var xe,Ie},I=function(J,ve){return ee(D(D(J,ve),d(J)))},h=e(6552),c=e(1493),a=e(8925),n=e(3063),t=e(1974),o=e(1047),l=e(6340),s=e(267),S=e(5710);function X(J,ve){var xe=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!xe){if(Array.isArray(J)||(xe=function(Ke,Ye){if(Ke){if(typeof Ke=="string")return C(Ke,Ye);var lt=Object.prototype.toString.call(Ke).slice(8,-1);if(lt==="Object"&&Ke.constructor&&(lt=Ke.constructor.name),lt==="Map"||lt==="Set")return Array.from(Ke);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return C(Ke,Ye)}}(J))||ve&&J&&typeof J.length=="number"){xe&&(J=xe);var Ie=0,De=function(){};return{s:De,n:function(){return Ie>=J.length?{done:!0}:{done:!1,value:J[Ie++]}},e:function(Ke){throw Ke},f:De}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ze,Re=!0,Ue=!1;return{s:function(){xe=xe.call(J)},n:function(){var Ke=xe.next();return Re=Ke.done,Ke},e:function(Ke){Ue=!0,Ze=Ke},f:function(){try{Re||xe.return==null||xe.return()}finally{if(Ue)throw Ze}}}}function C(J,ve){(ve==null||ve>J.length)&&(ve=J.length);for(var xe=0,Ie=new Array(ve);xe<ve;xe++)Ie[xe]=J[xe];return Ie}var q=function J(ve,xe,Ie,De){var Ze=10/xe.zoom.value,Re=[Ie,De];if(ae(xe,ve)&&(0,s.oY)([ve],xe))return U(ve,Re,Ze);var Ue=(0,S.WJ)(ve);return Ue&&J(Ue,xe,Ie,De)?!0:_(ve,xe,Re)},A=function(J,ve,xe,Ie){var De=10/ve.zoom.value,Ze=(0,S.WJ)(J);return(!Ze||!q(Ze,ve,xe,Ie))&&!_(J,ve,[xe,Ie])&&U(J,[xe,Ie],De)},_=function(J,ve,xe){var Ie=10/ve.zoom.value,De=(0,o.iB)(J)?K:function(Ze){if(Ze.type==="arrow")return!1;if(Ze.type==="freedraw")return!0;var Re=!(0,l.Qm)(Ze.backgroundColor)||(0,t.Xo)(Ze);return Ze.type==="line"?Re&&(0,h.g6)(Ze.points):Re||(0,t.pC)(Ze)}(J)?ie:M;return F({element:J,point:xe,threshold:Ie,check:De})},ae=function(J,ve){return J.selectedElementIds[ve.id]},U=function(J,ve,xe){var Ie=(0,w.Z)(ve,2),De=Ie[0],Ze=Ie[1],Re=(0,a.qf)(J),Ue=(0,w.Z)(Re,4),Ke=Ue[0],Ye=Ue[1],lt=Ue[2],ht=Ue[3],ot=(Ke+lt)/2,et=(Ye+ht)/2,nt=(0,h.U1)(De,Ze,ot,et,-J.angle),ct=(0,w.Z)(nt,2),vt=ct[0],Tt=ct[1];return vt>Ke-xe&&vt<lt+xe&&Tt>Ye-xe&&Tt<ht+xe},H=function(J,ve){var xe=ve.x,Ie=ve.y,De=j(J,J.width,J.height);return F({element:J,point:[xe,Ie],threshold:De,check:O})},j=function(J,ve,xe){var Ie=(J.type==="diamond"?1/Math.sqrt(2):1)*Math.min(ve,xe);return Math.max(16,Math.min(.25*Ie,32))},F=function(J){switch(J.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var ve=T(J.element,J.point);return J.check(ve,J.threshold);case"freedraw":return!!J.check(z(J.element,J.point),J.threshold)&&Z(J.element,J.point,J.threshold);case"arrow":case"line":return P(J);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},T=function(J,ve){switch(J.type){case"rectangle":case"image":case"text":return z(J,ve);case"diamond":return p(J,ve);case"ellipse":return E(J,ve)}},K=function(J,ve){return J<0},ie=function(J,ve){return J<ve},M=function(J,ve){return Math.abs(J)<ve},O=function(J,ve){return 0<=J&&J<ve},z=function(J,ve){var xe=oe(J,ve),Ie=(0,w.Z)(xe,4),De=Ie[1],Ze=Ie[2],Re=Ie[3];return Math.max(G(De,ce(0,1,-Re)),G(De,ce(1,0,-Ze)))},p=function(J,ve){var xe=oe(J,ve),Ie=(0,w.Z)(xe,4),De=Ie[1],Ze=Ie[2],Re=Ie[3],Ue=ce(Re,Ze,-Re*Ze);return G(De,Ue)},E=function(J,ve){var xe,Ie=v(J,ve),De=(0,w.Z)(Ie,2),Ze=De[0],Re=De[1];return xe=Re,-Math.sign(xe[1])*G(Ze,Re)},v=function(J,ve){var xe=oe(J,ve),Ie=(0,w.Z)(xe,4),De=Ie[1],Ze=Ie[2],Re=Ie[3],Ue=de(De),Ke=(0,w.Z)(Ue,2),Ye=Ke[0],lt=Ke[1],ht=.707,ot=.707,et=Ze,nt=Re;[0,1,2,3].forEach(function(Tt){var Bt=et*ht,Kt=nt*ot,Wt=(et*et-nt*nt)*Math.pow(ht,3)/et,Gt=(nt*nt-et*et)*Math.pow(ot,3)/nt,Et=Bt-Wt,Pt=Kt-Gt,Nt=Ye-Wt,Qt=lt-Gt,Dt=Math.hypot(Pt,Et),We=Math.hypot(Qt,Nt);ht=Math.min(1,Math.max(0,(Nt*Dt/We+Wt)/et)),ot=Math.min(1,Math.max(0,(Qt*Dt/We+Gt)/nt));var Xe=Math.hypot(ot,ht);ht/=Xe,ot/=Xe});var ct,vt=g(et*ht,nt*ot);return[De,Ce(fe(De,ct=vt),ct)]},Z=function(J,ve,xe){var Ie,De;if(J.angle===0)Ie=ve[0]-J.x,De=ve[1]-J.y;else{var Ze=(0,a.qf)(J),Re=(0,w.Z)(Ze,4),Ue=Re[0],Ke=Re[1],Ye=Re[2],lt=Re[3],ht=(0,h.xj)(ve,[Ue+(Ye-Ue)/2,Ke+(lt-Ke)/2],-J.angle);Ie=ht[0]-J.x,De=ht[1]-J.y}var ot,et=(0,w.Z)(J.points,2),nt=et[0],ct=et[1];if((0,h.LW)(nt[0],nt[1],Ie,De)<xe||(0,h.LW)(ct[0],ct[1],Ie,De)<xe)return!0;for(var vt=0;vt<J.points.length;vt++){var Tt=[ct[0]-nt[0],ct[1]-nt[1]],Bt=Math.hypot(Tt[1],Tt[0]),Kt=[Tt[0]/Bt,Tt[1]/Bt],Wt=[Ie-nt[0],De-nt[1]],Gt=(Wt[0]*Kt[0]+Wt[1]*Kt[1])/Math.hypot(Kt[1],Kt[0]);ot=[nt[0]+Kt[0]*Gt,nt[1]+Kt[1]*Gt];var Et=(0,h.LW)(ot[0],ot[1],nt[0],nt[1]),Pt=(0,h.LW)(ot[0],ot[1],ct[0],ct[1]);if(ot=Pt<Et&&Et>Bt?ct:Et<Pt&&Pt>Bt?nt:ot,Math.hypot(De-ot[1],Ie-ot[0])<xe)return!0;nt=ct,ct=J.points[vt+1]}var Nt=(0,n.R2)(J);return!(!Nt||!Nt.sets.length)&&Pe(Nt,Ie,De,xe)},P=function(J){var ve=J.element,xe=J.threshold;if(!(0,n.R2)(ve))return!1;var Ie=oe(J.element,J.point),De=(0,w.Z)(Ie,4),Ze=De[0],Re=De[1],Ue=De[2],Ke=De[3],Ye=ce(0,1,-Ke),lt=ce(1,0,-Ue);if(!ie(G(Re,Ye),xe)||!ie(G(Re,lt),xe))return!1;var ht=de(Ze),ot=(0,w.Z)(ht,2),et=ot[0],nt=ot[1],ct=(0,n.R2)(ve);return ct?J.check===ie&&ct.some(function(vt){return Fe(vt,et,nt,ve.roundness?"round":"sharp")})?!0:ct.some(function(vt){return Pe(vt,et,nt,xe)}):!1},oe=function(J,ve){var xe,Ie=ue(ve),De=(0,a.qf)(J),Ze=(0,w.Z)(De,4),Re=Ze[0],Ue=Ze[1],Ke=Ze[2],Ye=Ze[3],lt=(0,a.qf)(J),ht=N([Re,Ue,Ke,Ye]),ot=u(ht,J.angle),et=I(ot,Ie),nt=function(Wt){return[0,0,0,0,Math.abs(Wt[4]),Math.abs(Wt[5]),1,0]}(x(et,m(ht))),ct=(xe=J.x,[0,0,0,0,J.y,xe,0,0]),vt=x(et,ct),Tt=(0,w.Z)(lt,4),Bt=Tt[0],Kt=Tt[1];return[vt,nt,(Tt[2]-Bt)/2,(Tt[3]-Kt)/2]},se=function(J){var ve=(0,a.qf)(J),xe=(0,w.Z)(ve,4),Ie=xe[0],De=xe[1],Ze=xe[2],Re=xe[3],Ue=N([Ie,De,Ze,Re]),Ke=u(Ue,J.angle),Ye=d(function(lt){return[1,0,0,0,-.5*lt[5],.5*lt[4],0,0]}(m(Ue)));return D(Ye,Ke)},N=function(J){var ve=(0,w.Z)(J,4),xe=ve[0],Ie=ve[1],De=ve[2],Ze=ve[3];return g((xe+De)/2,(Ie+Ze)/2)},ge=function(J,ve,xe){var Ie=se(J),De=I(Ie,ue(ve)),Ze=I(Ie,ue(xe)),Re=fe(De,Ze),Ue=J.height/J.width,Ke=J.width/2,Ye=J.height/2,lt=Re[2],ht=Re[3],ot=Re[1],et=Math.abs(ht),nt=Math.abs(lt);switch(J.type){case"rectangle":case"image":case"text":return ot/(Ke*(nt+Ue*et));case"diamond":return et<nt?ot/(nt*Ke):ot/(et*Ye);case"ellipse":return ot/(Ke*Math.sqrt(Math.pow(lt,2)+Math.pow(Ue,2)*Math.pow(ht,2)))}},he=function(J,ve,xe){if(ve===0){var Ie=(0,a.qf)(J),De=(0,w.Z)(Ie,4),Ze=De[0],Re=De[1],Ue=De[2],Ke=De[3],Ye=N([Ze,Re,Ue,Ke]);return de(Ye)}var lt,ht=se(J),ot=I(ht,ue(xe)),et=d(ht);switch(J.type){case"rectangle":case"image":case"text":case"diamond":lt=He(J,ve,ot);break;case"ellipse":lt=ze(J,ve,ot)}return de(I(et,lt))},be=function(J,ve,xe){var Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,De=se(J),Ze=I(De,ue(ve)),Re=I(De,ue(xe)),Ue=fe(Ze,Re),Ke=d(De),Ye=Se(J,Ue,Ze,Ie);return Ye.map(function(lt){return de(I(Ke,lt))})},Se=function(J,ve,xe){var Ie,De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(J.type){case"rectangle":case"image":case"text":case"diamond":var Ze=Y(J);Ie=Ze.flatMap(function(Ue,Ke){var Ye=[Ue,Ze[(Ke+1)%4]];return we(ve,te(Ye,De))}).concat(Ze.flatMap(function(Ue){return Le(Ue,De,ve)}));break;case"ellipse":Ie=_e(J,De,ve)}if(Ie.length<2)return[];var Re=Ie.sort(function(Ue,Ke){return b(Ue,xe)-b(Ke,xe)});return[Re[0],Re[Re.length-1]]},Y=function(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,xe=ve*J.width/2,Ie=ve*J.height/2;switch(J.type){case"rectangle":case"image":case"text":return[g(xe,Ie),g(xe,-Ie),g(-xe,-Ie),g(-xe,Ie)];case"diamond":return[g(0,Ie),g(xe,0),g(0,-Ie),g(-xe,0)]}},we=function(J,ve){var xe=(0,w.Z)(ve,2),Ie=xe[0],De=xe[1];return G(Ie,J)*G(De,J)>=0?[]:[ye(J,fe(Ie,De))]},te=function(J,ve){var xe=(0,w.Z)(J,2),Ie=xe[0],De=xe[1],Ze=function(Re,Ue){var Ke=.5*Ue;return[1,0,0,0,Ke*Re[4],Ke*Re[5],0,0]}(function(Re,Ue){return le([0,0,0,0,Ue[4]-Re[4],Ue[5]-Re[5],0,0])}(Ie,De),ve);return[I(Ze,Ie),I(Ze,De)]},_e=function(J,ve,xe){var Ie=J.width/2+ve,De=J.height/2+ve,Ze=xe[2],Re=xe[3],Ue=xe[1],Ke=Ie*Ie*Ze*Ze+De*De*Re*Re,Ye=Ke-Ue*Ue;if(Ke===0||Ye<=0)return[];var lt=Math.sqrt(Ye),ht=-Ie*Ie*Ze*Ue,ot=-De*De*Re*Ue;return[g((ht+Ie*De*Re*lt)/Ke,(ot-Ie*De*Ze*lt)/Ke),g((ht-Ie*De*Re*lt)/Ke,(ot+Ie*De*Ze*lt)/Ke)]},Le=function(J,ve,xe){if(ve===0)return G(xe,J)===0?[J]:[];var Ie=xe[2],De=xe[3],Ze=xe[1],Re=de(J),Ue=(0,w.Z)(Re,2),Ke=Ue[0],Ye=Ue[1],lt=Ie*Ie+De*De,ht=ve*ve*lt-Math.pow(Ie*Ke+De*Ye+Ze,2);if(lt===0||ht<=0)return[];var ot=Math.sqrt(ht),et=Ke*De*De-Ye*Ie*De-Ie*Ze,nt=Ye*Ie*Ie-Ke*Ie*De-De*Ze;return[g((et+De*ot)/lt,(nt-Ie*ot)/lt),g((et-De*ot)/lt,(nt+Ie*ot)/lt)]},ze=function(J,ve,xe){var Ie=Math.abs(ve),De=J.width*Ie/2,Ze=J.height*Ie/2,Re=Math.sign(ve),Ue=de(xe),Ke=(0,w.Z)(Ue,2),Ye=Ke[0],lt=Ke[1],ht=lt===0?1e-4:lt,ot=Math.pow(Ye,2)*Math.pow(Ze,2)+Math.pow(ht,2)*Math.pow(De,2),et=(-Ye*Math.pow(Ze,2)+Re*ht*Math.sqrt(Math.max(0,ot-Math.pow(De,2)*Math.pow(Ze,2))))/ot,nt=(-et*Ye-1)/ht;nt===0&&(nt=.01*(Object.is(nt,-0)?-1:1));var ct=-Math.pow(De,2)*et/(Math.pow(nt,2)*Math.pow(Ze,2)+Math.pow(et,2)*Math.pow(De,2));return g(ct,(-et*ct-1)/nt)},He=function(J,ve,xe){var Ie=Math.abs(ve),De=Math.sign(ve),Ze=Y(J,Ie),Re=0,Ue=null;return Ze.forEach(function(Ke){var Ye=De*fe(xe,Ke)[1];Ye>Re&&(Re=Ye,Ue=Ke)}),Ue},Fe=function(J,ve,xe,Ie){var De,Ze=[],Re=!1,Ue=X((0,a.CM)(J));try{for(Ue.s();!(De=Ue.n()).done;){var Ke=De.value;Ke.op==="move"?(Re=!Re)&&Ze.push([Ke.data[0],Ke.data[1]]):Ke.op==="bcurveTo"?Re&&(Ze.push([Ke.data[0],Ke.data[1]]),Ze.push([Ke.data[2],Ke.data[3]]),Ze.push([Ke.data[4],Ke.data[5]])):Ke.op==="lineTo"&&Re&&Ze.push([Ke.data[0],Ke.data[1]])}}catch(lt){Ue.e(lt)}finally{Ue.f()}if(Ze.length>=4){if(Ie==="sharp")return(0,h.c9)(Ze,ve,xe);var Ye=(0,c.s)(Ze,10,5);return(0,h.c9)(Ye,ve,xe)}return!1},Pe=function(J,ve,xe,Ie){var De=(0,a.CM)(J),Ze=[0,0];return De.some(function(Re,Ue){var Ke=Re.op,Ye=Re.data;if(Ke==="move")Ze=Ye;else{if(Ke==="bcurveTo"){var lt=[Ye[0],Ye[1]],ht=[Ye[2],Ye[3]],ot=[Ye[4],Ye[5]],et=Ze;Ze=ot;var nt=function(ct,vt,Tt,Bt,Kt,Wt){for(var Gt=(0,w.Z)(Kt,2),Et=Gt[0],Pt=Gt[1],Nt=function(Xe,$e){return Math.pow(1-Xe,3)*Bt[$e]+3*Xe*Math.pow(1-Xe,2)*Tt[$e]+3*Math.pow(Xe,2)*(1-Xe)*vt[$e]+ct[$e]*Math.pow(Xe,3)},Qt=0;Qt<=1;){var Dt=Nt(Qt,0),We=Nt(Qt,1);if(Math.sqrt(Math.pow(Dt-Et,2)+Math.pow(We-Pt,2))<Wt)return!0;Qt+=.01}return!1}(et,lt,ht,ot,[ve,xe],Ie);return nt}if(Ke==="lineTo")return Fe(J,ve,xe,"sharp");Ke==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(me,Q,e){e.d(Q,{PK:function(){return ee},Xx:function(){return le},bp:function(){return ce},oA:function(){return y}});var w=e(2577),g=e(7169),f=e(8950),d=e(2975),x=e.n(d),D=e(2335),W=e(8211),i=e(1974);function R(fe,Ce){var ue=Object.keys(fe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(fe);Ce&&(de=de.filter(function(ye){return Object.getOwnPropertyDescriptor(fe,ye).enumerable})),ue.push.apply(ue,de)}return ue}function B(fe){for(var Ce=1;Ce<arguments.length;Ce++){var ue=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?R(Object(ue),!0).forEach(function(de){(0,g.Z)(fe,de,ue[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ue)):R(Object(ue)).forEach(function(de){Object.defineProperty(fe,de,Object.getOwnPropertyDescriptor(ue,de))})}return fe}var ee=function(fe){return new Promise(function(Ce,ue){var de=new Image;de.onload=function(){Ce(de)},de.onerror=function(ye){ue(ye)},de.src=fe})},le=function(){var fe=(0,f.Z)(x().mark(function Ce(ue){var de,ye,b,G,m;return x().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return de=ue.fileIds,ye=ue.files,b=ue.imageCache,G=new Map,m=new Map,u.next=5,Promise.all(de.reduce(function(I,h){var c=ye[h];return c&&!G.has(h)?(G.set(h,!0),I.concat((0,f.Z)(x().mark(function a(){var n,t,o;return x().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,c.mimeType!==D.LO.binary){l.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return n=ee(c.dataURL),t={image:n,mimeType:c.mimeType},b.set(h,t),l.next=8,n;case 8:o=l.sent,b.set(h,B(B({},t),{},{image:o})),l.next=15;break;case 12:l.prev=12,l.t0=l.catch(0),m.set(h,!0);case 15:case"end":return l.stop()}},a,null,[[0,12]])}))())):I},[]));case 5:return u.abrupt("return",{imageCache:b,updatedFiles:G,erroredFiles:m});case 6:case"end":return u.stop()}},Ce)}));return function(Ce){return fe.apply(this,arguments)}}(),y=function(fe){return fe.filter(function(Ce){return(0,i.wi)(Ce)})},ce=function(){var fe=(0,f.Z)(x().mark(function Ce(ue){var de,ye,b,G,m,u,I;return x().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(de=new DOMParser().parseFromString(ue,D.LO.svg),ye=de.querySelector("svg"),!de.querySelector("parsererror")&&((c=ye)==null?void 0:c.nodeName.toLowerCase())==="svg"){h.next=7;break}throw new Error((0,W.t)("errors.invalidSVGString"));case 7:return ye.hasAttribute("xmlns")||ye.setAttribute("xmlns",D.hR),ye.hasAttribute("width")&&ye.hasAttribute("height")||(b=ye.getAttribute("viewBox"),G=ye.getAttribute("width")||"50",m=ye.getAttribute("height")||"50",b&&(u=b.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(I=(0,w.Z)(u,3),G=I[1],m=I[2]),ye.setAttribute("width",G),ye.setAttribute("height",m)),h.abrupt("return",ye.outerHTML);case 10:case"end":return h.stop()}var c},Ce)}));return function(Ce){return fe.apply(this,arguments)}}()},1047:function(me,Q,e){e.d(Q,{ox:function(){return ee.ox},BQ:function(){return ae},_M:function(){return U},EJ:function(){return n},o8:function(){return h},Sy:function(){return R.Sy},os:function(){return B.os},KP:function(){return B.KP},Un:function(){return b},$V:function(){return a},qf:function(){return B.qf},Pi:function(){return B.Pi},jt:function(){return ue},o4:function(){return W},Lm:function(){return q},Qp:function(){return i},T:function(){return G.T},xx:function(){return G.xx},Uo:function(){return X},n2:function(){return de},PC:function(){return ee.PC},kK:function(){return ee.kK},n_:function(){return C},wX:function(){return le.wX},r2:function(){return f.r2},wB:function(){return le.wB},QD:function(){return x},qP:function(){return A},iB:function(){return f.iB},Up:function(){return R.Up},vw:function(){return R.vw},y8:function(){return R.y8},VL:function(){return R.VL},oN:function(){return u.oN},JZ:function(){return R.JZ},RT:function(){return l},b_:function(){return t.b_},vY:function(){return G.vY},N_:function(){return R.N_}});var w=e(7169),g=e(1935),f=e(1974),d=e(2335),x=function(H){return(0,f.bt)(H)||(0,f.F9)(H)?H.points.length<2:H.width===0&&H.height===0},D=function(H,j,F){var T=Math.abs(j),K=Math.abs(F);if(H==="line"||H==="arrow"||H==="freedraw"){var ie=Math.round(Math.atan(K/T)/d.ay)*d.ay;ie===0?F=0:ie===Math.PI/2?j=0:F=T*Math.tan(ie)*Math.sign(F)||F}else H!=="selection"&&(F=T*Math.sign(F));return{width:j,height:F}},W=function(H,j,F,T){var K=F-H,ie=T-j,M=Math.round(Math.atan(ie/K)/d.ay)*d.ay;if(M===0)ie=0;else if(M===Math.PI/2)K=0;else{var O=Math.tan(M),z=j-O*H,p=-1/O,E=T-p*F;K=(-1*E- -1*z)/(-1*O- -1*p)-H,ie=(z*p-E*O)/(-1*O- -1*p)-j}return{width:K,height:ie}},i=function(H){var j={width:H.width,height:H.height,x:H.x,y:H.y};if(H.width<0){var F=Math.abs(H.width);j.width=F,j.x=H.x-F}if(H.height<0){var T=Math.abs(H.height);j.height=T,j.y=H.y-T}return j},R=e(2791),B=e(8925),ee=e(267),le=e(2325),y=e(2577),ce=e(2726),fe=["rotation"],Ce=function(H,j,F){return j>=H[0]&&j<=H[0]+H[2]&&F>=H[1]&&F<=H[1]+H[3]},ue=function(H,j,F,T,K,ie){return H.reduce(function(M,O){if(M)return M;var z=function(p,E,v,Z,P,oe){if(!E.selectedElementIds[p.id])return!1;var se=(0,ee.PC)(p,P,oe),N=se.rotation,ge=(0,ce.Z)(se,fe);if(N&&Ce(N,v,Z))return"rotation";var he=Object.keys(ge).filter(function(be){var Se=ge[be];return!!Se&&Ce(Se,v,Z)});return he.length>0&&he[0]}(O,j,F,T,K,ie);return z?{element:O,transformHandleType:z}:null},null)},de=function(H,j,F,T,K){var ie=(0,y.Z)(H,4),M=ie[0],O=ie[1],z=ie[2],p=ie[3],E=(0,ee.kK)([M,O,z,p,(M+z)/2,(O+p)/2],0,T,K,ee.ox);return Object.keys(E).find(function(v){var Z=E[v];return Z&&Ce(Z,j,F)})||!1},ye=["ns","nesw","ew","nwse"],b=function(H){var j=H.element,F=H.transformHandleType,T=j&&Math.sign(j.height)*Math.sign(j.width)==-1,K=null;switch(F){case"n":case"s":K="ns";break;case"w":case"e":K="ew";break;case"nw":case"se":K=T?"nesw":"nwse";break;case"ne":case"sw":K=T?"nwse":"nesw";break;case"rotation":return"grab"}return K&&j&&(K=function(ie,M){var O=ye.indexOf(ie);if(O>=0){var z=Math.round(M/(Math.PI/4));ie=ye[(O+z)%ye.length]}return ie}(K,j.angle)),K?"".concat(K,"-resize"):""},G=e(8634),m=e(8290),u=e(5710),I=e(242),h=function(H,j,F,T){var K=arguments.length>4&&arguments[4]!==void 0&&arguments[4],ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,O=arguments.length>7?arguments[7]:void 0,z=(0,B.KP)(j),p=(0,y.Z)(z,2),E=p[0],v=p[1],Z={x:F-E,y:T-v};j.forEach(function(P){if(c(K,ie,M,H,P,Z),!P.groupIds.length||O.editingGroupId&&!(0,I.zq)(O,P)){var oe=(0,u.WJ)(P);oe&&c(K,ie,M,H,oe,Z)}(0,m.Ww)(P,{simultaneouslyUpdated:j})})},c=function(H,j,F,T,K,ie){var M,O;if(H){var z=H&&j<F,p=H&&j>F,E=T.originalElements.get(K.id);M=z&&E?E.x:K.x+ie.x,O=p&&E?E.y:K.y+ie.y}else M=K.x+ie.x,O=K.y+ie.y;(0,g.DR)(K,{x:M,y:O})},a=function(H,j,F){var T=(0,B.KP)(H),K=(0,y.Z)(T,2);return[j-K[0],F-K[1]]},n=function(H,j,F,T,K,ie,M,O,z,p,E){if(z&&H.type!=="selection")if(E)O=M/E;else{if(Math.abs(ie-T)>Math.abs(K-F)){var v=D(j,O,K<F?-M:M);M=v.width,O=v.height}else{var Z=D(j,M,ie<T?-O:O);M=Z.width,O=Z.height}O<0&&(O=-O)}var P=K<F?F-M:F,oe=ie<T?T-O:T;p&&(P=F-(M+=M)/2,oe=T-(O+=O)/2),M!==0&&O!==0&&(0,g.DR)(H,{x:P,y:oe,width:M,height:O})},t=e(6906),o=e(75),l=function(H,j){return!!(!H.viewModeEnabled&&H.activeTool.type!=="custom"&&(H.editingElement||H.activeTool.type!=="selection"&&H.activeTool.type!=="eraser"&&H.activeTool.type!=="hand")||(0,o.eD)(j,H).length)};function s(H,j){var F=Object.keys(H);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(H);j&&(T=T.filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable})),F.push.apply(F,T)}return F}function S(H){for(var j=1;j<arguments.length;j++){var F=arguments[j]!=null?arguments[j]:{};j%2?s(Object(F),!0).forEach(function(T){(0,w.Z)(H,T,F[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(F)):s(Object(F)).forEach(function(T){Object.defineProperty(H,T,Object.getOwnPropertyDescriptor(F,T))})}return H}var X=function(H){return H.reduce(function(j,F){return j+F.version},0)},C=function(H){return H.filter(function(j){return!j.isDeleted&&!x(j)})},q=function(H){return H.filter(function(j){return!j.isDeleted})},A=function(H){return!H.isDeleted},_=function(H){return q(H).map(function(j){return(0,f.dt)(j.type)?S(S({},j),{},{lastCommittedPoint:null}):j})},ae=function(H){return _(H)},U=function(H){return _(H)}},6938:function(me,Q,e){e.d(Q,{_:function(){return u}});var w=e(1930),g=e(7169),f=e(2577),d=e(8821),x=e(5169),D=e(6552),W=e(1047),i=e(8925),R=e(1935),B=e(1564),ee=e(8290),le=e(6340),y=e(1974),ce=e(6066),fe=e(5710),Ce=e(3063),ue=e(2335);function de(h,c){var a=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!a){if(Array.isArray(h)||(a=function(S,X){if(S){if(typeof S=="string")return ye(S,X);var C=Object.prototype.toString.call(S).slice(8,-1);if(C==="Object"&&S.constructor&&(C=S.constructor.name),C==="Map"||C==="Set")return Array.from(S);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return ye(S,X)}}(h))||c&&h&&typeof h.length=="number"){a&&(h=a);var n=0,t=function(){};return{s:t,n:function(){return n>=h.length?{done:!0}:{done:!1,value:h[n++]}},e:function(S){throw S},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){a=a.call(h)},n:function(){var S=a.next();return l=S.done,S},e:function(S){s=!0,o=S},f:function(){try{l||a.return==null||a.return()}finally{if(s)throw o}}}}function ye(h,c){(c==null||c>h.length)&&(c=h.length);for(var a=0,n=new Array(c);a<c;a++)n[a]=h[a];return n}function b(h,c){var a=Object.keys(h);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(h);c&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(h,t).enumerable})),a.push.apply(a,n)}return a}function G(h){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?arguments[c]:{};c%2?b(Object(a),!0).forEach(function(n){(0,g.Z)(h,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(n){Object.defineProperty(h,n,Object.getOwnPropertyDescriptor(a,n))})}return h}var m={version:null,points:[],zoom:null},u=function(){function h(c,a){(0,d.Z)(this,h),this.elementId=c.id,B.Z.mapElementToScene(this.elementId,a),h.normalizePoints(c),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,x.Z)(h,null,[{key:"getElement",value:function(c){var a,n=(a=B.Z.getScene(c))===null||a===void 0?void 0:a.getNonDeletedElement(c);return n||null}},{key:"handleBoxSelection",value:function(c,a,n){var t;if(!a.editingLinearElement||((t=a.draggingElement)===null||t===void 0?void 0:t.type)!=="selection")return!1;var o=a.editingLinearElement,l=o.selectedPointsIndices,s=o.elementId,S=h.getElement(s);if(!S)return!1;var X=(0,W.qf)(a.draggingElement),C=(0,f.Z)(X,4),q=C[0],A=C[1],_=C[2],ae=C[3],U=h.getPointsGlobalCoordinates(S).reduce(function(H,j,F){return(j[0]>=q&&j[0]<=_&&j[1]>=A&&j[1]<=ae||c.shiftKey&&l!=null&&l.includes(F))&&H.push(F),H},[]);n({editingLinearElement:G(G({},o),{},{selectedPointsIndices:U.length?U:null})})}},{key:"handlePointDragging",value:function(c,a,n,t,o,l){if(!l)return!1;var s=l.selectedPointsIndices,S=l.elementId,X=h.getElement(S);if(!X)return!1;var C=X.points[l.pointerDownState.lastClickedPoint];if(s&&C){if((0,ce.Ge)(c)&&s.length===1&&X.points.length>1){var q=s[0],A=X.points[q===0?1:q-1],_=h._getShiftLockedDelta(X,A,[n,t],a.gridSize),ae=(0,f.Z)(_,2),U=ae[0],H=ae[1];h.movePoints(X,[{index:q,point:[U+A[0],H+A[1]],isDragging:q===l.pointerDownState.lastClickedPoint}])}else{var j=h.createPointAt(X,n-l.pointerOffset.x,t-l.pointerOffset.y,a.gridSize),F=j[0]-C[0],T=j[1]-C[1];h.movePoints(X,s.map(function(M){return{index:M,point:M===l.pointerDownState.lastClickedPoint?h.createPointAt(X,n-l.pointerOffset.x,t-l.pointerOffset.y,a.gridSize):[X.points[M][0]+F,X.points[M][1]+T],isDragging:M===l.pointerDownState.lastClickedPoint}})),(0,fe.WJ)(X)&&(0,fe.RB)(X,!1)}if((0,y.Mn)(X,!1)){var K=[];s[0]===0&&K.push((0,le.AK)(h.getPointGlobalCoordinates(X,X.points[0])));var ie=s[s.length-1];ie===X.points.length-1&&K.push((0,le.AK)(h.getPointGlobalCoordinates(X,X.points[ie]))),K.length&&o(X,K)}return!0}return!1}},{key:"handlePointerUp",value:function(c,a,n){var t,o=a.elementId,l=a.selectedPointsIndices,s=a.isDragging,S=a.pointerDownState,X=h.getElement(o);if(!X)return a;var C={};if(s&&l){var q,A=de(l);try{for(A.s();!(q=A.n()).done;){var _=q.value;if(_===0||_===X.points.length-1){(0,D.g6)(X.points,n.zoom.value)&&h.movePoints(X,[{index:_,point:_===0?X.points[X.points.length-1]:X.points[0]}]);var ae=(0,ee.N1)(n)?(0,ee.Y9)((0,le.AK)(h.getPointAtIndexGlobalCoordinates(X,_)),B.Z.getScene(X)):null;C[_===0?"startBindingElement":"endBindingElement"]=ae}}}catch(U){A.e(U)}finally{A.f()}}return G(G(G({},a),C),{},{selectedPointsIndices:s||c.shiftKey?!s&&c.shiftKey&&(t=S.prevSelectedPointsIndices)!==null&&t!==void 0&&t.includes(S.lastClickedPoint)?l&&l.filter(function(U){return U!==S.lastClickedPoint}):l:l!=null&&l.includes(S.lastClickedPoint)?[S.lastClickedPoint]:l,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(c,a,n,t){var o=(0,D.LW)(a[0],a[1],n[0],n[1]);return c.points.length>2&&c.roundness&&(o=(0,D.eH)(c,n)),o*t.value<4*h.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(c,a,n,t){var o=(0,D.H5)(a,n);if(c.points.length>2&&c.roundness){var l=(0,D.yB)(c,c.points[t]);if(l){var s=(0,D.lk)(c,c.points[t],.5),S=(0,D.N_)(l[0],l[1],l[2],l[3],s),X=(0,f.Z)(S,2),C=X[0],q=X[1];o=h.getPointGlobalCoordinates(c,[C,q])}}return o}},{key:"getSegmentMidPointIndex",value:function(c,a,n){var t=h.getElement(c.elementId);if(!t)return-1;for(var o=h.getEditorMidPoints(t,a),l=0;l<o.length;){if(h.arePointsEqual(n,o[l]))return l+1;l++}return-1}},{key:"handlePointerDown",value:function(c,a,n,t,o){var l,s={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!o)return s;var S=o.elementId,X=h.getElement(S);if(!X)return s;var C=h.getSegmentMidpointHitCoords(o,t,a),q=null;if(C&&(q=h.getSegmentMidPointIndex(o,a,C)),c.altKey&&a.editingLinearElement)return o.lastUncommittedPoint==null&&((0,R.DR)(X,{points:[].concat((0,w.Z)(X.points),[h.createPointAt(X,t.x,t.y,a.gridSize)])}),s.didAddPoint=!0),n.resumeRecording(),s.linearElementEditor=G(G({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:-1,origin:{x:t.x,y:t.y},segmentMidpoint:{value:C,index:q,added:!1}},selectedPointsIndices:[X.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,ee.Y9)(t,B.Z.getScene(X))}),s.didAddPoint=!0,s;var A=h.getPointIndexUnderCursor(X,a.zoom,t.x,t.y);if(A>=0||C)s.hitElement=X;else{var _=o.startBindingElement,ae=o.endBindingElement;(0,ee.N1)(a)&&(0,y.Mn)(X)&&(0,ee.HG)(X,_,ae)}var U=(0,W.qf)(X),H=(0,f.Z)(U,4),j=H[0],F=H[1],T=(j+H[2])/2,K=(F+H[3])/2,ie=A>-1&&(0,D.U1)(X.x+X.points[A][0],X.y+X.points[A][1],T,K,X.angle),M=A>-1||c.shiftKey?c.shiftKey||(l=o.selectedPointsIndices)!==null&&l!==void 0&&l.includes(A)?I([].concat((0,w.Z)(o.selectedPointsIndices||[]),[A])):[A]:null;return s.linearElementEditor=G(G({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:A,origin:{x:t.x,y:t.y},segmentMidpoint:{value:C,index:q,added:!1}},selectedPointsIndices:M,pointerOffset:ie?{x:t.x-ie[0],y:t.y-ie[1]}:{x:0,y:0}}),s}},{key:"arePointsEqual",value:function(c,a){return!c&&!a||!(!c||!a)&&(0,D.Jj)(c,a)}},{key:"handlePointerMove",value:function(c,a,n,t){if(!t.editingLinearElement)return null;var o=t.editingLinearElement,l=o.elementId,s=o.lastUncommittedPoint,S=h.getElement(l);if(!S)return t.editingLinearElement;var X,C=S.points,q=C[C.length-1];if(!c.altKey)return q===s&&h.deletePoints(S,[C.length-1]),G(G({},t.editingLinearElement),{},{lastUncommittedPoint:null});if((0,ce.Ge)(c)&&C.length>=2){var A=C[C.length-2],_=h._getShiftLockedDelta(S,A,[a,n],t.gridSize),ae=(0,f.Z)(_,2),U=ae[0],H=ae[1];X=[U+A[0],H+A[1]]}else X=h.createPointAt(S,a-t.editingLinearElement.pointerOffset.x,n-t.editingLinearElement.pointerOffset.y,t.gridSize);return q===s?h.movePoints(S,[{index:S.points.length-1,point:X}]):h.addPoints(S,t,[{point:X}]),G(G({},t.editingLinearElement),{},{lastUncommittedPoint:S.points[S.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(c,a){var n=(0,W.qf)(c),t=(0,f.Z)(n,4),o=t[0],l=t[1],s=(o+t[2])/2,S=(l+t[3])/2,X=c.x,C=c.y,q=(0,D.U1)(X+a[0],C+a[1],s,S,c.angle),A=(0,f.Z)(q,2);return[X=A[0],C=A[1]]}},{key:"getPointsGlobalCoordinates",value:function(c){var a=(0,W.qf)(c),n=(0,f.Z)(a,4),t=n[0],o=n[1],l=n[2],s=n[3],S=(t+l)/2,X=(o+s)/2;return c.points.map(function(C){var q=c.x,A=c.y,_=(0,D.U1)(q+C[0],A+C[1],S,X,c.angle),ae=(0,f.Z)(_,2);return[q=ae[0],A=ae[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(c,a){var n=a<0?c.points.length+a:a,t=(0,W.qf)(c),o=(0,f.Z)(t,4),l=o[0],s=o[1],S=(l+o[2])/2,X=(s+o[3])/2,C=c.points[n],q=c.x,A=c.y;return C?(0,D.U1)(q+C[0],A+C[1],S,X,c.angle):(0,D.U1)(q,A,S,X,c.angle)}},{key:"pointFromAbsoluteCoords",value:function(c,a){var n=(0,W.qf)(c),t=(0,f.Z)(n,4),o=t[0],l=t[1],s=(o+t[2])/2,S=(l+t[3])/2,X=(0,D.U1)(a[0],a[1],s,S,-c.angle),C=(0,f.Z)(X,2),q=C[0],A=C[1];return[q-c.x,A-c.y]}},{key:"getPointIndexUnderCursor",value:function(c,a,n,t){for(var o=h.getPointsGlobalCoordinates(c),l=o.length;--l>-1;){var s=o[l];if((0,D.LW)(n,t,s[0],s[1])*a.value<h.POINT_HANDLE_SIZE+1)return l}return-1}},{key:"createPointAt",value:function(c,a,n,t){var o=(0,D.wC)(a,n,t),l=(0,W.qf)(c),s=(0,f.Z)(l,4),S=s[0],X=s[1],C=(S+s[2])/2,q=(X+s[3])/2,A=(0,D.U1)(o[0],o[1],C,q,-c.angle),_=(0,f.Z)(A,2),ae=_[0],U=_[1];return[ae-c.x,U-c.y]}},{key:"getNormalizedPoints",value:function(c){var a=c.points,n=a[0][0],t=a[0][1];return{points:a.map(function(o,l){return[o[0]-n,o[1]-t]}),x:c.x+n,y:c.y+t}}},{key:"normalizePoints",value:function(c){(0,R.DR)(c,h.getNormalizedPoints(c))}},{key:"duplicateSelectedPoints",value:function(c){if(!c.editingLinearElement)return!1;var a=c.editingLinearElement,n=a.selectedPointsIndices,t=a.elementId,o=h.getElement(t);if(!o||n===null)return!1;var l=o.points,s=[],S=!1,X=-1,C=l.reduce(function(A,_,ae){if(++X,A.push(_),n.includes(ae)){var U=l[ae+1];U||(S=!0),A.push(U?[(_[0]+U[0])/2,(_[1]+U[1])/2]:[_[0],_[1]]),s.push(X+1),++X}return A},[]);if((0,R.DR)(o,{points:C}),S){var q=o.points[o.points.length-1];h.movePoints(o,[{index:o.points.length-1,point:[q[0]+30,q[1]+30]}])}return{appState:G(G({},c),{},{editingLinearElement:G(G({},c.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(c,a){var n=0,t=0;if(a.includes(0)){var o=c.points.find(function(s,S){return!a.includes(S)});o&&(n=o[0],t=o[1])}var l=c.points.reduce(function(s,S,X){return a.includes(X)||s.push(s.length?[S[0]-n,S[1]-t]:[0,0]),s},[]);h._updatePoints(c,l,n,t)}},{key:"addPoints",value:function(c,a,n){var t=[].concat((0,w.Z)(c.points),(0,w.Z)(n.map(function(o){return o.point})));h._updatePoints(c,t,0,0)}},{key:"movePoints",value:function(c,a,n){var t=c.points,o=0,l=0,s=a.find(function(X){return X.index===0});s&&(o=s.point[0]+t[s.index][0],l=s.point[1]+t[s.index][1]);var S=t.map(function(X,C){var q=a.find(function(ae){return ae.index===C});if(q){if(s)return X;var A=q.point[0]-t[q.index][0],_=q.point[1]-t[q.index][1];return[X[0]+A,X[1]+_]}return o||l?[X[0]-o,X[1]-l]:X});h._updatePoints(c,S,o,l,n)}},{key:"shouldAddMidpoint",value:function(c,a,n){if(!h.getElement(c.elementId))return!1;var t=c.pointerDownState.segmentMidpoint;if(t.added||t.value===null||t.index===null||c.pointerDownState.origin===null)return!1;var o=c.pointerDownState.origin,l=(0,D.LW)(o.x,o.y,a.x,a.y);return!(!n.editingLinearElement&&l<ue.f/n.zoom.value)}},{key:"addMidpoint",value:function(c,a,n){var t=h.getElement(c.elementId);if(t){var o=c.pointerDownState.segmentMidpoint,l={pointerDownState:c.pointerDownState,selectedPointsIndices:c.selectedPointsIndices},s=h.createPointAt(t,a.x,a.y,n.gridSize),S=[].concat((0,w.Z)(t.points.slice(0,o.index)),[s],(0,w.Z)(t.points.slice(o.index)));return(0,R.DR)(t,{points:S}),l.pointerDownState=G(G({},c.pointerDownState),{},{segmentMidpoint:G(G({},c.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:o.index}),l.selectedPointsIndices=[o.index],l}}},{key:"_updatePoints",value:function(c,a,n,t,o){var l=(0,i.Ut)(c,a),s=(0,i.Ut)(c,c.points),S=(l[0]+l[2])/2,X=(l[1]+l[3])/2,C=(s[0]+s[2])/2-S,q=(s[1]+s[3])/2-X,A=(0,D.U1)(n,t,C,q,c.angle);(0,R.DR)(c,G(G({},o),{},{points:a,x:c.x+A[0],y:c.y+A[1]}))}},{key:"_getShiftLockedDelta",value:function(c,a,n,t){var o=h.getPointGlobalCoordinates(c,a),l=(0,D.wC)(n[0],n[1],t),s=(0,f.Z)(l,2),S=s[0],X=s[1],C=(0,W.o4)(o[0],o[1],S,X),q=C.width,A=C.height;return(0,D.xj)([q,A],[0,0],-c.angle)}}]),h}();u.POINT_HANDLE_SIZE=10,u.getEditorMidPoints=function(h,c){var a=(0,fe.WJ)(h);return!c.editingLinearElement&&h.points.length>2&&!a?[]:(m.version===h.version&&m.zoom===c.zoom.value||u.updateEditorMidPointsCache(h,c),m.points)},u.updateEditorMidPointsCache=function(h,c){for(var a=u.getPointsGlobalCoordinates(h),n=0,t=[];n<a.length-1;)if(u.isSegmentTooShort(h,h.points[n],h.points[n+1],c.zoom))t.push(null),n++;else{var o=u.getSegmentMidPoint(h,a[n],a[n+1],n+1);t.push(o),n++}m.points=t,m.version=h.version,m.zoom=c.zoom.value},u.getSegmentMidpointHitCoords=function(h,c,a){var n=h.elementId,t=u.getElement(n);if(!t||u.getPointIndexUnderCursor(t,a.zoom,c.x,c.y)>=0||u.getPointsGlobalCoordinates(t).length>=3&&!a.editingLinearElement)return null;var o=u.POINT_HANDLE_SIZE/a.zoom.value,l=h.segmentMidPointHoveredCoords;if(l&&(0,D.LW)(l[0],l[1],c.x,c.y)<=o)return l;for(var s=0,S=u.getEditorMidPoints(t,a);s<S.length;){if(S[s]!==null&&(0,D.LW)(S[s][0],S[s][1],c.x,c.y)<=o)return S[s];s++}return null},u.getBoundTextElementPosition=function(h,c){var a=u.getPointsGlobalCoordinates(h);a.length<2&&(0,R.DR)(c,{isDeleted:!0});var n=0,t=0;if(h.points.length%2==1){var o=Math.floor(h.points.length/2),l=u.getPointGlobalCoordinates(h,h.points[o]);n=l[0]-c.width/2,t=l[1]-c.height/2}else{var s=h.points.length/2-1,S=m.points[s];h.points.length===2&&(S=(0,D.H5)(a[0],a[1])),S&&m.version===h.version||(S=u.getSegmentMidPoint(h,a[s],a[s+1],s+1)),n=S[0]-c.width/2,t=S[1]-c.height/2}return{x:n,y:t}},u.getMinMaxXYWithBoundText=function(h,c,a){var n=(0,f.Z)(c,4),t=n[0],o=n[1],l=n[2],s=n[3],S=(t+l)/2,X=(o+s)/2,C=u.getBoundTextElementPosition(h,a),q=C.x,A=C.y,_=q+a.width,ae=A+a.height,U=(0,D.xj)([t,o],[S,X],h.angle),H=(0,D.xj)([l,o],[S,X],h.angle),j=(0,D.xj)([q,A],[S,X],-h.angle),F=(0,D.xj)([_,A],[S,X],-h.angle),T=(0,D.xj)([q,ae],[S,X],-h.angle),K=(0,D.xj)([_,ae],[S,X],-h.angle);return U[0]<H[0]&&U[1]>=H[1]?(t=Math.min(t,T[0]),l=Math.max(l,Math.max(F[0],K[0])),o=Math.min(o,j[1]),s=Math.max(s,K[1])):U[0]>=H[0]&&U[1]>H[1]?(t=Math.min(t,K[0]),l=Math.max(l,Math.max(j[0],F[0])),o=Math.min(o,T[1]),s=Math.max(s,F[1])):U[0]>=H[0]?(t=Math.min(t,F[0]),l=Math.max(l,T[0]),o=Math.min(o,K[1]),s=Math.max(s,j[1])):U[1]<=H[1]&&(t=Math.min(t,Math.min(F[0],j[0])),l=Math.max(l,K[0]),o=Math.min(o,F[1]),s=Math.max(s,T[1])),[t,o,l,s,S,X]},u.getElementAbsoluteCoords=function(h){var c,a,n,t,o,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(h.points.length<2||!(0,Ce.R2)(h)){var s=h.points.reduce(function(O,z){var p=(0,f.Z)(z,2),E=p[0],v=p[1];return O.minY=Math.min(O.minY,v),O.minX=Math.min(O.minX,E),O.maxX=Math.max(O.maxX,E),O.maxY=Math.max(O.maxY,v),O},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),S=s.minX,X=s.minY,C=s.maxX,q=s.maxY;a=S+h.x,n=X+h.y,t=C+h.x,o=q+h.y}else{var A=(0,Ce.R2)(h),_=(0,i.CM)(A[0]),ae=(0,i.IX)(_),U=(0,f.Z)(ae,4),H=U[0],j=U[1],F=U[2],T=U[3];a=H+h.x,n=j+h.y,t=F+h.x,o=T+h.y}var K=(a+t)/2,ie=(n+o)/2;if(c=[a,n,t,o,K,ie],!l)return c;var M=(0,fe.WJ)(h);return M&&(c=u.getMinMaxXYWithBoundText(h,[a,n,t,o],M)),c};var I=function(h){var c=(0,w.Z)(new Set(h.filter(function(a){return a!==null&&a!==-1})));return(c=c.sort(function(a,n){return a-n})).length?c:null}},1935:function(me,Q,e){e.d(Q,{BE:function(){return ee},DR:function(){return B},ZP:function(){return le}});var w=e(6655),g=e(7169),f=e(3063),d=e(1564),x=e(5001),D=e(6954),W=e(6340);function i(y,ce){var fe=Object.keys(y);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(y);ce&&(Ce=Ce.filter(function(ue){return Object.getOwnPropertyDescriptor(y,ue).enumerable})),fe.push.apply(fe,Ce)}return fe}function R(y){for(var ce=1;ce<arguments.length;ce++){var fe=arguments[ce]!=null?arguments[ce]:{};ce%2?i(Object(fe),!0).forEach(function(Ce){(0,g.Z)(y,Ce,fe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(fe)):i(Object(fe)).forEach(function(Ce){Object.defineProperty(y,Ce,Object.getOwnPropertyDescriptor(fe,Ce))})}return y}var B=function(y,ce){var fe,Ce=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ue=!1,de=ce,ye=de.points,b=de.fileId;for(var G in ye!==void 0&&(ce=R(R({},(0,x.k)(ye)),ce)),ce){var m=ce[G];if(m!==void 0){if(y[G]===m&&((0,w.Z)(m)!=="object"||m===null||G==="groupIds"||G==="scale"))continue;if(G==="scale"){var u=y[G],I=m;if(u[0]===I[0]&&u[1]===I[1])continue}else if(G==="points"){var h=y[G],c=m;if(h.length===c.length){for(var a=!1,n=h.length;--n;){var t=h[n],o=c[n];if(t[0]!==o[0]||t[1]!==o[1]){a=!0;break}}if(!a)continue}}y[G]=m,ue=!0}}return ue&&(ce.height===void 0&&ce.width===void 0&&b===void 0&&ye===void 0||(0,f.bI)(y),y.version++,y.versionNonce=(0,D.LU)(),y.updated=(0,W.C3)(),Ce&&((fe=d.Z.getScene(y))===null||fe===void 0||fe.informMutation())),y},ee=function(y,ce){var fe=!1;for(var Ce in ce){var ue=ce[Ce];if(ue!==void 0){if(y[Ce]===ue&&((0,w.Z)(ue)!=="object"||ue===null))continue;fe=!0}}return fe?R(R(R({},y),ce),{},{updated:(0,W.C3)(),version:y.version+1,versionNonce:(0,D.LU)()}):y},le=function(y,ce){return y.version=(ce??y.version)+1,y.versionNonce=(0,D.LU)(),y.updated=(0,W.C3)(),y}},2791:function(me,Q,e){e.d(Q,{JZ:function(){return h},KE:function(){return a},N_:function(){return c},OL:function(){return l},Sy:function(){return S},Up:function(){return G},VL:function(){return u},_N:function(){return X},vw:function(){return t},y8:function(){return n}});var w=e(6655),g=e(2577),f=e(7169),d=e(2726),x=e(6340),D=e(6954),W=e(1935),i=e(242),R=e(1047),B=e(6552),ee=e(8925),le=e(5710),y=e(2335),ce=e(1974),fe=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function Ce(C,q){var A=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!A){if(Array.isArray(C)||(A=function(F,T){if(F){if(typeof F=="string")return ue(F,T);var K=Object.prototype.toString.call(F).slice(8,-1);if(K==="Object"&&F.constructor&&(K=F.constructor.name),K==="Map"||K==="Set")return Array.from(F);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return ue(F,T)}}(C))||q&&C&&typeof C.length=="number"){A&&(C=A);var _=0,ae=function(){};return{s:ae,n:function(){return _>=C.length?{done:!0}:{done:!1,value:C[_++]}},e:function(F){throw F},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U,H=!0,j=!1;return{s:function(){A=A.call(C)},n:function(){var F=A.next();return H=F.done,F},e:function(F){j=!0,U=F},f:function(){try{H||A.return==null||A.return()}finally{if(j)throw U}}}}function ue(C,q){(q==null||q>C.length)&&(q=C.length);for(var A=0,_=new Array(q);A<q;A++)_[A]=C[A];return _}function de(C,q){var A=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);q&&(_=_.filter(function(ae){return Object.getOwnPropertyDescriptor(C,ae).enumerable})),A.push.apply(A,_)}return A}function ye(C){for(var q=1;q<arguments.length;q++){var A=arguments[q]!=null?arguments[q]:{};q%2?de(Object(A),!0).forEach(function(_){(0,f.Z)(C,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(A)):de(Object(A)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(A,_))})}return C}var b=function(C,q){var A,_,ae=q.x,U=q.y,H=q.strokeColor,j=H===void 0?y.HN.strokeColor:H,F=q.backgroundColor,T=F===void 0?y.HN.backgroundColor:F,K=q.fillStyle,ie=K===void 0?y.HN.fillStyle:K,M=q.strokeWidth,O=M===void 0?y.HN.strokeWidth:M,z=q.strokeStyle,p=z===void 0?y.HN.strokeStyle:z,E=q.roughness,v=E===void 0?y.HN.roughness:E,Z=q.opacity,P=Z===void 0?y.HN.opacity:Z,oe=q.width,se=oe===void 0?0:oe,N=q.height,ge=N===void 0?0:N,he=q.angle,be=he===void 0?0:he,Se=q.groupIds,Y=Se===void 0?[]:Se,we=q.roundness,te=we===void 0?null:we,_e=q.boundElements,Le=_e===void 0?null:_e,ze=q.link,He=ze===void 0?null:ze,Fe=q.locked,Pe=Fe===void 0?y.HN.locked:Fe,J=(0,d.Z)(q,fe);return{id:J.id||(0,D.kb)(),type:C,x:ae,y:U,width:se,height:ge,angle:be,strokeColor:j,backgroundColor:T,fillStyle:ie,strokeWidth:O,strokeStyle:p,roughness:v,opacity:P,groupIds:Y,roundness:te,seed:(A=J.seed)!==null&&A!==void 0?A:(0,D.LU)(),version:J.version||1,versionNonce:(_=J.versionNonce)!==null&&_!==void 0?_:0,isDeleted:!1,boundElements:Le,updated:(0,x.C3)(),link:He,locked:Pe}},G=function(C){return b(C.type,C)},m=function(C,q){return{x:C.textAlign==="center"?q.width/2:C.textAlign==="right"?q.width:0,y:C.verticalAlign==="middle"?q.height/2:0}},u=function(C){var q=C.fontFamily||y.rk,A=C.fontSize||y.n5,_=C.lineHeight||(0,le.PT)(q),ae=(0,le.bG)(C.text),U=(0,le.X1)(ae,(0,x.mO)({fontFamily:q,fontSize:A}),_),H=C.textAlign||y.Hg,j=C.verticalAlign||y.hs,F=m({textAlign:H,verticalAlign:j},U);return(0,W.BE)(ye(ye({},b("text",C)),{},{text:ae,fontSize:A,fontFamily:q,textAlign:H,verticalAlign:j,x:C.x-F.x,y:C.y-F.y,width:U.width,height:U.height,baseline:U.baseline,containerId:C.containerId||null,originalText:ae,lineHeight:_}),{})},I=function(C,q){var A,_,ae=(0,le.tl)(C),U=(0,le.X1)(q,(0,x.mO)(C),C.lineHeight),H=U.width,j=U.height,F=U.baseline,T=C.textAlign,K=C.verticalAlign;if(T!=="center"||K!==y.oX.MIDDLE||C.containerId){var ie=(0,R.qf)(C),M=(0,g.Z)(ie,4),O=M[0],z=M[1],p=M[2],E=M[3],v=(0,ee.wC)(C,H,j,!1),Z=(0,g.Z)(v,4),P=(O-Z[0])/2,oe=(z-Z[1])/2,se=(p-Z[2])/2,N=(E-Z[3])/2,ge=(0,B.yq)({s:!0,e:T==="center"||T==="left",w:T==="center"||T==="right"},C.x,C.y,C.angle,P,oe,se,N),he=(0,g.Z)(ge,2);A=he[0],_=he[1]}else{var be=(0,le.X1)(C.text,(0,x.mO)(C),C.lineHeight),Se=m(C,{width:H-be.width,height:j-be.height});A=C.x-Se.x,_=C.y-Se.y}if(ae){var Y=(0,le.S)(C),we=(0,le.HE)(ae),te=we.height,_e=we.width;j>te-2*Y&&(te=j+2*Y),H>_e-2*Y&&(_e=H+2*Y),(0,ce.Yv)(ae)||te===we.height&&_e===we.width||(0,W.DR)(ae,{height:te,width:_e})}return{width:H,height:j,baseline:F,x:Number.isFinite(A)?A:C.x,y:Number.isFinite(_)?_:C.y}},h=function(C){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C.text;if(!C.isDeleted){var A=(0,le.tl)(C);A&&(q=(0,le.lD)(q,(0,x.mO)(C),(0,le.jd)(A)));var _=I(C,q);return ye({text:q},_)}},c=function(C,q){q.text;var A=q.isDeleted,_=q.originalText;return(0,W.BE)(C,ye({originalText:_,isDeleted:A??C.isDeleted},h(C,_)))},a=function(C){return ye(ye({},b(C.type,C)),{},{points:C.points||[],pressures:[],simulatePressure:C.simulatePressure,lastCommittedPoint:null})},n=function(C){return ye(ye({},b(C.type,C)),{},{points:C.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:C.startArrowhead,endArrowhead:C.endArrowhead})},t=function(C){var q,A,_;return ye(ye({},b("image",C)),{},{strokeColor:"transparent",status:(q=C.status)!==null&&q!==void 0?q:"pending",fileId:(A=C.fileId)!==null&&A!==void 0?A:null,scale:(_=C.scale)!==null&&_!==void 0?_:[1,1]})},o=function C(q){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(q==null||(0,w.Z)(q)!=="object")return q;var _=Object.prototype.toString.call(q);if(_==="[object Object]"){var ae=typeof q.constructor=="function"?Object.create(Object.getPrototypeOf(q)):{};for(var U in q)if(q.hasOwnProperty(U)){if(A===0&&(U==="shape"||U==="canvas"))continue;ae[U]=C(q[U],A+1)}return ae}if(Array.isArray(q)){for(var H=q.length,j=new Array(H);H--;)j[H]=C(q[H],A+1);return j}return q},l=function(C){return o(C)},s=function(C){if((0,x.h2)()&&C){var q,A,_="".concat(C,"_copy");return(q=window.h)!==null&&q!==void 0&&(A=q.app)!==null&&A!==void 0&&A.getSceneElementsIncludingDeleted().find(function(ae){return ae.id===_})&&(_+="_copy"),_}return(0,D.kb)()},S=function(C,q,A,_){var ae=l(A);return ae.id=s(ae.id),ae.boundElements=null,ae.updated=(0,x.C3)(),ae.seed=(0,D.LU)(),ae.groupIds=(0,i.Qy)(ae.groupIds,C,function(U){return q.has(U)||q.set(U,s(U)),q.get(U)}),_&&(ae=Object.assign(ae,_)),ae},X=function(C){var q,A=[],_=(0,x.xn)(C),ae=new Map,U=function(O){if(ae.has(O))return ae.get(O);if(_.has(O)){var z=s(O);return ae.set(O,z),z}return null},H=new Map,j=Ce(C);try{for(j.s();!(q=j.n()).done;){var F=q.value,T=o(F);if(T.id=U(F.id),T.groupIds&&(T.groupIds=T.groupIds.map(function(O){return H.has(O)||H.set(O,s(O)),H.get(O)})),"containerId"in T&&T.containerId){var K=U(T.containerId);T.containerId=K}if("boundElements"in T&&T.boundElements&&(T.boundElements=T.boundElements.reduce(function(O,z){var p=U(z.id);return p&&O.push(ye(ye({},z),{},{id:p})),O},[])),"endBinding"in T&&T.endBinding){var ie=U(T.endBinding.elementId);T.endBinding=ie?ye(ye({},T.endBinding),{},{elementId:ie}):null}if("startBinding"in T&&T.startBinding){var M=U(T.startBinding.elementId);T.startBinding=M?ye(ye({},T.startBinding),{},{elementId:M}):null}A.push(T)}}catch(O){j.e(O)}finally{j.f()}return A}},8634:function(me,Q,e){e.d(Q,{LW:function(){return Ce},T:function(){return h},l2:function(){return G},vY:function(){return ue},xx:function(){return I}});var w=e(1930),g=e(7169),f=e(2577),d=e(2335),x=e(5001),D=e(6552),W=e(8925),i=e(1974),R=e(1935),B=e(6340),ee=e(8290),le=e(1564),y=e(5710);function ce(c,a){var n=Object.keys(c);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(c);a&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),n.push.apply(n,t)}return n}function fe(c){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(n),!0).forEach(function(t){(0,g.Z)(c,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(t){Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(n,t))})}return c}var Ce=function(c){return c>=2*Math.PI?c-2*Math.PI:c},ue=function(c,a,n,t,o,l,s,S,X,C,q){if(n.length===1){var A=(0,f.Z)(n,1)[0];return a==="rotation"?(de(A,S,X,o,c.originalElements),(0,ee.Ww)(A)):!(0,i.iB)(A)||a!=="nw"&&a!=="ne"&&a!=="sw"&&a!=="se"?a&&G(c.originalElements,s,A,a,l,S,X):(b(A,a,l,S,X),(0,ee.Ww)(A)),!0}if(n.length>1){if(a==="rotation")return u(c,n,S,X,o,C,q),!0;if(a==="nw"||a==="ne"||a==="sw"||a==="se")return m(c,n,a,l,S,X),!0}return!1},de=function(c,a,n,t,o){var l=(0,W.qf)(c),s=(0,f.Z)(l,4),S=s[0],X=s[1],C=(S+s[2])/2,q=(X+s[3])/2,A=5*Math.PI/2+Math.atan2(n-q,a-C);t&&(A+=d.ay/2,A-=A%d.ay),A=Ce(A);var _=(0,y.xB)(c);if((0,R.DR)(c,{angle:A}),_){var ae,U=(ae=le.Z.getScene(c))===null||ae===void 0?void 0:ae.getElement(_);U&&!(0,i.Yv)(c)&&(0,R.DR)(U,{angle:A})}},ye=function(c,a,n){var t=c.width;if((0,i.Xh)(c)){var o=(0,y.tl)(c);o&&(t=(0,y.jd)(o))}var l=c.fontSize*(a/t);if(l<1)return null;var s=(0,y.X1)(c.text,(0,B.mO)({fontSize:l,fontFamily:c.fontFamily}),c.lineHeight);return{size:l,baseline:s.baseline+(n-s.height)}},b=function(c,a,n,t,o){var l,s=(0,W.qf)(c),S=(0,f.Z)(s,4),X=S[0],C=S[1],q=S[2],A=S[3],_=(X+q)/2,ae=(C+A)/2,U=(0,D.U1)(t,o,_,ae,-c.angle),H=(0,f.Z)(U,2),j=H[0],F=H[1];switch(a){case"se":l=Math.max((j-X)/(q-X),(F-C)/(A-C));break;case"nw":l=Math.max((q-j)/(q-X),(A-F)/(A-C));break;case"ne":l=Math.max((j-X)/(q-X),(A-F)/(A-C));break;case"sw":l=Math.max((q-j)/(q-X),(F-C)/(A-C))}if(l>0){var T=c.width*l,K=c.height*l,ie=ye(c,T,K);if(ie===null)return;var M=(0,W.wC)(c,T,K,!1),O=(0,f.Z)(M,4),z=(X-O[0])/2,p=(C-O[1])/2,E=(q-O[2])/2,v=(A-O[3])/2,Z=(0,D.yq)(function(N,ge){return{n:/^(n|ne|nw)$/.test(N)||ge&&/^(s|se|sw)$/.test(N),s:/^(s|se|sw)$/.test(N)||ge&&/^(n|ne|nw)$/.test(N),w:/^(w|nw|sw)$/.test(N)||ge&&/^(e|ne|se)$/.test(N),e:/^(e|ne|se)$/.test(N)||ge&&/^(w|nw|sw)$/.test(N)}}(a,n),c.x,c.y,c.angle,z,p,E,v),P=(0,f.Z)(Z,2),oe=P[0],se=P[1];(0,R.DR)(c,{fontSize:ie.size,width:T,height:K,baseline:ie.baseline,x:oe,y:se})}},G=function(c,a,n,t,o,l,s){var S=c.get(n.id),X=(0,W.wC)(S,S.width,S.height,!0),C=(0,f.Z)(X,4),q=[C[0],C[1]],A=[C[2],C[3]],_=(0,D.H5)(q,A),ae=(0,D.xj)([l,s],_,-S.angle),U=(0,W.wC)(n,n.width,n.height,!0),H=(0,f.Z)(U,4),j=H[0],F=H[1],T=H[2]-j,K=H[3]-F,ie=(A[0]-q[0])/T,M=(A[1]-q[1])/K,O={},z=(0,y.WJ)(n);t.includes("e")&&(ie=(ae[0]-q[0])/T),t.includes("s")&&(M=(ae[1]-q[1])/K),t.includes("w")&&(ie=(A[0]-ae[0])/T),t.includes("n")&&(M=(A[1]-ae[1])/K);var p=S.width,E=S.height,v=n.width*ie,Z=n.height*M;if(o&&(v=2*v-p,Z=2*Z-E),a){var P=Math.abs(v)/p,oe=Math.abs(Z)/E;if(t.length===1&&(Z*=P,v*=oe),t.length===2){var se=Math.max(P,oe);v=p*se*Math.sign(v),Z=E*se*Math.sign(Z)}}if(z){var N=c.get(z.id);if(N&&(O={fontSize:N.fontSize,baseline:N.baseline}),a){var ge=fe(fe({},n),{},{width:v,height:Z}),he=ye(z,(0,y.jd)(ge),(0,y.N2)(ge));if(he===null)return;O={fontSize:he.size,baseline:he.baseline}}else{var be=(0,y.AT)((0,B.mO)(z),z.lineHeight),Se=(0,y.w_)(z.fontSize,z.lineHeight);v=Math.ceil(Math.max(v,be)),Z=Math.ceil(Math.max(Z,Se))}}var Y=(0,W.wC)(S,v,Z,!0),we=(0,f.Z)(Y,4),te=we[0],_e=we[1],Le=we[2],ze=we[3],He=Le-te,Fe=ze-_e,Pe=[].concat(q);if(["n","w","nw"].includes(t)&&(Pe=[A[0]-Math.abs(He),A[1]-Math.abs(Fe)]),t==="ne"){var J=[q[0],A[1]];Pe=[J[0],J[1]-Math.abs(Fe)]}if(t==="sw"){var ve=[A[0],q[1]];Pe=[ve[0]-Math.abs(He),ve[1]]}a&&(["s","n"].includes(t)&&(Pe[0]=_[0]-He/2),["e","w"].includes(t)&&(Pe[1]=_[1]-Fe/2)),v<0&&(t.includes("e")&&(Pe[0]-=Math.abs(He)),t.includes("w")&&(Pe[0]+=Math.abs(He))),Z<0&&(t.includes("s")&&(Pe[1]-=Math.abs(Fe)),t.includes("n")&&(Pe[1]+=Math.abs(Fe))),o&&(Pe[0]=_[0]-Math.abs(He)/2,Pe[1]=_[1]-Math.abs(Fe)/2);var xe,Ie,De=S.angle,Ze=(0,D.xj)(Pe,_,De),Re=[Pe[0]+Math.abs(He)/2,Pe[1]+Math.abs(Fe)/2],Ue=(0,D.xj)(Re,_,De);Pe=(0,D.xj)(Ze,Ue,-De),((0,i.bt)(n)||(0,i.F9)(n))&&(xe=(0,x.z)(1,Z,S.points,!0),Ie=(0,x.z)(0,v,xe,!0));var Ke=(0,w.Z)(Pe);Ke[0]+=S.x-te,Ke[1]+=S.y-_e;var Ye={width:Math.abs(v),height:Math.abs(Z),x:Ke[0],y:Ke[1],points:Ie};"scale"in n&&"scale"in S&&(0,R.DR)(n,{scale:[(Math.sign(Le-S.x)||S.scale[0])*S.scale[0],(Math.sign(ze-S.y)||S.scale[1])*S.scale[1]]}),Ye.width!==0&&Ye.height!==0&&Number.isFinite(Ye.x)&&Number.isFinite(Ye.y)&&((0,ee.Ww)(n,{newSize:{width:Ye.width,height:Ye.height}}),(0,R.DR)(n,Ye),z&&O!=null&&(0,R.DR)(z,{fontSize:O.fontSize,baseline:O.baseline}),(0,y.RB)(n,t))},m=function(c,a,n,t,o,l){var s=a.reduce(function(p,E){var v=c.originalElements.get(E.id);return v&&p.push({orig:v,latest:E}),p},[]),S=(0,W.v2)(s.map(function(p){return p.orig})),X=S.minX,C=S.minY,q=S.maxX,A=S.maxY,_=S.midX,ae=S.midY,U=n,H=t?[_,ae]:{ne:[X,A],se:[X,C],sw:[q,C],nw:[q,A]}[U],j=(0,f.Z)(H,2),F=j[0],T=j[1],K={ne:[o>=F,l<=T],se:[o>=F,l>=T],sw:[o<=F,l>=T],nw:[o<=F,l<=T]}[U].map(function(p){return p?1:-1}),ie=(0,f.Z)(K,2),M=ie[0],O=ie[1];if(!(M<0&&O<0)){var z=Math.max(M*Math.abs(o-F)/(q-X),O*Math.abs(l-T)/(A-C))*(t?2:1);z!==0&&s.forEach(function(p){var E=p.orig.width*z,v=p.orig.height*z,Z=F+(p.orig.x-F)*z,P=T+(p.orig.y-T)*z,oe=function(Se,Y,we,te){return(0,i.bt)(Se)||(0,i.F9)(Se)?{points:(0,x.z)(0,Y,(0,x.z)(1,we,Se.points,te),te)}:{}}(p.orig,E,v,!1),se=fe({width:E,height:v,x:Z,y:P},oe),N=null,ge=(0,y.WJ)(p.latest);if(ge||(0,i.iB)(p.orig)){var he=fe(fe({},p.latest),{},{width:E,height:v}),be=ye(ge??p.orig,ge?(0,y.jd)(he):he.width,ge?(0,y.N2)(he):he.height);if(!be)return;(0,i.iB)(p.orig)&&(se.fontSize=be.size,se.baseline=be.baseline),ge&&(N={fontSize:be.size,baseline:be.baseline})}(0,ee.Ww)(p.latest,{newSize:{width:E,height:v}}),(0,R.DR)(p.latest,se),ge&&N&&((0,R.DR)(ge,N),(0,y.RB)(p.latest,n))})}},u=function(c,a,n,t,o,l,s){var S=5*Math.PI/2+Math.atan2(t-s,n-l);o&&(S+=d.ay/2,S-=S%d.ay),a.forEach(function(X){var C,q,A=(0,W.qf)(X),_=(0,f.Z)(A,4),ae=_[0],U=_[1],H=(ae+_[2])/2,j=(U+_[3])/2,F=(C=(q=c.originalElements.get(X.id))===null||q===void 0?void 0:q.angle)!==null&&C!==void 0?C:X.angle,T=(0,D.U1)(H,j,l,s,S+F-X.angle),K=(0,f.Z)(T,2),ie=K[0],M=K[1];(0,R.DR)(X,{x:X.x+(ie-H),y:X.y+(M-j),angle:Ce(S+F)});var O=(0,y.xB)(X);if(O){var z,p=(z=le.Z.getScene(X))===null||z===void 0?void 0:z.getElement(O);p&&!(0,i.Yv)(X)&&(0,R.DR)(p,{x:p.x+(ie-H),y:p.y+(M-j),angle:Ce(S+F)})}})},I=function(c,a,n,t){var o=a.length===1?(0,W.qf)(a[0]):(0,W.KP)(a),l=(0,f.Z)(o,4),s=l[0],S=l[1],X=l[2],C=l[3],q=(s+X)/2,A=(S+C)/2,_=a.length===1?a[0].angle:0,ae=(0,D.U1)(n,t,q,A,-_),U=(0,f.Z)(ae,2);switch(n=U[0],t=U[1],c){case"n":return(0,D.U1)(n-(s+X)/2,t-S,0,0,_);case"s":return(0,D.U1)(n-(s+X)/2,t-C,0,0,_);case"w":return(0,D.U1)(n-s,t-(S+C)/2,0,0,_);case"e":return(0,D.U1)(n-X,t-(S+C)/2,0,0,_);case"nw":return(0,D.U1)(n-s,t-S,0,0,_);case"ne":return(0,D.U1)(n-X,t-S,0,0,_);case"sw":return(0,D.U1)(n-s,t-C,0,0,_);case"se":return(0,D.U1)(n-X,t-C,0,0,_);default:return[0,0]}},h=function(c,a){var n=(0,f.Z)(a.points,2),t=(0,f.Z)(n[1],2),o=t[0],l=t[1];return c==="nw"&&(o<0||l<0)||c==="ne"&&o>=0||c==="sw"&&o<=0||c==="se"&&(o>0||l>0)?"end":"origin"}},5710:function(me,Q,e){e.d(Q,{$2:function(){return a},AT:function(){return q},FE:function(){return I},HE:function(){return H},H_:function(){return T},N2:function(){return Z},NS:function(){return E},OW:function(){return O},P7:function(){return m},PT:function(){return se},R8:function(){return c},RB:function(){return u},Rg:function(){return n},S:function(){return K},TP:function(){return j},WJ:function(){return ae},X1:function(){return h},Zr:function(){return p},aV:function(){return M},bG:function(){return ye},cn:function(){return ie},cw:function(){return F},eB:function(){return P},jd:function(){return v},lD:function(){return S},mY:function(){return l},oN:function(){return G},tl:function(){return U},w_:function(){return t},xB:function(){return _}});var w,g=e(2577),f=e(1930),d=e(7169),x=e(6340),D=e(1935),W=e(2335),i=e(1564),R=e(1047),B=e(1974),ee=e(6938),le=e(75),y=e(2325),ce=e(6906);function fe(N,ge){var he=Object.keys(N);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(N);ge&&(be=be.filter(function(Se){return Object.getOwnPropertyDescriptor(N,Se).enumerable})),he.push.apply(he,be)}return he}function Ce(N){for(var ge=1;ge<arguments.length;ge++){var he=arguments[ge]!=null?arguments[ge]:{};ge%2?fe(Object(he),!0).forEach(function(be){(0,d.Z)(N,be,he[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(he)):fe(Object(he)).forEach(function(be){Object.defineProperty(N,be,Object.getOwnPropertyDescriptor(he,be))})}return N}var ue,de,ye=function(N){return N.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},b=function(N){return ye(N).split(`
`)},G=function(N,ge){var he=void 0,be={x:N.x,y:N.y,text:N.text,width:N.width,height:N.height,baseline:N.baseline};be.text=N.text,ge&&(he=v(ge),be.text=S(N.originalText,(0,x.mO)(N),he));var Se=h(be.text,(0,x.mO)(N),N.lineHeight);if(be.width=Se.width,be.height=Se.height,be.baseline=Se.baseline,ge)if((0,B.Yv)(ge)){var Y=N.x+N.width/2,we=N.y+N.height/2,te=Se.width-N.width,_e=Se.height-N.height;be.x=we-(N.height+_e)/2,be.y=Y-(N.width+te)/2}else{var Le=H(ge),ze=Z(ge),He=Le.height;Se.height>ze&&(He=E(Se.height,ge.type),(0,D.DR)(ge,{height:He}),ze=Z(ge),(0,ce.h_)(ge.id,He));var Fe=Ce(Ce({},N),be),Pe=I(ge,Fe),J=Pe.x,ve=Pe.y;be.x=J,be.y=ve}(0,D.DR)(N,be)},m=function(N,ge,he){var be=(0,x.xn)(N);ge.forEach(function(Se){var Y=he.get(Se.id),we=_(Se);if(we){var te=he.get(we);if(te){var _e=be.get(Y);_e&&(0,D.DR)(_e,{boundElements:(Se.boundElements||[]).filter(function(ze){return ze.id!==te&&ze.id!==we}).concat({type:"text",id:te})});var Le=be.get(te);Le&&(0,R.iB)(Le)&&(0,D.DR)(Le,{containerId:_e?Y:null})}}})},u=function(N,ge){var he=_(N);if(he){(0,ce.kT)(N.id);var be=i.Z.getScene(N).getElement(he);if(be&&be.text){if(!N)return;var Se=(be=i.Z.getScene(N).getElement(he)).text,Y=be.height,we=be.width,te=H(N),_e=v(N),Le=Z(N),ze=te.height,He=be.baseline;if(ge!=="n"&&ge!=="s"){Se&&(Se=S(be.originalText,(0,x.mO)(be),_e));var Fe=h(Se,(0,x.mO)(be),be.lineHeight);Y=Fe.height,we=Fe.width,He=Fe.baseline}if(Y>Le){var Pe=(ze=E(Y,N.type))-te.height,J=(0,B.Yv)(N)||ge!=="ne"&&ge!=="nw"&&ge!=="n"?N.y:N.y-Pe;(0,D.DR)(N,{height:ze,y:J})}(0,D.DR)(be,{text:Se,width:we,height:Y,baseline:He}),(0,B.Yv)(N)||(0,D.DR)(be,I(N,be))}}},I=function(N,ge){if((0,B.Yv)(N))return ee._.getBoundTextElementPosition(N,ge);var he,be=F(N),Se=Z(N),Y=v(N);return he=ge.verticalAlign===W.oX.TOP?be.y:ge.verticalAlign===W.oX.BOTTOM?be.y+(Se-ge.height):be.y+(Se/2-ge.height/2),{x:ge.textAlign===W.I8.LEFT?be.x:ge.textAlign===W.I8.RIGHT?be.x+(Y-ge.width):be.x+(Y/2-ge.width/2),y:he}},h=function(N,ge,he){N=N.split(`
`).map(function(Y){return Y||" "}).join(`
`);var be=parseFloat(ge),Se=s(N,be,he);return{width:l(N,ge),height:Se,baseline:c(N,ge,he)}},c=function(N,ge,he,be){var Se=document.createElement("div");Se.style.position="absolute",Se.style.whiteSpace="pre",Se.style.font=ge,Se.style.minHeight="1em",be&&(Se.style.overflow="hidden",Se.style.wordBreak="break-word",Se.style.whiteSpace="pre-wrap"),Se.style.lineHeight=String(he),Se.innerText=N,document.body.appendChild(Se);var Y=document.createElement("span");Y.style.display="inline-block",Y.style.overflow="hidden",Y.style.width="1px",Y.style.height="1px",Se.appendChild(Y);var we=Y.offsetTop+Y.offsetHeight,te=Se.offsetHeight;if(W.G6){var _e=s(N,parseFloat(ge),he),Le=parseFloat(ge),ze=s(N,Math.round(Le),he);_e>te&&(we+=_e-ze),te>_e&&(we-=ze-_e)}return document.body.removeChild(Se),we},a=function(N){var ge=b(N.text).length;return N.height/ge/N.fontSize},n=function(N,ge){return N*ge},t=function(N,ge){return n(N,ge)+2*W.gK},o=function(N,ge){ue||(ue=document.createElement("canvas"));var he=ue.getContext("2d");he.font=ge;var be=he.measureText(N).width;return(0,x.h2)()?10*be:be},l=function(N,ge){var he=b(N),be=0;return he.forEach(function(Se){be=Math.max(be,o(Se,ge))}),be},s=function(N,ge,he){var be=b(N).length;return n(ge,he)*be},S=function(N,ge,he){if(!Number.isFinite(he)||he<0)return N;var be=[],Se=N.split(`
`),Y=o(" ",ge),we="",te=0,_e=function(ze){ze.trim()&&be.push(ze)},Le=function(){we="",te=0};return Se.forEach(function(ze){if(l(ze,ge)<=he)be.push(ze);else{var He=function(De){var Ze=De.split("-");return Ze.length>1&&Ze.forEach(function(Re,Ue){Ue!==Ze.length-1&&(Ze[Ue]=Re+="-")}),Ze.join(" ").split(" ")}(ze);Le();for(var Fe=0;Fe<He.length;){var Pe=o(He[Fe],ge);if(Pe===he)_e(He[Fe]),Fe++;else if(Pe>he){for(_e(we),Le();He[Fe].length>0;){var J=String.fromCodePoint(He[Fe].codePointAt(0)),ve=X.calculate(J,ge);te+=ve,He[Fe]=He[Fe].slice(J.length),te>=he?(_e(we),we=J,te=ve):we+=J}te+Y>=he?(_e(we),Le()):we.endsWith("-")||(we+=" ",te+=Y),Fe++}else for(;te<he&&Fe<He.length;){var xe=He[Fe];if((te=o(we+xe,ge))>he){_e(we),Le();break}Fe++;var Ie=!xe.endsWith("-");if(we+=xe,Ie&&(we+=" "),te+Y>=he){Ie?be.push(we.slice(0,-1)):be.push(we),Le();break}}}we.slice(-1)===" "&&(we=we.slice(0,-1),_e(we))}}),be.join(`
`)},X=(de={},{calculate:function(N,ge){var he=N.charCodeAt(0);if(de[ge]||(de[ge]=[]),!de[ge][he]){var be=o(N,ge);de[ge][he]=be}return de[ge][he]},getCache:function(N){return de[N]}}),C="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),q=function(N,ge){var he=A(N);return he===0?h(C.split("").join(`
`),N,ge).width+2*W.gK:he+2*W.gK},A=function(N){var ge=X.getCache(N);if(!ge)return 0;var he=ge.filter(function(be){return be!==void 0});return Math.max.apply(Math,(0,f.Z)(he))},_=function(N){var ge,he,be;return N!=null&&(ge=N.boundElements)!==null&&ge!==void 0&&ge.length&&(N==null||(he=N.boundElements)===null||he===void 0||(be=he.filter(function(Se){return Se.type==="text"})[0])===null||be===void 0?void 0:be.id)||null},ae=function(N){if(!N)return null;var ge,he=_(N);return he&&((ge=i.Z.getScene(N))===null||ge===void 0?void 0:ge.getElement(he))||null},U=function(N){return N&&N.containerId&&((ge=i.Z.getScene(N))===null||ge===void 0?void 0:ge.getElement(N.containerId))||null;var ge},H=function(N){return(0,B.Yv)(N)?{width:Math.max(N.width,300),height:N.height}:{width:N.width,height:N.height}},j=function(N,ge){if(!(0,B.Yv)(N))return{x:N.x+N.width/2,y:N.y+N.height/2};var he=ee._.getPointsGlobalCoordinates(N);if(he.length%2==1){var be=Math.floor(N.points.length/2),Se=ee._.getPointGlobalCoordinates(N,N.points[be]);return{x:Se[0],y:Se[1]}}var Y=N.points.length/2-1,we=ee._.getEditorMidPoints(N,ge)[Y];return we||(we=ee._.getSegmentMidPoint(N,he[Y],he[Y+1],Y+1)),{x:we[0],y:we[1]}},F=function(N){var ge=W.gK,he=W.gK;return N.type==="ellipse"&&(ge+=N.width/2*(1-Math.sqrt(2)/2),he+=N.height/2*(1-Math.sqrt(2)/2)),N.type==="diamond"&&(ge+=N.width/4,he+=N.height/4),{x:N.x+ge,y:N.y+he}},T=function(N){var ge=U(N);return!ge||(0,B.Yv)(ge)?N.angle:ge.angle},K=function(N){var ge=U(N);return ge&&N?(0,B.Yv)(ge)?8*W.gK:W.gK:0},ie=function(N){return N.some(function(ge){if((0,B.Xh)(ge)){var he=U(ge);return!(0,R.iB)(ge)||!(0,B.Yv)(he)}return!1})},M=function(N){return N.some(function(ge){if((0,B.Xh)(ge)){var he=U(ge);return!(0,R.iB)(ge)||!(0,B.Yv)(he)}return(0,R.iB)(ge)})},O=function(N,ge,he,be){var Se=(0,le.eD)(N,ge);if(Se.length===1)return(0,B.mG)(Se[0],!1)?Se[0]:null;for(var Y=null,we=N.length-1;we>=0;--we)if(!N[we].isDeleted){var te=(0,R.qf)(N[we]),_e=(0,g.Z)(te,4),Le=_e[0],ze=_e[1],He=_e[2],Fe=_e[3];if((0,B.Yv)(N[we])&&(0,y.Qu)(N[we],ge,[he,be])){Y=N[we];break}if(Le<he&&he<He&&ze<be&&be<Fe){Y=N[we];break}}return(0,B.mG)(Y,!1)?Y:null},z=new Set(["rectangle","ellipse","diamond","image","arrow"]),p=function(N){return z.has(N.type)},E=function(N,ge){N=Math.ceil(N);var he=2*W.gK;return ge==="ellipse"?Math.round((N+he)/Math.sqrt(2)*2):ge==="arrow"?N+8*he:ge==="diamond"?2*(N+he):N+he},v=function(N){var ge=H(N).width;if((0,B.Yv)(N)){var he=ge-8*W.gK*2;if(he<=0){var be=ae(N);return be?be.width:8*W.gK*2}return he}return N.type==="ellipse"?Math.round(ge/2*Math.sqrt(2))-2*W.gK:N.type==="diamond"?Math.round(ge/2)-2*W.gK:ge-2*W.gK},Z=function(N){var ge=H(N).height;if((0,B.Yv)(N)){if(ge-8*W.gK*2<=0){var he=ae(N);return he?he.height:8*W.gK*2}return ge}return N.type==="ellipse"?Math.round(ge/2*Math.sqrt(2))-2*W.gK:N.type==="diamond"?Math.round(ge/2)-2*W.gK:ge-2*W.gK},P=function(){return l(C,(0,x.mO)({fontSize:W.n5,fontFamily:W.rk}))>0},oe=(w={},(0,d.Z)(w,W.ut.Virgil,1.25),(0,d.Z)(w,W.ut.Helvetica,1.15),(0,d.Z)(w,W.ut.Cascadia,1.2),w),se=function(N){return N in oe?oe[N]:oe[W.rk]}},6906:function(me,Q,e){e.d(Q,{b_:function(){return I},eR:function(){return u},h_:function(){return G},kT:function(){return m}});var w=e(8950),g=e(7169),f=e(2577),d=e(2975),x=e.n(d),D=e(6066),W=e(6340),i=e(1564),R=e(1974),B=e(2335),ee=e(1935),le=e(5710),y=e(6208),ce=e(2416),fe=e(6938),Ce=e(6665);function ue(h,c){var a=Object.keys(h);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(h);c&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(h,t).enumerable})),a.push.apply(a,n)}return a}function de(h){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?arguments[c]:{};c%2?ue(Object(a),!0).forEach(function(n){(0,g.Z)(h,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach(function(n){Object.defineProperty(h,n,Object.getOwnPropertyDescriptor(a,n))})}return h}var ye=function(h,c,a,n,t,o){var l=n.zoom,s=180*a/Math.PI,S=h*(l.value-1)/2,X=c*(l.value-1)/2;return h>t&&l.value!==1&&(S=t*(l.value-1)/2),c>o&&l.value!==1&&(X=o*(l.value-1)/2),"translate(".concat(S,"px, ").concat(X,"px) scale(").concat(l.value,") rotate(").concat(s,"deg)")},b={},G=function(h,c){var a=b[h]||(b[h]={height:c});return a.height=c,a},m=function(h){b[h]&&delete b[h]},u=function(h){var c,a;return(c=(a=b[h])===null||a===void 0?void 0:a.height)!==null&&c!==void 0?c:null},I=function(h){var c=h.id,a=h.onChange,n=h.onSubmit,t=h.getViewportCoords,o=h.element,l=h.canvas,s=h.excalidrawContainer,S=h.app,X=function(){var v,Z=S.state,P=(v=i.Z.getScene(o))===null||v===void 0?void 0:v.getElement(c);if(P){var oe=P.textAlign,se=P.verticalAlign;if(P&&(0,R.iB)(P)){var N=P.x,ge=P.y,he=(0,le.tl)(P),be=P.width,Se=P.height,Y=P.width,we=P.height;if(he&&P.containerId){if((0,R.Yv)(he)){var te=fe._.getBoundTextElementPosition(he,P);N=te.x,ge=te.y}var _e,Le=function(ht,ot){if(!ot.style.fontFamily||!ot.style.fontSize)return!1;var et=ot.style.fontFamily.replace(/"/g,"");return(0,W.$g)({fontFamily:ht.fontFamily})!==et||"".concat(ht.fontSize,"px")!==ot.style.fontSize}(P,C),ze=(0,le.HE)(he),He=Number(C.style.height.slice(0,-2));if(He>0&&(we=He),Le&&(we=P.height),Le?_e=G(he.id,ze.height):(_e=b[he.id])||(_e=G(he.id,ze.height)),be=(0,le.jd)(he),Se=(0,le.N2)(he),!(0,R.Yv)(he)&&we>Se){var Fe=(0,le.NS)(we,he.type);return void(0,ee.DR)(he,{height:Fe})}if(!(0,R.Yv)(he)&&ze.height>_e.height&&we<Se){var Pe=(0,le.NS)(we,he.type);(0,ee.DR)(he,{height:Pe})}else{var J=(0,le.cw)(he);se===B.oX.MIDDLE&&((0,R.Yv)(he)||(ge=J.y+Se/2-we/2)),se===B.oX.BOTTOM&&(ge=J.y+(Se-we))}}var ve=t(N,ge),xe=(0,f.Z)(ve,2),Ie=xe[0],De=xe[1],Ze=C.selectionStart,Re=C.selectionEnd,Ue=C.value.length;if(C.value=P.originalText,Ze===Re&&Re!==Ue){var Ke=Ue-Re;C.selectionStart=C.value.length-Ke,C.selectionEnd=C.value.length-Ke}he?Y+=.5:(be=(Z.width-8-Ie)/Z.zoom.value,Y=Math.min(Y,be));var Ye=P.lineHeight;B.G6&&(Ye=(0,le.$2)(de(de({},P),{},{fontSize:Math.round(P.fontSize)})));var lt=(Z.height-De)/Z.zoom.value;Object.assign(C.style,{font:(0,W.mO)(P),lineHeight:Ye,width:"".concat(Y,"px"),height:"".concat(we,"px"),left:"".concat(Ie,"px"),top:"".concat(De,"px"),transform:ye(Y,we,(0,le.H_)(P),Z,be,lt),textAlign:oe,verticalAlign:se,color:P.strokeColor,opacity:P.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(lt,"px")}),C.scrollTop=0,(0,W.h2)()&&(C.style.fontFamily=(0,W.$g)(P)),(0,ee.DR)(P,{x:N,y:ge})}}},C=document.createElement("textarea");C.dir="auto",C.tabIndex=0,C.dataset.type="wysiwyg",C.wrap="off",C.classList.add("excalidraw-wysiwyg");var q="pre",A="normal";(0,R.Xh)(o)&&(q="pre-wrap",A="break-word"),Object.assign(C.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:A,whiteSpace:q,overflowWrap:"break-word",boxSizing:"content-box"}),X(),a&&(C.onpaste=function(){var v=(0,w.Z)(x().mark(function Z(P){var oe,se,N,ge,he,be;return x().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,Ce.mQ)(P,!0);case 2:if((oe=Se.sent).text){Se.next=5;break}return Se.abrupt("return");case 5:if(se=(0,le.bG)(oe.text)){Se.next=8;break}return Se.abrupt("return");case 8:N=(0,le.tl)(o),ge=(0,W.mO)({fontSize:S.state.currentItemFontSize,fontFamily:S.state.currentItemFontFamily}),N&&(he=(0,le.lD)("".concat(C.value).concat(se),ge,(0,le.jd)(N)),be=(0,le.mY)(he,ge),C.style.width="".concat(be,"px"));case 11:case"end":return Se.stop()}},Z)}));return function(Z){return v.apply(this,arguments)}}(),C.oninput=function(){var v,Z=(v=i.Z.getScene(o))===null||v===void 0?void 0:v.getElement(c),P=(0,W.mO)(Z);if((0,R.Xh)(o)){var oe=(0,le.tl)(o),se=(0,le.lD)((0,le.bG)(C.value),P,(0,le.jd)(oe)),N=(0,le.X1)(se,P,Z.lineHeight),ge=N.width,he=N.height;C.style.width="".concat(ge,"px"),C.style.height="".concat(he,"px")}a((0,le.bG)(C.value))}),C.onkeydown=function(v){if(!v.shiftKey&&ce.Lo.keyTest(v))v.preventDefault(),S.actionManager.executeAction(ce.Lo),X();else if(!v.shiftKey&&ce.CZ.keyTest(v))v.preventDefault(),S.actionManager.executeAction(ce.CZ),X();else if(y.Tu.keyTest(v))S.actionManager.executeAction(y.Tu);else if(y.Zq.keyTest(v))S.actionManager.executeAction(y.Zq);else if(v.key===D.tW.ESCAPE)v.preventDefault(),T=!0,K();else if(v.key===D.tW.ENTER&&v[D.tW.CTRL_OR_CMD]){if(v.preventDefault(),v.isComposing||v.keyCode===229)return;T=!0,K()}else if(v.key===D.tW.TAB||v[D.tW.CTRL_OR_CMD]&&(v.code===D.aU.BRACKET_LEFT||v.code===D.aU.BRACKET_RIGHT)){if(v.preventDefault(),v.isComposing)return;v.shiftKey||v.code===D.aU.BRACKET_LEFT?H():U(),C.dispatchEvent(new Event("input"))}};var _=" ".repeat(4),ae=new RegExp("^ {1,".concat(4,"}")),U=function(){var v=C.selectionStart,Z=C.selectionEnd,P=j(),oe=C.value;P.forEach(function(se){var N=oe.slice(0,se),ge=oe.slice(se);oe="".concat(N).concat(_).concat(ge)}),C.value=oe,C.selectionStart=v+4,C.selectionEnd=Z+4*P.length},H=function(){var v=C.selectionStart,Z=C.selectionEnd,P=j(),oe=[],se=C.value;P.forEach(function(N){var ge=se.slice(N,N+4).match(ae);if(ge){var he=se.slice(0,N),be=se.slice(N+ge[0].length);se="".concat(he).concat(be),oe.push(N)}}),C.value=se,oe.length&&(v>oe[oe.length-1]?C.selectionStart=Math.max(v-4,oe[oe.length-1]):C.selectionStart=v,C.selectionEnd=Math.max(C.selectionStart,Z-4*oe.length))},j=function(){var v=C.selectionStart,Z=C.selectionEnd,P=C.value,oe=P.slice(0,v).match(/[^\n]*$/)[0].length;return v-=oe,P.slice(v,Z).split(`
`).reduce(function(se,N,ge,he){return se.concat(ge?se[ge-1]+he[ge-1].length+1:v)},[]).reverse()},F=function(v){v.preventDefault(),v.stopPropagation()},T=!1,K=function(){var v;ie();var Z=(v=i.Z.getScene(o))===null||v===void 0?void 0:v.getElement(o.id);if(Z){var P=C.value,oe=(0,le.tl)(Z);if(oe){if(P=Z.text,C.value.trim()){var se=(0,le.xB)(oe);se&&se===o.id||(0,ee.DR)(oe,{boundElements:(oe.boundElements||[]).concat({type:"text",id:o.id})})}else{var N;(0,ee.DR)(oe,{boundElements:(N=oe.boundElements)===null||N===void 0?void 0:N.filter(function(ge){return!(0,R.iB)(ge)})})}(0,le.oN)(Z,oe)}n({text:P,viaKeyboard:T,originalText:C.value})}},ie=function(){p||(p=!0,C.onblur=null,C.oninput=null,C.onkeydown=null,E&&E.disconnect(),window.removeEventListener("resize",X),window.removeEventListener("wheel",F,!0),window.removeEventListener("pointerdown",O),window.removeEventListener("pointerup",M),window.removeEventListener("blur",K),z(),C.remove())},M=function v(Z){window.removeEventListener("pointerup",v);var P=Z==null?void 0:Z.target,oe=P instanceof HTMLInputElement&&P.closest(".color-picker-input")&&(0,W.s)(P);setTimeout(function(){C.onblur=K,P&&oe&&(P.onblur=function(){C.focus()}),oe||C.focus()})},O=function(v){var Z=v.target instanceof HTMLInputElement&&v.target.closest(".color-picker-input")&&(0,W.s)(v.target);((v.target instanceof HTMLElement||v.target instanceof SVGElement)&&v.target.closest(".".concat(B.$C.SHAPE_ACTIONS_MENU))&&!(0,W.s)(v.target)||Z)&&(C.onblur=null,window.addEventListener("pointerup",M),window.addEventListener("blur",K))},z=i.Z.getScene(o).addCallback(function(){var v;X(),!((v=document.activeElement)===null||v===void 0||!v.closest(".color-picker-input"))||C.focus()}),p=!1;C.select(),M();var E=null;l&&"ResizeObserver"in window?(E=new window.ResizeObserver(function(){X()})).observe(l):window.addEventListener("resize",X),window.addEventListener("pointerdown",O),window.addEventListener("wheel",F,{passive:!1,capture:!0}),s==null||s.querySelector(".excalidraw-textEditorContainer").appendChild(C)}},267:function(me,Q,e){e.d(Q,{PC:function(){return ce},kK:function(){return y},oY:function(){return fe},ox:function(){return i}});var w=e(2577),g=e(8925),f=e(6552),d=e(1047),x=e(1974),D=e(3547),W={mouse:8,pen:16,touch:28},i={e:!0,s:!0,n:!0,w:!0},R={e:!0,s:!0,n:!0,w:!0},B={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},ee={e:!0,s:!0,n:!0,w:!0},le=function(Ce,ue,de,ye,b,G,m){var u=(0,f.U1)(Ce+de/2,ue+ye/2,b,G,m),I=(0,w.Z)(u,2);return[I[0]-de/2,I[1]-ye/2,de,ye]},y=function(Ce,ue,de,ye){var b=(0,w.Z)(Ce,6),G=b[0],m=b[1],u=b[2],I=b[3],h=b[4],c=b[5],a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,t=W[ye],o=t/de.value,l=t/de.value,s=t/de.value,S=t/de.value,X=u-G,C=I-m,q=n/de.value,A=(t-2*D.Lu)/(2*de.value),_={nw:a.nw?void 0:le(G-q-s+A,m-q-S+A,o,l,h,c,ue),ne:a.ne?void 0:le(u+q-A,m-q-S+A,o,l,h,c,ue),sw:a.sw?void 0:le(G-q-s+A,I+q-A,o,l,h,c,ue),se:a.se?void 0:le(u+q-A,I+q-A,o,l,h,c,ue),rotation:a.rotation?void 0:le(G+X/2-o/2,m-q-S+A-16/de.value,o,l,h,c,ue)},ae=5*W.mouse/de.value;return Math.abs(X)>ae&&(a.n||(_.n=le(G+X/2-o/2,m-q-S+A,o,l,h,c,ue)),a.s||(_.s=le(G+X/2-o/2,I+q-A,o,l,h,c,ue))),Math.abs(C)>ae&&(a.w||(_.w=le(G-q-s+A,m+C/2-l/2,o,l,h,c,ue)),a.e||(_.e=le(u+q-A,m+C/2-l/2,o,l,h,c,ue))),_},ce=function(Ce,ue){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Ce.locked)return{};var ye={};if(Ce.type==="freedraw"||(0,x.bt)(Ce)){if(Ce.points.length===2){var b=(0,w.Z)(Ce.points,2),G=b[1];G[0]===0||G[1]===0?ye=ee:G[0]>0&&G[1]<0?ye=B:G[0]>0&&G[1]>0?ye=ee:G[0]<0&&G[1]>0?ye=B:G[0]<0&&G[1]<0&&(ye=ee)}}else(0,d.iB)(Ce)&&(ye=R);var m=(0,x.bt)(Ce)?D.Lu+8:D.Lu;return y((0,g.qf)(Ce,!0),Ce.angle,ue,de,ye,m)},fe=function(Ce,ue){if(ue.editingLinearElement)return!1;if(Ce.length>1)return!0;var de=Ce[0];return!(0,x.bt)(de)||de.points.length>2}},1974:function(me,Q,e){e.d(Q,{F9:function(){return x},Lx:function(){return ee},Mn:function(){return B},QI:function(){return ue},UQ:function(){return ye},Xh:function(){return Ce},Xo:function(){return fe},Yv:function(){return i},bt:function(){return W},dt:function(){return R},eK:function(){return de},f0:function(){return le},iB:function(){return d},mG:function(){return y},pC:function(){return f},r2:function(){return ce},wi:function(){return g}});var w=e(2335),g=function(b){return!!b&&b.type==="image"&&!!b.fileId},f=function(b){return!!b&&b.type==="image"},d=function(b){return b!=null&&b.type==="text"},x=function(b){return b!=null&&D(b.type)},D=function(b){return b==="freedraw"},W=function(b){return b!=null&&R(b.type)},i=function(b){return b!=null&&b.type==="arrow"},R=function(b){return b==="arrow"||b==="line"},B=function(b){var G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return b!=null&&(!b.locked||G===!0)&&ee(b.type)},ee=function(b){return b==="arrow"},le=function(b){var G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(b==null||b.locked&&G!==!0||b.type!=="rectangle"&&b.type!=="diamond"&&b.type!=="ellipse"&&b.type!=="image"&&(b.type!=="text"||b.containerId))},y=function(b){var G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return b!=null&&(!b.locked||G===!0)&&(b.type==="rectangle"||b.type==="diamond"||b.type==="ellipse"||b.type==="image"||i(b))},ce=function(b){return(b==null?void 0:b.type)==="text"||(b==null?void 0:b.type)==="diamond"||(b==null?void 0:b.type)==="rectangle"||(b==null?void 0:b.type)==="ellipse"||(b==null?void 0:b.type)==="arrow"||(b==null?void 0:b.type)==="freedraw"||(b==null?void 0:b.type)==="line"},fe=function(b){var G;return y(b)&&!((G=b.boundElements)===null||G===void 0||!G.some(function(m){return m.type==="text"}))},Ce=function(b){return b!==null&&"containerId"in b&&b.containerId!==null&&d(b)},ue=function(b){return b==="rectangle"},de=function(b,G){return!(b!==w.a6.ADAPTIVE_RADIUS&&b!==w.a6.LEGACY||!ue(G.type))||b===w.a6.PROPORTIONAL_RADIUS&&((m=G.type)==="line"||m==="arrow"||m==="diamond");var m},ye=function(b){return b.type==="arrow"||b.type==="line"||b.type==="diamond"?{type:w.a6.PROPORTIONAL_RADIUS}:b.type==="rectangle"?{type:w.a6.ADAPTIVE_RADIUS}:null}},6797:function(me,Q,e){e.d(Q,{_:function(){return le},l:function(){return ee}});var w=e(5169),g=e(8821),f=e(2248),d=e(7245),x=e(2312),D=e(5901);function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(y,ce,fe){return i=W()?Reflect.construct.bind():function(Ce,ue,de){var ye=[null];ye.push.apply(ye,ue);var b=new(Function.bind.apply(Ce,ye));return de&&(0,D.Z)(b,de.prototype),b},i.apply(null,arguments)}function R(y){var ce=typeof Map=="function"?new Map:void 0;return R=function(fe){if(fe===null||(Ce=fe,Function.toString.call(Ce).indexOf("[native code]")===-1))return fe;var Ce;if(typeof fe!="function")throw new TypeError("Super expression must either be null or a function");if(ce!==void 0){if(ce.has(fe))return ce.get(fe);ce.set(fe,ue)}function ue(){return i(fe,arguments,(0,x.Z)(this).constructor)}return ue.prototype=Object.create(fe.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),(0,D.Z)(ue,fe)},R(y)}function B(y){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,Ce=(0,x.Z)(y);if(ce){var ue=(0,x.Z)(this).constructor;fe=Reflect.construct(Ce,arguments,ue)}else fe=Ce.apply(this,arguments);return(0,d.Z)(this,fe)}}var ee=function(y){(0,f.Z)(fe,y);var ce=B(fe);function fe(){var Ce,ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,g.Z)(this,fe),(Ce=ce.call(this)).name=de,Ce.message=ue,Ce}return(0,w.Z)(fe)}(R(Error)),le=function(y){(0,f.Z)(fe,y);var ce=B(fe);function fe(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,g.Z)(this,fe),ce.call(this,Ce,"AbortError")}return(0,w.Z)(fe)}(R(DOMException))},242:function(me,Q,e){e.d(Q,{AI:function(){return m},F$:function(){return B},Fb:function(){return ue},Nd:function(){return Ce},Qy:function(){return ye},S_:function(){return b},YS:function(){return de},bO:function(){return ce},h6:function(){return G},iE:function(){return fe},iJ:function(){return y},yO:function(){return le},zq:function(){return ee}});var w=e(1930),g=e(2577),f=e(7169),d=e(75),x=e(5710);function D(u,I){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!h){if(Array.isArray(u)||(h=function(l,s){if(l){if(typeof l=="string")return W(l,s);var S=Object.prototype.toString.call(l).slice(8,-1);if(S==="Object"&&l.constructor&&(S=l.constructor.name),S==="Map"||S==="Set")return Array.from(l);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return W(l,s)}}(u))||I&&u&&typeof u.length=="number"){h&&(u=h);var c=0,a=function(){};return{s:a,n:function(){return c>=u.length?{done:!0}:{done:!1,value:u[c++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,t=!0,o=!1;return{s:function(){h=h.call(u)},n:function(){var l=h.next();return t=l.done,l},e:function(l){o=!0,n=l},f:function(){try{t||h.return==null||h.return()}finally{if(o)throw n}}}}function W(u,I){(I==null||I>u.length)&&(I=u.length);for(var h=0,c=new Array(I);h<I;h++)c[h]=u[h];return c}function i(u,I){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);I&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),h.push.apply(h,c)}return h}function R(u){for(var I=1;I<arguments.length;I++){var h=arguments[I]!=null?arguments[I]:{};I%2?i(Object(h),!0).forEach(function(c){(0,f.Z)(u,c,h[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):i(Object(h)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(h,c))})}return u}var B=function(u,I,h){var c=h.filter(function(a){return a.groupIds.includes(u)});return c.length<2?I.selectedGroupIds[u]||I.editingGroupId===u?R(R({},I),{},{selectedGroupIds:R(R({},I.selectedGroupIds),{},(0,f.Z)({},u,!1)),editingGroupId:null}):I:R(R({},I),{},{selectedGroupIds:R(R({},I.selectedGroupIds),{},(0,f.Z)({},u,!0)),selectedElementIds:R(R({},I.selectedElementIds),Object.fromEntries(c.map(function(a){return[a.id,!0]})))})},ee=function(u,I){return le(u,I)!=null},le=function(u,I){return I.groupIds.filter(function(h){return h!==u.editingGroupId}).find(function(h){return u.selectedGroupIds[h]})},y=function(u){return Object.entries(u.selectedGroupIds).filter(function(I){var h=(0,g.Z)(I,2);return h[0],h[1]}).map(function(I){var h=(0,g.Z)(I,2),c=h[0];return h[1],c})},ce=function(u,I){var h=R(R({},u),{},{selectedGroupIds:{}}),c=(0,d.eD)(I,u);if(!c.length)return R(R({},h),{},{editingGroupId:null});var a,n=D(c);try{for(n.s();!(a=n.n()).done;){var t=a.value.groupIds;if(u.editingGroupId){var o=t.indexOf(u.editingGroupId);o>-1&&(t=t.slice(0,o))}if(t.length>0){var l=t[t.length-1];h=B(l,h,I)}}}catch(s){n.e(s)}finally{n.f()}return h},fe=function(u,I){return R(R({},u),{},{editingGroupId:I.groupIds.length?I.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,f.Z)({},I.id,!0)})},Ce=function(u,I){return u.groupIds.includes(I)},ue=function(u,I){return u.filter(function(h){return Ce(h,I)})},de=function(u,I){return u.groupIds.find(function(h){return I[h]})},ye=function(u,I,h){for(var c=(0,w.Z)(u),a=I?u.indexOf(I):-1,n=a>-1?a:u.length,t=0;t<n;t++)c[t]=h(c[t]);return c},b=function(u,I,h){var c=(0,w.Z)(u),a=h?c.indexOf(h):-1,n=a>-1?a:c.length;return c.splice(n,0,I),c},G=function(u,I){return u.filter(function(h){return!I[h]})},m=function(u){var I=new Map;return u.forEach(function(h){var c=h.groupIds.length===0?h.id:h.groupIds[h.groupIds.length-1],a=I.get(c)||[],n=(0,x.WJ)(h);n&&a.push(n),I.set(c,[].concat((0,w.Z)(a),[h]))}),Array.from(I.values())}},8211:function(me,Q,e){e.d(Q,{Fp:function(){return R},G3:function(){return fe},Mj:function(){return B},QT:function(){return ye},m0:function(){return ce},t:function(){return ue}});var w=e(8950),g=e(2975),f=e.n(g),d=e(1463),x=e(4451),D=e(2335),W=e(9487),i=e(4739),R={code:"en",label:"English"},B=[{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].concat([R]).sort(function(b,G){return b.label>G.label?1:-1}).filter(function(b){return x[b.code]>=85}),ee="__test__";D.Vi.DEVELOPMENT==="production"&&B.unshift({code:ee,label:"test language"},{code:"".concat(ee,".rtl"),label:"test language (rtl)",rtl:!0});var le=R,y={},ce=function(){var b=(0,w.Z)(f().mark(function G(m){return f().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(le=m,document.documentElement.dir=le.rtl?"rtl":"ltr",document.documentElement.lang=le.code,!m.code.startsWith(ee)){u.next=7;break}y={},u.next=17;break;case 7:return u.prev=7,u.next=10,e(940)("./".concat(le.code,".json"));case 10:y=u.sent,u.next=17;break;case 13:u.prev=13,u.t0=u.catch(7),console.error("Failed to load language ".concat(m.code,":"),u.t0.message),y=d;case 17:W.e_.set(de,m.code);case 18:case"end":return u.stop()}},G,null,[[7,13]])}));return function(G){return b.apply(this,arguments)}}(),fe=function(){return le},Ce=function(b,G){for(var m=0;m<G.length;++m){var u=G[m];if(b[u]===void 0)return;b=b[u]}if(typeof b=="string")return b},ue=function(b,G){if(le.code.startsWith(ee)){var m=G?"".concat(b,"(").concat(JSON.stringify(G).slice(1,-1),")"):b;return"[[".concat(m,"]]")}var u=b.split("."),I=Ce(y,u)||Ce(d,u);if(I===void 0)throw new Error("Can't find translation for ".concat(b));if(G)for(var h in G)I=I.replace("{{".concat(h,"}}"),String(G[h]));return I},de=(0,i.cn)(R.code),ye=function(){var b=(0,i.Dv)(de,W.yE);return{t:ue,langCode:b}}},9487:function(me,Q,e){e.d(Q,{e_:function(){return f},yE:function(){return g}});var w=e(4739),g=(e(9787),Symbol()),f=(0,w.Vv)()},6066:function(me,Q,e){e.d(Q,{E0:function(){return D},Ge:function(){return W},OA:function(){return x},Wl:function(){return d},aU:function(){return g},tW:function(){return f}});var w=e(2335),g={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},f={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:w.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},d=function(i){return i===f.ARROW_LEFT||i===f.ARROW_RIGHT||i===f.ARROW_DOWN||i===f.ARROW_UP},x=function(i){return i.altKey},D=function(i){return i.shiftKey},W=function(i){return i.shiftKey}},6552:function(me,Q,e){e.d(Q,{EK:function(){return m},H5:function(){return i},Jj:function(){return G},LW:function(){return W},N_:function(){return ue},U1:function(){return d},c9:function(){return B},eH:function(){return ye},g6:function(){return R},lk:function(){return b},wC:function(){return ce},xj:function(){return x},yB:function(){return Ce},yW:function(){return fe},yq:function(){return D}});var w=e(2335),g=e(3063),f=e(8925),d=function(u,I,h,c,a){return[(u-h)*Math.cos(a)-(I-c)*Math.sin(a)+h,(u-h)*Math.sin(a)+(I-c)*Math.cos(a)+c]},x=function(u,I,h){return d(u[0],u[1],I[0],I[1],h)},D=function(u,I,h,c,a,n,t,o){var l=Math.cos(c),s=Math.sin(c);return u.e&&u.w?I+=a+t:u.e?(I+=a*(1+l),h+=a*s,I+=t*(1-l),h+=t*-s):u.w&&(I+=a*(1-l),h+=a*-s,I+=t*(1+l),h+=t*s),u.n&&u.s?h+=n+o:u.n?(I+=n*s,h+=n*(1-l),I+=o*-s,h+=o*(1+l)):u.s&&(I+=n*-s,h+=n*(1+l),I+=o*s,h+=o*(1-l)),[I,h]},W=function(u,I,h,c){var a=h-u,n=c-I;return Math.hypot(a,n)},i=function(u,I){return[(u[0]+I[0])/2,(u[1]+I[1])/2]},R=function(u){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(u.length>=3){var h=[u[0],u[u.length-1]],c=h[0],a=h[1],n=W(c[0],c[1],a[0],a[1]);return n<=w.qx/I}return!1},B=function(u,I,h){var c=u.length;if(c<3)return!1;for(var a=[Number.MAX_SAFE_INTEGER,h],n=[I,h],t=0,o=0;o<c;o++){var l=u[o],s=u[(o+1)%c];if(y(l,s,n,a)){if(le(l,n,s)===0)return ee(l,n,s);t++}}return t%2==1},ee=function(u,I,h){return I[0]<=Math.max(u[0],h[0])&&I[0]>=Math.min(u[0],h[0])&&I[1]<=Math.max(u[1],h[1])&&I[1]>=Math.min(u[1],h[1])},le=function(u,I,h){var c=(I[1]-u[1])*(h[0]-I[0])-(I[0]-u[0])*(h[1]-I[1]);return c===0?0:c>0?1:2},y=function(u,I,h,c){var a=le(u,I,h),n=le(u,I,c),t=le(h,c,u),o=le(h,c,I);return a!==n&&t!==o||!(a!==0||!ee(u,h,I))||!(n!==0||!ee(u,c,I))||!(t!==0||!ee(h,u,c))||!(o!==0||!ee(h,I,c))},ce=function(u,I,h){return h?[Math.round(u/h)*h,Math.round(I/h)*h]:[u,I]},fe=function(u,I){var h,c,a;if(((h=I.roundness)===null||h===void 0?void 0:h.type)===w.a6.PROPORTIONAL_RADIUS||((c=I.roundness)===null||c===void 0?void 0:c.type)===w.a6.LEGACY)return u*w.Rx;if(((a=I.roundness)===null||a===void 0?void 0:a.type)===w.a6.ADAPTIVE_RADIUS){var n,t,o=(n=(t=I.roundness)===null||t===void 0?void 0:t.value)!==null&&n!==void 0?n:w._9;return u<=o/w.Rx?u*w.Rx:o}return 0},Ce=function(u,I){var h=(0,g.R2)(u);if(!h)return null;for(var c=(0,f.CM)(h[0]),a=[0,0],n=0,t=1/0,o=null;n<c.length;){var l=c[n],s=l.op,S=l.data;if(s==="move"&&(a=S),s==="bcurveTo"){var X=a,C=[S[0],S[1]],q=[S[2],S[3]],A=[S[4],S[5]],_=W(A[0],A[1],I[0],I[1]);_<t&&(t=_,o=[X,C,q,A]),a=A}n++}return o},ue=function(u,I,h,c,a){var n=function(t,o){return Math.pow(1-t,3)*c[o]+3*t*Math.pow(1-t,2)*h[o]+3*Math.pow(t,2)*(1-t)*I[o]+u[o]*Math.pow(t,3)};return[n(a,0),n(a,1)]},de=function(u,I){var h=[];h[0]=0;for(var c=function(t,o){var l=Ce(t,o);if(!l)return[];for(var s=[],S=1;S>0;){var X=ue(l[0],l[1],l[2],l[3],S);s.push([X[0],X[1]]),S-=.05}return s.length&&G(s.at(-1),o)&&s.push([o[0],o[1]]),s}(u,I),a=0,n=0;a<c.length-1;)n+=W(c[a][0],c[a][1],c[a+1][0],c[a+1][1]),h.push(n),a++;return h},ye=function(u,I){return de(u,I).at(-1)},b=function(u,I,h){for(var c=de(u,I),a=c.length-1,n=h*c.at(-1),t=0,o=a,l=0;t<o;)c[l=Math.floor(t+(o-t)/2)]<n?t=l+1:o=l;return c[l]>n&&l--,c[l]===n?l/a:1-(l+(n-c[l])/(c[l+1]-c[l]))/a},G=function(u,I){return u[0]===I[0]&&u[1]===I[1]},m=function(u){return Math.round(u/Math.PI*1e4)%5e3==0}},3024:function(me,Q,e){e.d(Q,{$D:function(){return m},Fl:function(){return G},I_:function(){return B.I_},N7:function(){return fe.N7},NI:function(){return B.NI},NL:function(){return b},ZY:function(){return ce.ZY},cT:function(){return ce.cT},i1:function(){return u},lV:function(){return ce.lV},zh:function(){return Ce.zh}});var w=e(8950),g=e(7169),f=e(2975),d=e.n(f),x=e(4162),D=e(8897),W=e(679),i=e(2335),R=e(673),B=e(5523),ee=e(6665),le=e(1564),y=e(2791),ce=e(434),fe=e(3063),Ce=e(7053);function ue(I,h){var c=Object.keys(I);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(I);h&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(I,n).enumerable})),c.push.apply(c,a)}return c}function de(I){for(var h=1;h<arguments.length;h++){var c=arguments[h]!=null?arguments[h]:{};h%2?ue(Object(c),!0).forEach(function(a){(0,g.Z)(I,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(c)):ue(Object(c)).forEach(function(a){Object.defineProperty(I,a,Object.getOwnPropertyDescriptor(c,a))})}return I}var ye=function(I){var h=new le.Z;return h.replaceAllElements((0,y._N)(I)),h.getNonDeletedElements()},b=function(I){var h=I.elements,c=I.appState,a=I.files,n=I.maxWidthOrHeight,t=I.getDimensions,o=I.exportPadding,l=(0,W.nu)({elements:h,appState:c},null,null),s=l.elements,S=l.appState,X=S.exportBackground,C=S.viewBackgroundColor;return(0,x.NL)(ye(s),de(de({},S),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),a||{},{exportBackground:X,exportPadding:o,viewBackgroundColor:C},function(q,A){var _,ae=document.createElement("canvas");if(n){var U;typeof t=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var H=Math.max(q,A),j=n<H?n/H:(U=c==null?void 0:c.exportScale)!==null&&U!==void 0?U:1;return ae.width=q*j,ae.height=A*j,{canvas:ae,scale:j}}var F=(t==null?void 0:t(q,A))||{width:q,height:A};return ae.width=F.width,ae.height=F.height,{canvas:ae,scale:(_=F.scale)!==null&&_!==void 0?_:1}})},G=function(){var I=(0,w.Z)(d().mark(function h(c){var a,n,t,o,l,s;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return t=(n=c).mimeType,o=t===void 0?i.LO.png:t,l=n.quality,o===i.LO.png&&typeof l=="number"&&console.warn('"quality" will be ignored for "'.concat(i.LO.png,'" mimeType')),o==="image/jpg"&&(o=i.LO.jpg),o!==i.LO.jpg||(a=c.appState)!==null&&a!==void 0&&a.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(i.LO.jpg,'" mimeType')),c=de(de({},c),{},{appState:de(de({},c.appState),{},{exportBackground:!0})})),S.next=6,b(de(de({},c),{},{elements:ye(c.elements)}));case 6:return s=S.sent,l=l||(/image\/jpe?g/.test(o)?.92:.8),S.abrupt("return",new Promise(function(X,C){s.toBlob(function(){var q=(0,w.Z)(d().mark(function A(_){var ae;return d().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(_){U.next=2;break}return U.abrupt("return",C(new Error("couldn't export to blob")));case 2:if(!_||o!==i.LO.png||(ae=c.appState)===null||ae===void 0||!ae.exportEmbedScene){U.next=6;break}return U.next=5,(0,R.encodePngMetadata)({blob:_,metadata:(0,B.I_)(c.elements,c.appState,c.files||{},"local")});case 5:_=U.sent;case 6:X(_);case 7:case"end":return U.stop()}},A)}));return function(A){return q.apply(this,arguments)}}(),o,l)}));case 9:case"end":return S.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),m=function(){var I=(0,w.Z)(d().mark(function h(c){var a,n,t,o,l,s,S,X,C,q;return d().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return a=c.elements,n=c.appState,t=n===void 0?(0,D.im)():n,o=c.files,l=o===void 0?{}:o,s=c.exportPadding,S=(0,W.nu)({elements:a,appState:t},null,null),X=S.elements,C=S.appState,q=de(de({},C),{},{exportPadding:s}),A.abrupt("return",(0,x.$D)(ye(X),q,l,{serializeAsJSON:function(){return(0,B.I_)(X,q,l||{},"local")}}));case 4:case"end":return A.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),u=function(){var I=(0,w.Z)(d().mark(function h(c){var a,n;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.type!=="svg"){t.next=8;break}return t.next=3,m(c);case 3:return a=t.sent,t.next=6,(0,ee.dd)(a.outerHTML);case 6:case 11:case 17:t.next=20;break;case 8:if(c.type!=="png"){t.next=13;break}return t.next=11,(0,ee.uR)(G(c));case 13:if(c.type!=="json"){t.next=19;break}return n=de(de({offsetTop:0,offsetLeft:0,width:0,height:0},(0,D.im)()),c.appState),t.next=17,(0,ee.vQ)(c.elements,n,c.files);case 19:throw new Error("Invalid export type");case 20:case"end":return t.stop()}},h)}));return function(h){return I.apply(this,arguments)}}()},5001:function(me,Q,e){e.d(Q,{k:function(){return g},z:function(){return f}});var w=e(1930),g=function(d){var x=d.map(function(W){return W[0]}),D=d.map(function(W){return W[1]});return{width:Math.max.apply(Math,(0,w.Z)(x))-Math.min.apply(Math,(0,w.Z)(x)),height:Math.max.apply(Math,(0,w.Z)(D))-Math.min.apply(Math,(0,w.Z)(D))}},f=function(d,x,D,W){var i=D.map(function(Ce){return Ce[d]}),R=Math.max.apply(Math,(0,w.Z)(i)),B=Math.min.apply(Math,(0,w.Z)(i)),ee=R-B,le=ee===0?1:x/ee,y=1/0,ce=D.map(function(Ce){var ue=Ce[d]*le,de=(0,w.Z)(Ce);return de[d]=ue,ue<y&&(y=ue),de});if(!W||ce.length===2)return ce;var fe=B-y;return ce.map(function(Ce){return Ce.map(function(ue,de){return de===d?ue+fe:ue})})}},6954:function(me,Q,e){e.d(Q,{LU:function(){return D},kb:function(){return W}});var w=e(8152),g=e(5605),f=e(6340),d=new w.k(Date.now()),x=0,D=function(){return Math.floor(d.next()*Math.pow(2,31))},W=function(){return(0,f.h2)()?"id".concat(x++):(0,g.x0)()}},3063:function(me,Q,e){e.d(Q,{Dn:function(){return H},i:function(){return p},N7:function(){return he},R2:function(){return M},bI:function(){return z},lw:function(){return P},Rg:function(){return se}});var w=e(1930),g=e(7169),f=e(2577),d=e(1974),x=e(8925),D=e(6340),W=e(6552),i=e(8234),R=e(8897),B=e(2335);function ee(Y,we,te,_e=Le=>Le){return Y*_e(.5-we*(.5-te))}function le(Y,we){return[Y[0]+we[0],Y[1]+we[1]]}function y(Y,we){return[Y[0]-we[0],Y[1]-we[1]]}function ce(Y,we){return[Y[0]*we,Y[1]*we]}function fe(Y){return[Y[1],-Y[0]]}function Ce(Y,we){return Y[0]*we[0]+Y[1]*we[1]}function ue(Y,we){return Y[0]===we[0]&&Y[1]===we[1]}function de(Y,we){return function(te){return te[0]*te[0]+te[1]*te[1]}(y(Y,we))}function ye(Y){return function(we,te){return[we[0]/te,we[1]/te]}(Y,function(we){return Math.hypot(we[0],we[1])}(Y))}function b(Y,we){return Math.hypot(Y[1]-we[1],Y[0]-we[0])}function G(Y,we,te){let _e=Math.sin(te),Le=Math.cos(te),ze=Y[0]-we[0],He=Y[1]-we[1],Fe=ze*_e+He*Le;return[ze*Le-He*_e+we[0],Fe+we[1]]}function m(Y,we,te){return le(Y,ce(y(we,Y),te))}function u(Y,we,te){return le(Y,ce(we,te))}var{min:I,PI:h}=Math,c=h+1e-4;function a(Y,we={}){return function(te,_e={}){let{size:Le=16,smoothing:ze=.5,thinning:He=.5,simulatePressure:Fe=!0,easing:Pe=Dt=>Dt,start:J={},end:ve={},last:xe=!1}=_e,{cap:Ie=!0,easing:De=Dt=>Dt*(2-Dt)}=J,{cap:Ze=!0,easing:Re=Dt=>--Dt*Dt*Dt+1}=ve;if(te.length===0||Le<=0)return[];let Ue,Ke=te[te.length-1].runningLength,Ye=J.taper===!1?0:J.taper===!0?Math.max(Le,Ke):J.taper,lt=ve.taper===!1?0:ve.taper===!0?Math.max(Le,Ke):ve.taper,ht=Math.pow(Le*ze,2),ot=[],et=[],nt=te.slice(0,10).reduce((Dt,We)=>{let Xe=We.pressure;if(Fe){let $e=I(1,We.distance/Le),Ve=I(1,1-$e);Xe=I(1,Dt+.275*$e*(Ve-Dt))}return(Dt+Xe)/2},te[0].pressure),ct=ee(Le,He,te[te.length-1].pressure,Pe),vt=te[0].vector,Tt=te[0].point,Bt=Tt,Kt=Tt,Wt=Bt,Gt=!1;for(let Dt=0;Dt<te.length;Dt++){let{pressure:We}=te[Dt],{point:Xe,vector:$e,distance:Ve,runningLength:ft}=te[Dt];if(Dt<te.length-1&&Ke-ft<3)continue;if(He){if(Fe){let rr=I(1,Ve/Le),or=I(1,1-rr);We=I(1,nt+.275*rr*(or-nt))}ct=ee(Le,He,We,Pe)}else ct=Le/2;Ue===void 0&&(Ue=ct);let wt=ft<Ye?De(ft/Ye):1,_t=Ke-ft<lt?Re((Ke-ft)/lt):1;ct=Math.max(.01,ct*Math.min(wt,_t));let Ot=(Dt<te.length-1?te[Dt+1]:te[Dt]).vector,Yt=Dt<te.length-1?Ce($e,Ot):1,At=Yt!==null&&Yt<0;if(Ce($e,vt)<0&&!Gt||At){let rr=ce(fe(vt),ct);for(let or=.07692307692307693,lr=0;lr<=1;lr+=or)Kt=G(y(Xe,rr),Xe,c*lr),ot.push(Kt),Wt=G(le(Xe,rr),Xe,c*-lr),et.push(Wt);Tt=Kt,Bt=Wt,At&&(Gt=!0);continue}if(Gt=!1,Dt===te.length-1){let rr=ce(fe($e),ct);ot.push(y(Xe,rr)),et.push(le(Xe,rr));continue}let er=ce(fe(m(Ot,$e,Yt)),ct);Kt=y(Xe,er),(Dt<=1||de(Tt,Kt)>ht)&&(ot.push(Kt),Tt=Kt),Wt=le(Xe,er),(Dt<=1||de(Bt,Wt)>ht)&&(et.push(Wt),Bt=Wt),nt=We,vt=$e}let Et=te[0].point.slice(0,2),Pt=te.length>1?te[te.length-1].point.slice(0,2):le(te[0].point,[1,1]),Nt=[],Qt=[];if(te.length===1){if(!Ye&&!lt||xe){let Dt=u(Et,ye(fe(y(Et,Pt))),-(Ue||ct)),We=[];for(let Xe=.07692307692307693,$e=Xe;$e<=1;$e+=Xe)We.push(G(Dt,Et,2*c*$e));return We}}else{if(!(Ye||lt&&te.length===1))if(Ie)for(let We=.07692307692307693,Xe=We;Xe<=1;Xe+=We){let $e=G(et[0],Et,c*Xe);Nt.push($e)}else{let We=y(ot[0],et[0]),Xe=ce(We,.5),$e=ce(We,.51);Nt.push(y(Et,Xe),y(Et,$e),le(Et,$e),le(Et,Xe))}let Dt=fe(function(We){return[-We[0],-We[1]]}(te[te.length-1].vector));if(lt||Ye&&te.length===1)Qt.push(Pt);else if(Ze){let We=u(Pt,Dt,ct);for(let Xe=.034482758620689655,$e=Xe;$e<1;$e+=Xe)Qt.push(G(We,Pt,3*c*$e))}else Qt.push(le(Pt,ce(Dt,ct)),le(Pt,ce(Dt,.99*ct)),y(Pt,ce(Dt,.99*ct)),y(Pt,ce(Dt,ct)))}return ot.concat(Qt,et.reverse(),Nt)}(function(te,_e={}){var Le;let{streamline:ze=.5,size:He=16,last:Fe=!1}=_e;if(te.length===0)return[];let Pe=.15+.85*(1-ze),J=Array.isArray(te[0])?te:te.map(({x:Re,y:Ue,pressure:Ke=.5})=>[Re,Ue,Ke]);if(J.length===2){let Re=J[1];J=J.slice(0,-1);for(let Ue=1;Ue<5;Ue++)J.push(m(J[0],Re,Ue/4))}J.length===1&&(J=[...J,[...le(J[0],[1,1]),...J[0].slice(2)]]);let ve=[{point:[J[0][0],J[0][1]],pressure:J[0][2]>=0?J[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],xe=!1,Ie=0,De=ve[0],Ze=J.length-1;for(let Re=1;Re<J.length;Re++){let Ue=Fe&&Re===Ze?J[Re].slice(0,2):m(De.point,J[Re],Pe);if(ue(De.point,Ue))continue;let Ke=b(Ue,De.point);if(Ie+=Ke,Re<Ze&&!xe){if(Ie<He)continue;xe=!0}De={point:Ue,pressure:J[Re][2]>=0?J[Re][2]:.5,vector:ye(y(De.point,Ue)),distance:Ke,runningLength:Ie},ve.push(De)}return ve[0].vector=((Le=ve[1])==null?void 0:Le.vector)||[0,0],ve}(Y,we),we)}var n=e(5710),t=e(6938),o=e(6794);function l(Y,we){var te=Object.keys(Y);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Y);we&&(_e=_e.filter(function(Le){return Object.getOwnPropertyDescriptor(Y,Le).enumerable})),te.push.apply(te,_e)}return te}function s(Y){for(var we=1;we<arguments.length;we++){var te=arguments[we]!=null?arguments[we]:{};we%2?l(Object(te),!0).forEach(function(_e){(0,g.Z)(Y,_e,te[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(te)):l(Object(te)).forEach(function(_e){Object.defineProperty(Y,_e,Object.getOwnPropertyDescriptor(te,_e))})}return Y}var S="invert(100%) hue-rotate(180deg) saturate(1.25)",X=(0,R.im)(),C=function(Y,we){return(0,d.wi)(Y)&&!we.imageCache.has(Y.fileId)},q=function(Y,we){var te;return we.theme==="dark"&&(0,d.wi)(Y)&&!C(Y,we)&&((te=we.imageCache.get(Y.fileId))===null||te===void 0?void 0:te.mimeType)!==B.LO.svg},A=function(Y){return[8,8+Y]},_=function(Y){return[1.5,6+Y]},ae=function(Y){return Y.type==="freedraw"?12*Y.strokeWidth:20},U=function(Y,we,te){var _e,Le=document.createElement("canvas"),ze=Le.getContext("2d"),He=ae(Y),Fe=function(Ye,lt){var ht=16777216,ot=32767,et=ae(Ye),nt=(0,x.qf)(Ye),ct=(0,f.Z)(nt,4),vt=ct[0],Tt=ct[1],Bt=ct[2],Kt=ct[3],Wt=(0,d.bt)(Ye)||(0,d.F9)(Ye)?(0,D.TE)(vt,Bt):Ye.width,Gt=(0,d.bt)(Ye)||(0,d.F9)(Ye)?(0,D.TE)(Tt,Kt):Ye.height,Et=Wt*window.devicePixelRatio+2*et,Pt=Gt*window.devicePixelRatio+2*et,Nt=lt.value;return(Et*Nt>ot||Pt*Nt>ot)&&(Nt=Math.min(ot/Et,ot/Pt)),Et*Pt*Nt*Nt>ht&&(Nt=Math.sqrt(ht/(Et*Pt))),{width:Et=Math.floor(Et*Nt),height:Pt=Math.floor(Pt*Nt),scale:Nt}}(Y,we),Pe=Fe.width,J=Fe.height,ve=Fe.scale;Le.width=Pe,Le.height=J;var xe=0,Ie=0;if((0,d.bt)(Y)||(0,d.F9)(Y)){var De=(0,x.qf)(Y),Ze=(0,f.Z)(De,2),Re=Ze[0],Ue=Ze[1];xe=Y.x>Re?(0,D.TE)(Y.x,Re)*window.devicePixelRatio*ve:0,Ie=Y.y>Ue?(0,D.TE)(Y.y,Ue)*window.devicePixelRatio*ve:0,ze.translate(xe,Ie)}ze.save(),ze.translate(He*ve,He*ve),ze.scale(window.devicePixelRatio*ve,window.devicePixelRatio*ve);var Ke=i.Z.canvas(Le);return q(Y,te)&&(ze.filter=S),T(Y,Ke,ze,te),ze.restore(),{element:Y,canvas:Le,theme:te.theme,scale:ve,zoomValue:we.value,canvasOffsetX:xe,canvasOffsetY:Ie,boundTextElementVersion:((_e=(0,n.WJ)(Y))===null||_e===void 0?void 0:_e.version)||null}},H=14,j=document.createElement("img");j.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var F=document.createElement("img");F.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var T=function(Y,we,te,_e){switch(te.globalAlpha=Y.opacity/100,Y.type){case"rectangle":case"diamond":case"ellipse":te.lineJoin="round",te.lineCap="round",we.draw(M(Y));break;case"arrow":case"line":te.lineJoin="round",te.lineCap="round",M(Y).forEach(function(Re){we.draw(Re)});break;case"freedraw":te.save(),te.fillStyle=Y.strokeColor;var Le=function(Re){return N.get(Re)}(Y),ze=M(Y);ze&&we.draw(ze),te.fillStyle=Y.strokeColor,te.fill(Le),te.restore();break;case"image":var He,Fe=(0,d.wi)(Y)?(He=_e.imageCache.get(Y.fileId))===null||He===void 0?void 0:He.image:void 0;Fe==null||Fe instanceof Promise?function(Re,Ue,Ke){Ue.fillStyle="#E7E7E7",Ue.fillRect(0,0,Re.width,Re.height);var Ye=Math.min(Re.width,Re.height),lt=Math.min(Ye,Math.min(.4*Ye,100));Ue.drawImage(Re.status==="error"?F:j,Re.width/2-lt/2,Re.height/2-lt/2,lt,lt)}(Y,te,_e.zoom.value):te.drawImage(Fe,0,0,Y.width,Y.height);break;default:if(!(0,d.iB)(Y))throw new Error("Unimplemented type ".concat(Y.type));var Pe=(0,D.dZ)(Y.text),J=Pe&&!te.canvas.isConnected;J&&document.body.appendChild(te.canvas),te.canvas.setAttribute("dir",Pe?"rtl":"ltr"),te.save(),te.font=(0,D.mO)(Y),te.fillStyle=Y.strokeColor,te.textAlign=Y.textAlign;for(var ve=Y.text.replace(/\r\n?/g,`
`).split(`
`),xe=Y.textAlign==="center"?Y.width/2:Y.textAlign==="right"?Y.width:0,Ie=(0,n.Rg)(Y.fontSize,Y.lineHeight),De=Y.height-Y.baseline,Ze=0;Ze<ve.length;Ze++)te.fillText(ve[Ze],xe,(Ze+1)*Ie-De);te.restore(),J&&te.canvas.remove()}te.globalAlpha=1},K=new WeakMap,ie=new WeakMap,M=function(Y){return ie.get(Y)},O=function(Y,we){return ie.set(Y,we)},z=function(Y){return ie.delete(Y)},p=function(Y){var we=arguments.length>1&&arguments[1]!==void 0&&arguments[1],te={seed:Y.seed,strokeLineDash:Y.strokeStyle==="dashed"?A(Y.strokeWidth):Y.strokeStyle==="dotted"?_(Y.strokeWidth):void 0,disableMultiStroke:Y.strokeStyle!=="solid",strokeWidth:Y.strokeStyle!=="solid"?Y.strokeWidth+.5:Y.strokeWidth,fillWeight:Y.strokeWidth/2,hachureGap:4*Y.strokeWidth,roughness:Y.roughness,stroke:Y.strokeColor,preserveVertices:we};switch(Y.type){case"rectangle":case"diamond":case"ellipse":return te.fillStyle=Y.fillStyle,te.fill=Y.backgroundColor==="transparent"?void 0:Y.backgroundColor,Y.type==="ellipse"&&(te.curveFitting=1),te;case"line":case"freedraw":return(0,W.g6)(Y.points)&&(te.fillStyle=Y.fillStyle,te.fill=Y.backgroundColor==="transparent"?void 0:Y.backgroundColor),te;case"arrow":return te;default:throw new Error("Unimplemented type ".concat(Y.type))}},E=function(Y,we){var te=ie.get(Y);if(te===void 0)switch(K.delete(Y),Y.type){case"rectangle":if(Y.roundness){var _e=Y.width,Le=Y.height,ze=(0,W.yW)(Math.min(_e,Le),Y);te=we.path("M ".concat(ze," 0 L ").concat(_e-ze," 0 Q ").concat(_e," 0, ").concat(_e," ").concat(ze," L ").concat(_e," ").concat(Le-ze," Q ").concat(_e," ").concat(Le,", ").concat(_e-ze," ").concat(Le," L ").concat(ze," ").concat(Le," Q 0 ").concat(Le,", 0 ").concat(Le-ze," L 0 ").concat(ze," Q 0 0, ").concat(ze," 0"),p(Y,!0))}else te=we.rectangle(0,0,Y.width,Y.height,p(Y));O(Y,te);break;case"diamond":var He=(0,x.UC)(Y),Fe=(0,f.Z)(He,8),Pe=Fe[0],J=Fe[1],ve=Fe[2],xe=Fe[3],Ie=Fe[4],De=Fe[5],Ze=Fe[6],Re=Fe[7];if(Y.roundness){var Ue=(0,W.yW)(Math.abs(Pe-Ze),Y),Ke=(0,W.yW)(Math.abs(xe-J),Y);te=we.path("M ".concat(Pe+Ue," ").concat(J+Ke," L ").concat(ve-Ue," ").concat(xe-Ke,`
            C `).concat(ve," ").concat(xe,", ").concat(ve," ").concat(xe,", ").concat(ve-Ue," ").concat(xe+Ke,`
            L `).concat(Ie+Ue," ").concat(De-Ke,`
            C `).concat(Ie," ").concat(De,", ").concat(Ie," ").concat(De,", ").concat(Ie-Ue," ").concat(De-Ke,`
            L `).concat(Ze+Ue," ").concat(Re+Ke,`
            C `).concat(Ze," ").concat(Re,", ").concat(Ze," ").concat(Re,", ").concat(Ze+Ue," ").concat(Re-Ke,`
            L `).concat(Pe-Ue," ").concat(J+Ke,`
            C `).concat(Pe," ").concat(J,", ").concat(Pe," ").concat(J,", ").concat(Pe+Ue," ").concat(J+Ke),p(Y,!0))}else te=we.polygon([[Pe,J],[ve,xe],[Ie,De],[Ze,Re]],p(Y));O(Y,te);break;case"ellipse":te=we.ellipse(Y.width/2,Y.height/2,Y.width,Y.height,p(Y)),O(Y,te);break;case"line":case"arrow":var Ye=p(Y),lt=Y.points.length?Y.points:[[0,0]];if(te=Y.roundness?[we.curve(lt,Ye)]:Ye.fill?[we.polygon(lt,Ye)]:[we.linearPath(lt,Ye)],Y.type==="arrow"){var ht=Y.startArrowhead,ot=ht===void 0?null:ht,et=Y.endArrowhead,nt=et===void 0?"arrow":et,ct=function(Wt,Gt,Et,Pt){var Nt=(0,x.Y5)(Wt,Gt,Et,Pt);if(Nt===null)return[];if(Pt==="dot"){var Qt=(0,f.Z)(Nt,3),Dt=Qt[0],We=Qt[1],Xe=Qt[2];return[we.circle(Dt,We,Xe,s(s({},Ye),{},{fill:Wt.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(Pt==="triangle"){var $e=(0,f.Z)(Nt,6),Ve=$e[0],ft=$e[1],wt=$e[2],_t=$e[3],Ot=$e[4],Yt=$e[5];return delete Ye.strokeLineDash,[we.polygon([[Ve,ft],[wt,_t],[Ot,Yt],[Ve,ft]],s(s({},Ye),{},{fill:Wt.strokeColor,fillStyle:"solid"}))]}var At=(0,f.Z)(Nt,6),er=At[0],rr=At[1],or=At[2],lr=At[3],jr=At[4],zt=At[5];if(Wt.strokeStyle==="dotted"){var Ft=_(Wt.strokeWidth-1);Ye.strokeLineDash=[Ft[0],Ft[1]-1]}else delete Ye.strokeLineDash;return[we.line(or,lr,er,rr,Ye),we.line(jr,zt,er,rr,Ye)]};if(ot!==null){var vt,Tt=ct(Y,te,"start",ot);(vt=te).push.apply(vt,(0,w.Z)(Tt))}if(nt!==null){var Bt,Kt=ct(Y,te,"end",nt);(Bt=te).push.apply(Bt,(0,w.Z)(Kt))}}O(Y,te);break;case"freedraw":ge(Y),te=(0,W.g6)(Y.points)?we.polygon(Y.points,s(s({},p(Y)),{},{stroke:"none"})):null,O(Y,te);break;case"text":case"image":O(Y,null)}},v=function(Y,we){var te,_e=we?we.zoom:X.zoom,Le=K.get(Y),ze=Le&&Le.zoomValue!==_e.value&&!(we!=null&&we.shouldCacheIgnoreZoom),He=((te=(0,n.WJ)(Y))===null||te===void 0?void 0:te.version)||null;if(!Le||ze||Le.theme!==we.theme||Le.boundTextElementVersion!==He){var Fe=U(Y,_e,we);return K.set(Y,Fe),Fe}return Le},Z=function(Y,we,te,_e){var Le=Y.element,ze=ae(Le),He=Y.scale,Fe=(0,x.qf)(Le),Pe=(0,f.Z)(Fe,4),J=Pe[0],ve=Pe[1],xe=Pe[2],Ie=Pe[3];(0,d.F9)(Le)&&(J=Math.floor(J),xe=Math.ceil(xe),ve=Math.floor(ve),Ie=Math.ceil(Ie));var De=((J+xe)/2+_e.scrollX)*window.devicePixelRatio,Ze=((ve+Ie)/2+_e.scrollY)*window.devicePixelRatio;te.save(),te.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var Re=(0,n.WJ)(Le);if((0,d.Yv)(Le)&&Re){var Ue=document.createElement("canvas"),Ke=Ue.getContext("2d"),Ye=Math.max((0,D.TE)(J,xe),(0,D.TE)(ve,Ie));Ue.width=Ye*window.devicePixelRatio*He+ze*Y.scale*10,Ue.height=Ye*window.devicePixelRatio*He+ze*Y.scale*10;var lt=(Ue.width-Y.canvas.width)/2,ht=(Ue.height-Y.canvas.height)/2;Ke.translate(Ue.width/2,Ue.height/2),Ke.rotate(Le.angle),Ke.drawImage(Y.canvas,-Y.canvas.width/2,-Y.canvas.height/2,Y.canvas.width,Y.canvas.height);var ot=(0,x.qf)(Re),et=(0,f.Z)(ot,6),nt=et[4],ct=et[5];Ke.rotate(-Le.angle);var vt=Ue.width/2-(nt-J)*window.devicePixelRatio*He-lt-ze*He,Tt=Ue.height/2-(ct-ve)*window.devicePixelRatio*He-ht-ze*He;Ke.translate(-vt,-Tt),Ke.clearRect(-(Re.width/2+B.gK)*window.devicePixelRatio*He,-(Re.height/2+B.gK)*window.devicePixelRatio*He,(Re.width+2*B.gK)*window.devicePixelRatio*He,(Re.height+2*B.gK)*window.devicePixelRatio*He),te.translate(De,Ze),te.drawImage(Ue,-(xe-J)/2*window.devicePixelRatio-lt/He-ze,-(Ie-ve)/2*window.devicePixelRatio-ht/He-ze,Ue.width/He,Ue.height/He)}else if(te.translate(De,Ze),te.rotate(Le.angle),"scale"in Y.element&&!C(Le,_e)&&te.scale(Y.element.scale[0],Y.element.scale[1]),te.translate(-De,-Ze),te.drawImage(Y.canvas,(J+_e.scrollX)*window.devicePixelRatio-ze*Y.scale/Y.scale,(ve+_e.scrollY)*window.devicePixelRatio-ze*Y.scale/Y.scale,Y.canvas.width/Y.scale,Y.canvas.height/Y.scale),{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.3",IS_EXCALIDRAW_NPM_PACKAGE:!0}.REACT_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,d.Xo)(Le)){var Bt=(0,n.cw)(Le);te.strokeStyle="#c92a2a",te.lineWidth=3,te.strokeRect((Bt.x+_e.scrollX)*window.devicePixelRatio,(Bt.y+_e.scrollY)*window.devicePixelRatio,(0,n.jd)(Le)*window.devicePixelRatio,(0,n.N2)(Le)*window.devicePixelRatio)}te.restore()},P=function(Y,we,te,_e,Le){var ze=we.generator;switch(Y.type){case"selection":te.save(),te.translate(Y.x+_e.scrollX,Y.y+_e.scrollY),te.fillStyle="rgba(0, 0, 200, 0.04)";var He=.5/_e.zoom.value;te.fillRect(He,He,Y.width,Y.height),te.lineWidth=1/_e.zoom.value,te.strokeStyle="rgb(105, 101, 219)",te.strokeRect(He,He,Y.width,Y.height),te.restore();break;case"freedraw":if(E(Y,ze),_e.isExporting){var Fe=(0,x.qf)(Y),Pe=(0,f.Z)(Fe,4),J=Pe[0],ve=Pe[1],xe=Pe[2],Ie=Pe[3],De=(J+xe)/2+_e.scrollX,Ze=(ve+Ie)/2+_e.scrollY,Re=(xe-J)/2-(Y.x-J),Ue=(Ie-ve)/2-(Y.y-ve);te.save(),te.translate(De,Ze),te.rotate(Y.angle),te.translate(-Re,-Ue),T(Y,we,te,_e),te.restore()}else{var Ke=v(Y,_e);Z(Ke,0,te,_e)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(E(Y,ze),_e.isExporting){var Ye=(0,x.qf)(Y),lt=(0,f.Z)(Ye,4),ht=lt[0],ot=lt[1],et=lt[2],nt=lt[3],ct=(ht+et)/2+_e.scrollX,vt=(ot+nt)/2+_e.scrollY,Tt=(et-ht)/2-(Y.x-ht),Bt=(nt-ot)/2-(Y.y-ot);if((0,d.iB)(Y)){var Kt=(0,n.tl)(Y);if((0,d.Yv)(Kt)){var Wt=t._.getBoundTextElementPosition(Kt,Y);Tt=(et-ht)/2-(Wt.x-ht),Bt=(nt-ot)/2-(Wt.y-ot)}}te.save(),te.translate(ct,vt),q(Y,_e)&&(te.filter="none");var Gt=(0,n.WJ)(Y);if((0,d.Yv)(Y)&&Gt){var Et=document.createElement("canvas"),Pt=Et.getContext("2d"),Nt=Math.max((0,D.TE)(ht,et),(0,D.TE)(ot,nt)),Qt=ae(Y);Et.width=Nt*Le.exportScale+10*Qt*Le.exportScale,Et.height=Nt*Le.exportScale+10*Qt*Le.exportScale,Pt.translate(Et.width/2,Et.height/2),Pt.scale(Le.exportScale,Le.exportScale),Tt=Y.width/2-(Y.x-ht),Bt=Y.height/2-(Y.y-ot),Pt.rotate(Y.angle);var Dt=i.Z.canvas(Et);Pt.translate(-Tt,-Bt),T(Y,Dt,Pt,_e),Pt.translate(Tt,Bt),Pt.rotate(-Y.angle);var We=(0,x.qf)(Gt),Xe=(0,f.Z)(We,6),$e=(ht+et)/2-Xe[4],Ve=(ot+nt)/2-Xe[5];Pt.translate(-$e,-Ve),Pt.clearRect(-Gt.width/2,-Gt.height/2,Gt.width,Gt.height),te.scale(1/Le.exportScale,1/Le.exportScale),te.drawImage(Et,-Et.width/2,-Et.height/2,Et.width,Et.height)}else te.rotate(Y.angle),Y.type==="image"&&te.scale(Y.scale[0],Y.scale[1]),te.translate(-Tt,-Bt),T(Y,we,te,_e);te.restore()}else{var ft=v(Y,_e),wt=te.imageSmoothingEnabled;_e!=null&&_e.shouldCacheIgnoreZoom||Y.angle&&!(0,W.EK)(Y.angle)||(te.imageSmoothingEnabled=!1),Z(ft,0,te,_e),te.imageSmoothingEnabled=wt}break;default:throw new Error("Unimplemented type ".concat(Y.type))}},oe=function(Y,we,te){if(te===void 0)return Y.draw(we);var _e={sets:we.sets,shape:we.shape,options:s(s({},we.options),{},{fixedDecimalPlaceDigits:te})};return Y.draw(_e)},se=function(Y,we,te,_e,Le,ze,He){var Fe=(0,x.qf)(Y),Pe=(0,f.Z)(Fe,4),J=Pe[0],ve=Pe[1],xe=Pe[2],Ie=Pe[3],De=(xe-J)/2-(Y.x-J),Ze=(Ie-ve)/2-(Y.y-ve);if((0,d.iB)(Y)){var Re=(0,n.tl)(Y);if((0,d.Yv)(Re)){var Ue=(0,x.qf)(Re),Ke=(0,f.Z)(Ue,4),Ye=Ke[0],lt=Ke[1],ht=Ke[2],ot=Ke[3],et=t._.getBoundTextElementPosition(Re,Y);De=(ht-Ye)/2-(et.x-Ye),Ze=(ot-lt)/2-(et.y-lt),Le=Le+et.x-Y.x,ze=ze+et.y-Y.y}}var nt=180*Y.angle/Math.PI,ct=we.generator,vt=te;if(Y.link){var Tt=te.ownerDocument.createElementNS(B.hR,"a");Tt.setAttribute("href",(0,o.$)(Y.link)),vt.appendChild(Tt),vt=Tt}switch(Y.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":E(Y,ct);var Bt=oe(we,M(Y),B.zK),Kt=Y.opacity/100;Kt!==1&&(Bt.setAttribute("stroke-opacity","".concat(Kt)),Bt.setAttribute("fill-opacity","".concat(Kt))),Bt.setAttribute("stroke-linecap","round"),Bt.setAttribute("transform","translate(".concat(Le||0," ").concat(ze||0,") rotate(").concat(nt," ").concat(De," ").concat(Ze,")")),vt.appendChild(Bt);break;case"line":case"arrow":var Wt=(0,n.WJ)(Y),Gt=te.ownerDocument.createElementNS(B.hR,"mask");if(Wt){Gt.setAttribute("id","mask-".concat(Y.id));var Et=te.ownerDocument.createElementNS(B.hR,"rect");Le=Le||0,ze=ze||0,Et.setAttribute("x","0"),Et.setAttribute("y","0"),Et.setAttribute("fill","#fff"),Et.setAttribute("width","".concat(Y.width+100+Le)),Et.setAttribute("height","".concat(Y.height+100+ze)),Gt.appendChild(Et);var Pt=te.ownerDocument.createElementNS(B.hR,"rect"),Nt=t._.getBoundTextElementPosition(Y,Wt),Qt=Le+Nt.x-Y.x,Dt=ze+Nt.y-Y.y;Pt.setAttribute("x",Qt.toString()),Pt.setAttribute("y",Dt.toString()),Pt.setAttribute("fill","#000"),Pt.setAttribute("width","".concat(Wt.width)),Pt.setAttribute("height","".concat(Wt.height)),Pt.setAttribute("opacity","1"),Gt.appendChild(Pt)}E(Y,ct);var We=te.ownerDocument.createElementNS(B.hR,"g");Wt&&We.setAttribute("mask","url(#mask-".concat(Y.id,")"));var Xe=Y.opacity/100;We.setAttribute("stroke-linecap","round"),M(Y).forEach(function(Wr){var Ir=oe(we,Wr,B.zK);Xe!==1&&(Ir.setAttribute("stroke-opacity","".concat(Xe)),Ir.setAttribute("fill-opacity","".concat(Xe))),Ir.setAttribute("transform","translate(".concat(Le||0," ").concat(ze||0,") rotate(").concat(nt," ").concat(De," ").concat(Ze,")")),Y.type==="line"&&(0,W.g6)(Y.points)&&Y.backgroundColor!=="transparent"&&Ir.setAttribute("fill-rule","evenodd"),We.appendChild(Ir)}),vt.appendChild(We),vt.append(Gt);break;case"freedraw":E(Y,ct),ge(Y);var $e=Y.opacity/100,Ve=M(Y),ft=Ve?oe(we,Ve,B.zK):te.ownerDocument.createElementNS(B.hR,"g");$e!==1&&(ft.setAttribute("stroke-opacity","".concat($e)),ft.setAttribute("fill-opacity","".concat($e))),ft.setAttribute("transform","translate(".concat(Le||0," ").concat(ze||0,") rotate(").concat(nt," ").concat(De," ").concat(Ze,")")),ft.setAttribute("stroke","none");var wt=te.ownerDocument.createElementNS(B.hR,"path");wt.setAttribute("fill",Y.strokeColor),wt.setAttribute("d",he(Y)),ft.appendChild(wt),vt.appendChild(ft);break;case"image":var _t=Math.round(Y.width),Ot=Math.round(Y.height),Yt=(0,d.wi)(Y)&&_e[Y.fileId];if(Yt){var At="image-".concat(Yt.id),er=te.querySelector("#".concat(At));if(!er){(er=te.ownerDocument.createElementNS(B.hR,"symbol")).id=At;var rr=te.ownerDocument.createElementNS(B.hR,"image");rr.setAttribute("width","100%"),rr.setAttribute("height","100%"),rr.setAttribute("href",Yt.dataURL),er.appendChild(rr),vt.prepend(er)}var or=te.ownerDocument.createElementNS(B.hR,"use");if(or.setAttribute("href","#".concat(At)),He&&Yt.mimeType!==B.LO.svg&&or.setAttribute("filter",S),or.setAttribute("width","".concat(_t)),or.setAttribute("height","".concat(Ot)),Y.scale[0]!==1||Y.scale[1]!==1){var lr=Y.scale[0]!==1?-_t:0,jr=Y.scale[1]!==1?-Ot:0;or.setAttribute("transform","scale(".concat(Y.scale[0],", ").concat(Y.scale[1],") translate(").concat(lr," ").concat(jr,")"))}var zt=te.ownerDocument.createElementNS(B.hR,"g");zt.appendChild(or),zt.setAttribute("transform","translate(".concat(Le||0," ").concat(ze||0,") rotate(").concat(nt," ").concat(De," ").concat(Ze,")")),vt.appendChild(zt)}break;default:if(!(0,d.iB)(Y))throw new Error("Unimplemented type ".concat(Y.type));var Ft=Y.opacity/100,$t=te.ownerDocument.createElementNS(B.hR,"g");Ft!==1&&($t.setAttribute("stroke-opacity","".concat(Ft)),$t.setAttribute("fill-opacity","".concat(Ft))),$t.setAttribute("transform","translate(".concat(Le||0," ").concat(ze||0,") rotate(").concat(nt," ").concat(De," ").concat(Ze,")"));for(var cr=Y.text.replace(/\r\n?/g,`
`).split(`
`),Zr=(0,n.Rg)(Y.fontSize,Y.lineHeight),Hr=Y.textAlign==="center"?Y.width/2:Y.textAlign==="right"?Y.width:0,Yr=(0,D.dZ)(Y.text)?"rtl":"ltr",Xr=Y.textAlign==="center"?"middle":Y.textAlign==="right"||Yr==="rtl"?"end":"start",Dr=0;Dr<cr.length;Dr++){var gr=te.ownerDocument.createElementNS(B.hR,"text");gr.textContent=cr[Dr],gr.setAttribute("x","".concat(Hr)),gr.setAttribute("y","".concat(Dr*Zr)),gr.setAttribute("font-family",(0,D.$g)(Y)),gr.setAttribute("font-size","".concat(Y.fontSize,"px")),gr.setAttribute("fill",Y.strokeColor),gr.setAttribute("text-anchor",Xr),gr.setAttribute("style","white-space: pre;"),gr.setAttribute("direction",Yr),gr.setAttribute("dominant-baseline","text-before-edge"),$t.appendChild(gr)}vt.appendChild($t)}},N=new WeakMap([]);function ge(Y){var we=he(Y),te=new Path2D(we);return N.set(Y,te),te}function he(Y){return function(we){if(!we.length)return"";var te=we.length-1;return we.reduce(function(_e,Le,ze,He){return ze===te?_e.push(Le,be(Le,He[0]),"L",He[0],"Z"):_e.push(Le,be(Le,He[ze+1])),_e},["M",we[0],"Q"]).join(" ").replace(Se,"$1")}(a(Y.simulatePressure?Y.points:Y.points.length?Y.points.map(function(we,te){var _e=(0,f.Z)(we,2);return[_e[0],_e[1],Y.pressures[te]]}):[[0,0,.5]],{simulatePressure:Y.simulatePressure,size:4.25*Y.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(we){return Math.sin(we*Math.PI/2)},last:!!Y.lastCommittedPoint}))}function be(Y,we){return[(Y[0]+we[0])/2,(Y[1]+we[1])/2]}var Se=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(me,Q,e){e.d(Q,{Lu:function(){return u},Eu:function(){return l},M_:function(){return ae}});var w,g=e(2577),f=e(1930),d=e(5284),x=e(1047),D=e(756),W=e(1868),i=e(3063),R=e(8982),B=e(6938),ee=e(242),le=e(2325),y=e(8290),ce=e(267),fe=e(6340);(function(U){U.ACTIVE="active",U.AWAY="away",U.IDLE="idle"})(w||(w={}));var Ce=e(2335),ue=e(4929),de=e(1974);function ye(U,H){var j=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!j){if(Array.isArray(U)||(j=function(O,z){if(O){if(typeof O=="string")return b(O,z);var p=Object.prototype.toString.call(O).slice(8,-1);if(p==="Object"&&O.constructor&&(p=O.constructor.name),p==="Map"||p==="Set")return Array.from(O);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return b(O,z)}}(U))||H&&U&&typeof U.length=="number"){j&&(U=j);var F=0,T=function(){};return{s:T,n:function(){return F>=U.length?{done:!0}:{done:!1,value:U[F++]}},e:function(O){throw O},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K,ie=!0,M=!1;return{s:function(){j=j.call(U)},n:function(){var O=j.next();return ie=O.done,O},e:function(O){M=!0,K=O},f:function(){try{ie||j.return==null||j.return()}finally{if(M)throw K}}}}function b(U,H){(H==null||H>U.length)&&(H=U.length);for(var j=0,F=new Array(H);j<H;j++)F[j]=U[j];return F}var G,m=(0,fe.Q5)(),u=2,I=function(U,H,j,F,T,K,ie,M){var O=arguments.length>8&&arguments[8]!==void 0&&arguments[8];U.save(),U.translate(K,ie),U.rotate(M),O&&U.fillRect(H-K,j-ie,F,T),U.strokeRect(H-K,j-ie,F,T),U.restore()},h=function(U,H,j,F){var T=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];U.beginPath(),U.arc(H,j,F,0,2*Math.PI),U.fill(),T&&U.stroke()},c=function(U,H,j,F,T,K){var ie=arguments.length>6&&arguments[6]!==void 0&&arguments[6];U.strokeStyle="#5e5ad8",U.setLineDash([]),U.fillStyle="rgba(255, 255, 255, 0.9)",K?U.fillStyle="rgba(134, 131, 226, 0.9)":ie&&(U.fillStyle="rgba(177, 151, 252, 0.7)"),h(U,F[0],F[1],T/j.zoom.value,!ie)},a=function(U,H,j,F){if(H.selectedLinearElement){U.save(),U.translate(j.scrollX,j.scrollY),U.lineWidth=1/j.zoom.value;var T=B._.getPointsGlobalCoordinates(F),K=B._.POINT_HANDLE_SIZE,ie=H.editingLinearElement?K:K/2;T.forEach(function(M,O){var z,p,E=!((z=H.editingLinearElement)===null||z===void 0||(p=z.selectedPointsIndices)===null||p===void 0||!p.includes(O));c(U,H,j,M,ie,E)}),B._.getEditorMidPoints(F,H).filter(function(M){return M!==null}).forEach(function(M){var O;H!=null&&(O=H.selectedLinearElement)!==null&&O!==void 0&&O.segmentMidPointHoveredCoords&&B._.arePointsEqual(M,H.selectedLinearElement.segmentMidPointHoveredCoords)?H.editingLinearElement?(c(U,H,j,M,ie,!1),n(M,U,j)):(n(M,U,j),c(U,H,j,M,ie,!1)):(H.editingLinearElement||T.length===2)&&c(U,H,j,M,K/2,!1,!0)}),U.restore()}},n=function(U,H,j){H.fillStyle="rgba(105, 101, 219, 0.4)",h(H,U[0],U[1],B._.POINT_HANDLE_SIZE/j.zoom.value,!1)},t=function(U){var H,j=U.elements,F=U.appState,T=U.scale,K=U.rc,ie=U.canvas,M=U.renderConfig;if(ie===null)return{atLeastOneVisibleElement:!1};var O=M.renderScrollbars,z=O===void 0||O,p=M.renderSelection,E=p===void 0||p,v=M.renderGrid,Z=v===void 0||v,P=M.isExporting,oe=M.selectionColor||d.black,se=ie.getContext("2d");se.setTransform(1,0,0,1,0,0),se.save(),se.scale(T,T);var N=ie.width/T,ge=ie.height/T;P&&M.theme==="dark"&&(se.filter=Ce.ZF),typeof M.viewBackgroundColor=="string"?((M.viewBackgroundColor==="transparent"||M.viewBackgroundColor.length===5||M.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(M.viewBackgroundColor))&&se.clearRect(0,0,N,ge),se.save(),se.fillStyle=M.viewBackgroundColor,se.fillRect(0,0,N,ge),se.restore()):se.clearRect(0,0,N,ge),se.save(),se.scale(M.zoom.value,M.zoom.value),Z&&F.gridSize&&function(Ve,ft,wt,_t,Ot,Yt){Ve.save(),Ve.strokeStyle="rgba(0,0,0,0.1)",Ve.beginPath();for(var At=wt;At<wt+Ot+2*ft;At+=ft)Ve.moveTo(At,_t-ft),Ve.lineTo(At,_t+Yt+2*ft);for(var er=_t;er<_t+Yt+2*ft;er+=ft)Ve.moveTo(wt-ft,er),Ve.lineTo(wt+Ot+2*ft,er);Ve.stroke(),Ve.restore()}(se,F.gridSize,-Math.ceil(M.zoom.value/F.gridSize)*F.gridSize+M.scrollX%F.gridSize,-Math.ceil(M.zoom.value/F.gridSize)*F.gridSize+M.scrollY%F.gridSize,N/M.zoom.value,ge/M.zoom.value);var he=j.filter(function(Ve){return _(Ve,N,ge,{zoom:M.zoom,offsetLeft:F.offsetLeft,offsetTop:F.offsetTop,scrollX:M.scrollX,scrollY:M.scrollY})}),be=void 0;if(he.forEach(function(Ve){try{var ft;(0,i.lw)(Ve,K,se,M,F),((ft=F.editingLinearElement)===null||ft===void 0?void 0:ft.elementId)===Ve.id&&Ve&&(be=Ve),P||A(Ve,se,F)}catch(wt){console.error(wt)}}),be&&a(se,F,M,be),F.selectionElement)try{(0,i.lw)(F.selectionElement,K,se,M,F)}catch(Ve){console.error(Ve)}(0,y.N1)(F)&&F.suggestedBindings.filter(function(Ve){return Ve!=null}).forEach(function(Ve){X(se,M,Ve)});var Se,Y=(0,W.eD)(j,F);if(Y.length===1&&((H=F.editingLinearElement)===null||H===void 0?void 0:H.elementId)===Y[0].id&&a(se,F,M,Y[0]),F.selectedLinearElement&&F.selectedLinearElement.hoverPointIndex>=0&&function(Ve,ft,wt){var _t,Ot,Yt=ft.selectedLinearElement,At=Yt.elementId,er=Yt.hoverPointIndex;if((_t=ft.editingLinearElement)===null||_t===void 0||(Ot=_t.selectedPointsIndices)===null||Ot===void 0||!Ot.includes(er)){var rr=B._.getElement(At);if(rr){var or=B._.getPointAtIndexGlobalCoordinates(rr,er);Ve.save(),Ve.translate(wt.scrollX,wt.scrollY),n(or,Ve,wt),Ve.restore()}}}(se,F,M),E&&!F.multiElement&&!F.editingLinearElement){var we,te=(0,ce.oY)(Y,F),_e=Y.map(function(Ve){return Ve.id});if(Y.length===1&&(0,de.bt)(Y[0])&&((we=F.selectedLinearElement)===null||we===void 0?void 0:we.elementId)===Y[0].id&&!Y[0].locked&&a(se,F,M,Y[0]),te){var Le,ze=j.reduce(function(Ve,ft){var wt=[];if(_e.includes(ft.id)&&!(0,ee.zq)(F,ft)&&wt.push(oe),M.remoteSelectedElementIds[ft.id]&&wt.push.apply(wt,(0,f.Z)(M.remoteSelectedElementIds[ft.id].map(function(jr){return(0,R.X)(jr,F).background}))),wt.length){var _t=(0,x.qf)(ft,!0),Ot=(0,g.Z)(_t,6),Yt=Ot[0],At=Ot[1],er=Ot[2],rr=Ot[3],or=Ot[4],lr=Ot[5];Ve.push({angle:ft.angle,elementX1:Yt,elementY1:At,elementX2:er,elementY2:rr,selectionColors:wt,dashed:!!M.remoteSelectedElementIds[ft.id],cx:or,cy:lr})}return Ve},[]),He=function(Ve){var ft=(0,ee.Fb)(j,Ve),wt=(0,x.KP)(ft),_t=(0,g.Z)(wt,4),Ot=_t[0],Yt=_t[1],At=_t[2],er=_t[3];ze.push({angle:0,elementX1:Ot,elementX2:At,elementY1:Yt,elementY2:er,selectionColors:[d.black],dashed:!0,cx:Ot+(At-Ot)/2,cy:Yt+(er-Yt)/2})},Fe=ye((0,ee.iJ)(F));try{for(Fe.s();!(Le=Fe.n()).done;)He(Le.value)}catch(Ve){Fe.e(Ve)}finally{Fe.f()}F.editingGroupId&&He(F.editingGroupId),ze.forEach(function(Ve){return S(se,M,Ve)})}if(se.save(),se.translate(M.scrollX,M.scrollY),Y.length===1){se.fillStyle=d.white;var Pe=(0,x.PC)(Y[0],M.zoom,"mouse");!F.viewModeEnabled&&te&&s(se,M,Pe,Y[0].angle)}else if(Y.length>1&&!F.isRotating){var J=2*u/M.zoom.value;se.fillStyle=d.white;var ve=(0,x.KP)(Y),xe=(0,g.Z)(ve,4),Ie=xe[0],De=xe[1],Ze=xe[2],Re=xe[3],Ue=se.getLineDash();se.setLineDash([2/M.zoom.value]);var Ke=se.lineWidth;se.lineWidth=1/M.zoom.value,se.strokeStyle=oe,I(se,Ie-J,De-J,Ze-Ie+2*J,Re-De+2*J,(Ie+Ze)/2,(De+Re)/2,0),se.lineWidth=Ke,se.setLineDash(Ue);var Ye=(0,x.kK)([Ie,De,Ze,Re,(Ie+Ze)/2,(De+Re)/2],0,M.zoom,"mouse",x.ox);Y.some(function(Ve){return!Ve.locked})&&s(se,M,Ye,0)}se.restore()}for(var lt in se.restore(),M.remotePointerViewportCoords){var ht=M.remotePointerViewportCoords[lt],ot=ht.x,et=ht.y;ot-=F.offsetLeft,et-=F.offsetTop;var nt=ot<0||ot>N-9||et<0||et>ge-14;ot=Math.max(ot,0),ot=Math.min(ot,N-9),et=Math.max(et,0),et=Math.min(et,ge-14);var ct=(0,R.X)(lt,F),vt=ct.background,Tt=ct.stroke;se.save(),se.strokeStyle=Tt,se.fillStyle=vt;var Bt=M.remotePointerUserStates[lt];(nt||Bt===w.AWAY)&&(se.globalAlpha=.48),M.remotePointerButton&&M.remotePointerButton[lt]==="down"&&(se.beginPath(),se.arc(ot,et,15,0,2*Math.PI,!1),se.lineWidth=3,se.strokeStyle="#ffffff88",se.stroke(),se.closePath(),se.beginPath(),se.arc(ot,et,15,0,2*Math.PI,!1),se.lineWidth=1,se.strokeStyle=Tt,se.stroke(),se.closePath()),se.beginPath(),se.moveTo(ot,et),se.lineTo(ot+1,et+14),se.lineTo(ot+4,et+9),se.lineTo(ot+9,et+10),se.lineTo(ot,et),se.fill(),se.stroke();var Kt=M.remotePointerUsernames[lt],Wt="";Bt===w.AWAY?Wt=m?"":" (".concat(w.AWAY,")"):Bt===w.IDLE&&(Wt=m?"":" (".concat(w.IDLE,")"));var Gt="".concat(Kt||"").concat(Wt?" ".concat(Wt):"");if(!nt&&Gt){var Et=ot+9,Pt=et+14,Nt=se.measureText(Gt),Qt=Nt.actualBoundingBoxDescent+Nt.actualBoundingBoxAscent,Dt=Et-1,We=Pt-1,Xe=Nt.width+8+2,$e=Qt+8+2;se.roundRect?(se.beginPath(),se.roundRect(Dt,We,Xe,$e,4/M.zoom.value),se.fillStyle=vt,se.fill(),se.fillStyle=Tt,se.stroke()):(se.fillStyle=Tt,se.fillRect(Dt,We,Xe,$e),se.fillStyle=vt,se.fillRect(Et,Pt,Xe-2,$e-2)),se.fillStyle=d.white,se.fillText(Gt,Et+4,Pt+4+Nt.actualBoundingBoxAscent)}se.restore(),se.closePath()}return z&&(Se=(0,D.tJ)(j,N,ge,M),se.save(),se.fillStyle=D.w1,se.strokeStyle="rgba(255,255,255,0.8)",[Se.horizontal,Se.vertical].forEach(function(Ve){Ve&&function(ft,wt,_t,Ot,Yt,At){ft.beginPath(),ft.moveTo(wt+At,_t),ft.lineTo(wt+Ot-At,_t),ft.quadraticCurveTo(wt+Ot,_t,wt+Ot,_t+At),ft.lineTo(wt+Ot,_t+Yt-At),ft.quadraticCurveTo(wt+Ot,_t+Yt,wt+Ot-At,_t+Yt),ft.lineTo(wt+At,_t+Yt),ft.quadraticCurveTo(wt,_t+Yt,wt,_t+Yt-At),ft.lineTo(wt,_t+At),ft.quadraticCurveTo(wt,_t,wt+At,_t),ft.closePath(),ft.fill(),ft.stroke()}(se,Ve.x,Ve.y,Ve.width,Ve.height,D.nn/2)}),se.restore()),se.restore(),{atLeastOneVisibleElement:he.length>0,scrollBars:Se}},o=(0,fe.hR)(function(U){var H,j=t(U);(H=U.callback)===null||H===void 0||H.call(U,j)},{trailing:!0}),l=function(U,H){var j;if(!H){var F=t(U);return(j=U.callback)===null||j===void 0||j.call(U,F),F}o(U)},s=function(U,H,j,F){Object.keys(j).forEach(function(T){var K=j[T];if(K!==void 0){var ie=(0,g.Z)(K,4),M=ie[0],O=ie[1],z=ie[2],p=ie[3];U.save(),U.lineWidth=1/H.zoom.value,H.selectionColor&&(U.strokeStyle=H.selectionColor),T==="rotation"?h(U,M+z/2,O+p/2,z/2):U.roundRect?(U.beginPath(),U.roundRect(M,O,z,p,2/H.zoom.value),U.fill(),U.stroke()):I(U,M,O,z,p,M+z/2,O+p/2,F,!0),U.restore()}})},S=function(U,H,j){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*u,T=j.angle,K=j.elementX1,ie=j.elementY1,M=j.elementX2,O=j.elementY2,z=j.selectionColors,p=j.cx,E=j.cy,v=j.dashed,Z=M-K,P=O-ie,oe=F/H.zoom.value,se=8/H.zoom.value,N=4/H.zoom.value;U.save(),U.translate(H.scrollX,H.scrollY),U.lineWidth=1/H.zoom.value;for(var ge=z.length,he=0;he<ge;++he)U.strokeStyle=z[he],v&&U.setLineDash([se,N+(se+N)*(ge-1)]),U.lineDashOffset=(se+N)*he,I(U,K-oe,ie-oe,Z+2*oe,P+2*oe,p,E,T);U.restore()},X=function(U,H,j){var F=Array.isArray(j)?q:C;U.save(),U.translate(H.scrollX,H.scrollY),F(U,j),U.restore()},C=function(U,H){var j=(0,x.qf)(H),F=(0,g.Z)(j,4),T=F[0],K=F[1],ie=F[2]-T,M=F[3]-K,O=(0,le.fb)(H,ie,M);U.strokeStyle="rgba(0,0,0,.05)",U.lineWidth=O-4;var z=2+O/2;switch(H.type){case"rectangle":case"text":case"image":I(U,T-z,K-z,ie+2*z,M+2*z,T+ie/2,K+M/2,H.angle);break;case"diamond":var p=Math.hypot(ie,M);(function(E,v,Z,P,oe,se){E.save(),E.translate(P,oe),E.rotate(se),E.beginPath(),E.moveTo(0,Z/2),E.lineTo(v/2,0),E.lineTo(0,-Z/2),E.lineTo(-v/2,0),E.closePath(),E.stroke(),E.restore()})(U,ie+2*(z*p/M),M+2*(z*p/ie),T+ie/2,K+M/2,H.angle);break;case"ellipse":(function(E,v,Z,P,oe,se){E.beginPath(),E.ellipse(P,oe,v/2,Z/2,se,0,2*Math.PI),E.stroke()})(U,ie+2*z,M+2*z,T+ie/2,K+M/2,H.angle)}},q=function(U,H){var j=(0,g.Z)(H,3),F=j[0],T=j[1],K=j[2],ie=(0,le.fb)(K,K.width,K.height);U.strokeStyle="rgba(0,0,0,0)",U.fillStyle="rgba(0,0,0,.05)",(T==="both"?[0,-1]:T==="start"?[0]:[-1]).forEach(function(M){var O=B._.getPointAtIndexGlobalCoordinates(F,M),z=(0,g.Z)(O,2),p=z[0],E=z[1];h(U,p,E,ie)})},A=function(U,H,j){if(U.link&&!j.selectedElementIds[U.id]){var F=(0,x.qf)(U),T=(0,g.Z)(F,4),K=T[0],ie=T[1],M=T[2],O=T[3],z=(0,ue.sw)([K,ie,M,O],U.angle,j),p=(0,g.Z)(z,4),E=p[0],v=p[1],Z=p[2],P=p[3],oe=E+Z/2,se=v+P/2;if(H.save(),H.translate(j.scrollX+oe,j.scrollY+se),H.rotate(U.angle),G&&G.zoom===j.zoom.value)H.drawImage(G,E-oe,v-se,Z,P);else{(G=document.createElement("canvas")).zoom=j.zoom.value,G.width=Z*window.devicePixelRatio*j.zoom.value,G.height=P*window.devicePixelRatio*j.zoom.value;var N=G.getContext("2d");N.scale(window.devicePixelRatio*j.zoom.value,window.devicePixelRatio*j.zoom.value),N.fillStyle="#fff",N.fillRect(0,0,Z,P),N.drawImage(ue.rj,0,0,Z,P),N.restore(),H.drawImage(G,E-oe,v-se,Z,P)}H.restore()}},_=function(U,H,j,F){var T=(0,x.Pi)(U),K=(0,g.Z)(T,4),ie=K[0],M=K[1],O=K[2],z=K[3],p=(0,fe.dE)({clientX:F.offsetLeft,clientY:F.offsetTop},F),E=(0,fe.dE)({clientX:F.offsetLeft+H,clientY:F.offsetTop+j},F);return p.x<=O&&p.y<=z&&E.x>=ie&&E.y>=M},ae=function(U,H,j,F){var T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},K=T.offsetX,ie=K===void 0?0:K,M=T.offsetY,O=M===void 0?0:M,z=T.exportWithDarkMode,p=z!==void 0&&z;j&&U.forEach(function(E,v){if(!E.isDeleted)try{(0,i.Rg)(E,H,j,F,E.x+ie,E.y+O,p)}catch(Z){console.error(Z)}})}},1564:function(me,Q,e){var w=e(1930),g=e(8821),f=e(5169),d=e(1047),x=function(W){return typeof W=="string"},D=function(){function W(){(0,g.Z)(this,W),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,f.Z)(W,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(i){return this.elementsMap.get(i)||null}},{key:"getNonDeletedElement",value:function(i){var R=this.getElement(i);return R&&(0,d.qP)(R)?R:null}},{key:"mapElements",value:function(i){var R=!1,B=this.elements.map(function(ee){var le=i(ee);return le!==ee&&(R=!0),le});return R&&this.replaceAllElements(B),R}},{key:"replaceAllElements",value:function(i){var R=this;this.elements=i,this.elementsMap.clear(),i.forEach(function(B){R.elementsMap.set(B.id,B),W.mapElementToScene(B,R)}),this.nonDeletedElements=(0,d.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var i=0,R=Array.from(this.callbacks);i<R.length;i++)(0,R[i])()}},{key:"addCallback",value:function(i){var R=this;if(this.callbacks.has(i))throw new Error;return this.callbacks.add(i),function(){if(!R.callbacks.has(i))throw new Error;R.callbacks.delete(i)}}},{key:"destroy",value:function(){var i=this;W.sceneMapById.forEach(function(R,B){R===i&&W.sceneMapById.delete(B)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(i,R){if(!Number.isFinite(R)||R<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var B=[].concat((0,w.Z)(this.elements.slice(0,R)),[i],(0,w.Z)(this.elements.slice(R)));this.replaceAllElements(B)}},{key:"getElementIndex",value:function(i){return this.elements.findIndex(function(R){return R.id===i})}}],[{key:"mapElementToScene",value:function(i,R){x(i)?this.sceneMapById.set(i,R):(this.sceneMapByElement.set(i,R),this.sceneMapById.set(i.id,R))}},{key:"getScene",value:function(i){return x(i)?this.sceneMapById.get(i)||null:this.sceneMapByElement.get(i)||null}}]),W}();D.sceneMapByElement=new WeakMap,D.sceneMapById=new Map,Q.Z=D},8120:function(me,Q,e){e.d(Q,{$b:function(){return w},CJ:function(){return R},M9:function(){return d},PD:function(){return g},QG:function(){return i},Un:function(){return W},Zd:function(){return f},bZ:function(){return D},sh:function(){return x}});var w=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="line"||B==="freedraw"},g=function(B){return B!=="image"},f=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="freedraw"||B==="arrow"||B==="line"},d=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="arrow"||B==="line"},x=function(B){return B==="rectangle"||B==="arrow"||B==="line"||B==="diamond"},D=function(B){return B==="text"},W=function(B){return B==="arrow"},i=function(B,ee){for(var le=null,y=B.length-1;y>=0;--y){var ce=B[y];if(!ce.isDeleted&&ee(ce)){le=ce;break}}return le},R=function(B,ee){return B.filter(function(le){return!le.isDeleted&&ee(le)})}},4162:function(me,Q,e){e.d(Q,{$D:function(){return fe},Cg:function(){return ue},NL:function(){return ce},oj:function(){return y}});var w=e(2577),g=e(8950),f=e(2975),d=e.n(f),x=e(8234),D=e(8925),W=e(3547),i=e(6340),R=e(2335),B=e(8897),ee=e(5523),le=e(5637),y="<!-- svg-source:excalidraw -->",ce=function(){var de=(0,g.Z)(d().mark(function ye(b,G,m,u){var I,h,c,a,n,t,o,l,s,S,X,C,q,A,_,ae,U,H,j=arguments;return d().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return I=u.exportBackground,h=u.exportPadding,c=h===void 0?R.qy:h,a=u.viewBackgroundColor,n=j.length>4&&j[4]!==void 0?j[4]:function(T,K){var ie=document.createElement("canvas");return ie.width=T*G.exportScale,ie.height=K*G.exportScale,{canvas:ie,scale:G.exportScale}},t=Ce(b,c),o=(0,w.Z)(t,4),l=o[0],s=o[1],S=o[2],X=o[3],C=n(S,X),q=C.canvas,A=C.scale,_=A===void 0?1:A,ae=(0,B.im)(),F.next=7,(0,le.Xx)({imageCache:new Map,fileIds:(0,le.oA)(b).map(function(T){return T.fileId}),files:m});case 7:return U=F.sent,H=U.imageCache,(0,W.Eu)({elements:b,appState:G,scale:_,rc:x.Z.canvas(q),canvas:q,renderConfig:{viewBackgroundColor:I?a:null,scrollX:-l+c,scrollY:-s+c,zoom:ae.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:G.exportWithDarkMode?"dark":"light",imageCache:H,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),F.abrupt("return",q);case 11:case"end":return F.stop()}},ye)}));return function(ye,b,G,m){return de.apply(this,arguments)}}(),fe=function(){var de=(0,g.Z)(d().mark(function ye(b,G,m,u){var I,h,c,a,n,t,o,l,s,S,X,C,q,A,_,ae,U,H,j;return d().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(I=G.exportPadding,h=I===void 0?R.qy:I,c=G.viewBackgroundColor,a=G.exportScale,n=a===void 0?1:a,t=G.exportEmbedScene,o="",!t){F.next=14;break}return F.prev=3,F.next=6,Promise.resolve().then(e.bind(e,673));case 6:return F.next=8,F.sent.encodeSvgMetadata({text:u!=null&&u.serializeAsJSON?u==null||(l=u.serializeAsJSON)===null||l===void 0?void 0:l.call(u):(0,ee.I_)(b,G,m||{},"local")});case 8:o=F.sent,F.next=14;break;case 11:F.prev=11,F.t0=F.catch(3),console.error(F.t0);case 14:return s=Ce(b,h),S=(0,w.Z)(s,4),X=S[0],C=S[1],q=S[2],A=S[3],(_=document.createElementNS(R.hR,"svg")).setAttribute("version","1.1"),_.setAttribute("xmlns",R.hR),_.setAttribute("viewBox","0 0 ".concat(q," ").concat(A)),_.setAttribute("width","".concat(q*n)),_.setAttribute("height","".concat(A*n)),G.exportWithDarkMode&&_.setAttribute("filter",R.ZF),ae="https://excalidraw.com/",ae=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.3"),(U=ae)!==null&&U!==void 0&&U.startsWith("/")&&(ae=ae.replace("/","".concat(window.location.origin,"/"))),ae="".concat(ae,"/dist/excalidraw-assets/"),_.innerHTML=`
  `.concat(y,`
  `).concat(o,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(ae,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(ae,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),G.exportBackground&&c&&((H=_.ownerDocument.createElementNS(R.hR,"rect")).setAttribute("x","0"),H.setAttribute("y","0"),H.setAttribute("width","".concat(q)),H.setAttribute("height","".concat(A)),H.setAttribute("fill",c),_.appendChild(H)),j=x.Z.svg(_),(0,W.M_)(b,j,_,m||{},{offsetX:-X+h,offsetY:-C+h,exportWithDarkMode:G.exportWithDarkMode}),F.abrupt("return",_);case 29:case"end":return F.stop()}},ye,null,[[3,11]])}));return function(ye,b,G,m){return de.apply(this,arguments)}}(),Ce=function(de,ye){var b=(0,D.KP)(de),G=(0,w.Z)(b,4),m=G[0],u=G[1],I=G[2],h=G[3];return[m,u,(0,i.TE)(m,I)+2*ye,(0,i.TE)(u,h)+ye+ye]},ue=function(de,ye,b){var G=Ce(de,ye).map(function(u){return Math.trunc(u*b)}),m=(0,w.Z)(G,4);return[m[2],m[3]]}},75:function(me,Q,e){e.d(Q,{$b:function(){return d.$b},CJ:function(){return d.CJ},M9:function(){return d.M9},N:function(){return g.N},PR:function(){return g.PR},QG:function(){return d.QG},Un:function(){return d.Un},W:function(){return f.W},Yp:function(){return g.Yp},Zd:function(){return d.Zd},Zs:function(){return g.Zs},_4:function(){return w._4},bZ:function(){return d.bZ},eD:function(){return g.eD},j:function(){return x.j},sh:function(){return d.sh}});var w=e(756),g=e(1868),f=e(2264),d=e(8120),x=e(746)},2264:function(me,Q,e){e.d(Q,{W:function(){return x},s:function(){return d}});var w=e(2577),g=e(1047),f=e(6340),d=function(D){var W=D.scenePoint,i=D.viewportDimensions,R=D.zoom;return{scrollX:i.width/2/R.value-W.x,scrollY:i.height/2/R.value-W.y}},x=function(D,W,i){if(!(D=(0,g.n_)(D)).length)return{scrollX:0,scrollY:0};var R=(0,g.KP)(D),B=(0,w.Z)(R,4),ee=B[0],le=B[1],y=B[2],ce=B[3];if(function(ue,de,ye){var b=(0,w.Z)(ye,4),G=b[0],m=b[1],u=b[2],I=b[3],h=(0,f._i)({sceneX:G,sceneY:m},ue),c=h.x,a=h.y,n=(0,f._i)({sceneX:u,sceneY:I},ue),t=n.x,o=n.y;return t-c>ue.width||o-a>ue.height}(W,0,[ee,le,y,ce])){var fe=(0,g.os)(D,(0,f.dE)({clientX:W.scrollX,clientY:W.scrollY},W)),Ce=(0,w.Z)(fe,4);ee=Ce[0],le=Ce[1],y=Ce[2],ce=Ce[3]}return d({scenePoint:{x:(ee+y)/2,y:(le+ce)/2},viewportDimensions:{width:W.width,height:W.height},zoom:W.zoom})}},756:function(me,Q,e){e.d(Q,{WM:function(){return x},_4:function(){return R},nn:function(){return D},tJ:function(){return i},w1:function(){return W}});var w=e(2577),g=e(1047),f=e(6340),d=e(8211),x=4,D=6,W="rgba(0,0,0,0.3)",i=function(B,ee,le,y){var ce=y.scrollX,fe=y.scrollY,Ce=y.zoom;if(B.length===0)return{horizontal:null,vertical:null};var ue=(0,g.KP)(B),de=(0,w.Z)(ue,4),ye=de[0],b=de[1],G=de[2],m=de[3],u=ee/Ce.value,I=le/Ce.value,h=ee-u,c=le-I,a={top:parseInt((0,f.IH)("sat")),bottom:parseInt((0,f.IH)("sab")),left:parseInt((0,f.IH)("sal")),right:parseInt((0,f.IH)("sar"))},n=(0,d.G3)().rtl,t=h/2-ce+a.left,o=c/2-fe+a.top,l=t+u-a.right,s=o+I-a.bottom,S=Math.min(ye,t),X=Math.min(b,o),C=Math.max(G,l),q=Math.max(m,s);return{horizontal:t===S&&l===C?null:{x:Math.max(a.left,x)+(t-S)/(C-S)*ee,y:le-D-Math.max(x,a.bottom),width:(l-t)/(C-S)*ee-Math.max(2*x,a.left+a.right),height:D},vertical:o===X&&s===q?null:{x:n?Math.max(a.left,x):ee-D-Math.max(a.right,x),y:(o-X)/(q-X)*le+Math.max(a.top,x),width:D,height:(s-o)/(q-X)*le-Math.max(2*x,a.top+a.bottom)}}},R=function(B,ee,le){var y=[B.horizontal,B.vertical].map(function(ue){return ue!=null&&ue.x<=ee&&ee<=ue.x+ue.width&&ue.y<=le&&le<=ue.y+ue.height}),ce=(0,w.Z)(y,2),fe=ce[0],Ce=ce[1];return{isOverEither:fe||Ce,isOverHorizontal:fe,isOverVertical:Ce}}},1868:function(me,Q,e){e.d(Q,{N:function(){return x},PR:function(){return D},Yp:function(){return d},Zs:function(){return i},eD:function(){return W}});var w=e(2577),g=e(1047),f=e(1974),d=function(R,B){var ee=(0,g.qf)(B),le=(0,w.Z)(ee,4),y=le[0],ce=le[1],fe=le[2],Ce=le[3];return R.filter(function(ue){var de=(0,g.Pi)(ue),ye=(0,w.Z)(de,4),b=ye[0],G=ye[1],m=ye[2],u=ye[3];return ue.locked===!1&&ue.type!=="selection"&&!(0,f.Xh)(ue)&&y<=b&&ce<=G&&fe>=m&&Ce>=u})},x=function(R,B){return R.some(function(ee){return B.selectedElementIds[ee.id]})},D=function(R,B,ee){var le=Array.from(new Set(W(R,B).map(function(y){return ee(y)})));return le.length===1?le[0]:null},W=function(R,B){var ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return R.filter(function(le){return B.selectedElementIds[le.id]||ee&&(0,f.Xh)(le)&&B.selectedElementIds[le==null?void 0:le.containerId]?le:null})},i=function(R,B){return B.editingElement?[B.editingElement]:W(R,B,!0)}},746:function(me,Q,e){e.d(Q,{E:function(){return f},j:function(){return g}});var w=e(2335),g=function(d){return Math.max(w.Zj,Math.min(d,30))},f=function(d,x){var D=d.viewportX,W=d.viewportY,i=d.nextZoom,R=D-x.offsetLeft,B=W-x.offsetTop,ee=x.zoom.value;return{scrollX:x.scrollX+(R-R/ee)+-(R-R/i),scrollY:x.scrollY+(B-B/ee)+-(B-B/i),zoom:{value:i}}}},6340:function(me,Q,e){e.d(Q,{$9:function(){return O},$g:function(){return ue},$h:function(){return he},AK:function(){return H},B4:function(){return I},C3:function(){return Z},Ds:function(){return ye},FG:function(){return j},Fc:function(){return le},G3:function(){return v},I4:function(){return oe},IH:function(){return _},Ip:function(){return p},KJ:function(){return t},Mj:function(){return we},OF:function(){return o},Om:function(){return a},Oo:function(){return y},PI:function(){return ie},Pr:function(){return X},Q5:function(){return z},Qm:function(){return K},TE:function(){return c},Uk:function(){return l},_Z:function(){return fe},_i:function(){return A},ag:function(){return N},cx:function(){return F},dE:function(){return q},dZ:function(){return U},h2:function(){return se},hR:function(){return b},mO:function(){return de},qr:function(){return T},qz:function(){return E},rB:function(){return s},s:function(){return Ce},tH:function(){return M},uY:function(){return C},v4:function(){return ge},w8:function(){return Y},wO:function(){return ce},wo:function(){return S},xn:function(){return P},xp:function(){return Se},y8:function(){return be},yo:function(){return h},z8:function(){return n}});var w=e(6655),g=e(7169),f=e(1930),d=e(2577),x=e(5284),D=e(56),W=e(2335),i=e(5156),R=e(8897);function B(te,_e){var Le=Object.keys(te);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(te);_e&&(ze=ze.filter(function(He){return Object.getOwnPropertyDescriptor(te,He).enumerable})),Le.push.apply(Le,ze)}return Le}function ee(te){for(var _e=1;_e<arguments.length;_e++){var Le=arguments[_e]!=null?arguments[_e]:{};_e%2?B(Object(Le),!0).forEach(function(ze){(0,g.Z)(te,ze,Le[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Le)):B(Object(Le)).forEach(function(ze){Object.defineProperty(te,ze,Object.getOwnPropertyDescriptor(Le,ze))})}return te}var le=function(){var te=new Date,_e=te.getFullYear(),Le="".concat(te.getMonth()+1).padStart(2,"0"),ze="".concat(te.getDate()).padStart(2,"0"),He="".concat(te.getHours()).padStart(2,"0"),Fe="".concat(te.getMinutes()).padStart(2,"0");return"".concat(_e,"-").concat(Le,"-").concat(ze,"-").concat(He).concat(Fe)},y=function(te){return te.charAt(0).toUpperCase()+te.slice(1)},ce=function(te){return te instanceof HTMLElement&&te.className.includes("ToolIcon")},fe=function(te){return te instanceof HTMLElement&&te.dataset.type==="wysiwyg"||te instanceof HTMLBRElement||te instanceof HTMLInputElement||te instanceof HTMLTextAreaElement||te instanceof HTMLSelectElement},Ce=function(te){return te instanceof HTMLElement&&te.dataset.type==="wysiwyg"||te instanceof HTMLBRElement||te instanceof HTMLTextAreaElement||te instanceof HTMLInputElement&&(te.type==="text"||te.type==="number")},ue=function(te){for(var _e=te.fontFamily,Le=0,ze=Object.entries(W.ut);Le<ze.length;Le++){var He=(0,d.Z)(ze[Le],2),Fe=He[0];if(He[1]===_e)return"".concat(Fe,", ").concat(W._D)}return W._D},de=function(te){var _e=te.fontSize,Le=te.fontFamily;return"".concat(_e,"px ").concat(ue({fontFamily:Le}))},ye=function(te,_e){var Le=0,ze=null,He=function(){for(var Fe=arguments.length,Pe=new Array(Fe),J=0;J<Fe;J++)Pe[J]=arguments[J];ze=Pe,clearTimeout(Le),Le=window.setTimeout(function(){ze=null,te.apply(void 0,Pe)},_e)};return He.flush=function(){if(clearTimeout(Le),ze){var Fe=ze;ze=null,te.apply(void 0,(0,f.Z)(Fe))}},He.cancel=function(){ze=null,clearTimeout(Le)},He},b=function(te,_e){var Le=null,ze=null,He=null,Fe=function J(ve){Le=window.requestAnimationFrame(function(){Le=null,te.apply(void 0,(0,f.Z)(ve)),ze=null,He&&(ze=He,He=null,J(ze))})},Pe=function(){for(var J=arguments.length,ve=new Array(J),xe=0;xe<J;xe++)ve[xe]=arguments[xe];ze=ve,Le===null?Fe(ze):_e!=null&&_e.trailing&&(He=ve)};return Pe.flush=function(){Le!==null&&(cancelAnimationFrame(Le),Le=null),ze&&(te.apply(void 0,(0,f.Z)(He||ze)),ze=He=null)},Pe.cancel=function(){ze=He=null,Le!==null&&(cancelAnimationFrame(Le),Le=null)},Pe};function G(te){return 1-Math.pow(1-te,4)}var m,u,I=function(te,_e,Le,ze){var He,Fe=!1,Pe=0,J=(ze==null?void 0:ze.duration)||250,ve=(ze==null?void 0:ze.easeFn)||G;return Pe=window.requestAnimationFrame(function xe(Ie){if(!Fe){He===void 0&&(He=Ie);var De=Ie-He;if(De<J){var Ze=ve(De/J),Re=te.map(function(Ue,Ke){return(_e[Ke]-Ue)*Ze+Ue});Le.apply(void 0,(0,f.Z)(Re)),Pe=window.requestAnimationFrame(xe)}else Le.apply(void 0,(0,f.Z)(_e))}}),function(){Fe=!0,window.cancelAnimationFrame(Pe)}},h=function(te,_e){if(!te.length||_e<1)return[];for(var Le=0,ze=0,He=Array(Math.ceil(te.length/_e));Le<te.length;)He[ze++]=te.slice(Le,Le+=_e);return He},c=function(te,_e){return Math.abs(te-_e)},a=function(te,_e){return _e.type==="custom"?ee(ee({},te.activeTool),{},{type:"custom",customType:_e.customType}):ee(ee({},te.activeTool),{},{lastActiveTool:_e.lastActiveToolBeforeEraser===void 0?te.activeTool.lastActiveTool:_e.lastActiveToolBeforeEraser,type:_e.type,customType:null})},n=function(te){te&&(te.style.cursor="")},t=function(te,_e){te&&(te.style.cursor=_e)},o=function(te,_e){m&&m.theme===_e||function(){var Le=_e===W.C6.DARK;(m=document.createElement("canvas")).theme=_e,m.height=20,m.width=20;var ze=m.getContext("2d");ze.lineWidth=1,ze.beginPath(),ze.arc(m.width/2,m.height/2,5,0,2*Math.PI),ze.fillStyle=Le?x.black:x.white,ze.fill(),ze.strokeStyle=Le?x.white:x.black,ze.stroke(),u=m.toDataURL(W.LO.svg)}(),t(te,"url(".concat(u,") ").concat(10," ").concat(10,", auto"))},l=function(te,_e){te&&(_e.activeTool.type==="selection"?n(te):(0,R.l$)(_e)?te.style.cursor=W.oc.GRAB:(0,R.EN)(_e)?o(te,_e.theme):["image","custom"].includes(_e.activeTool.type)||(te.style.cursor=W.oc.CROSSHAIR))},s=function(){var te;return((te=document.fullscreenElement)===null||te===void 0?void 0:te.nodeName)==="HTML"},S=function(){return document.documentElement.requestFullscreen()},X=function(){return document.exitFullscreen()},C=function(te){return te=te.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),W.Um?te.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):te.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},q=function(te,_e){var Le=te.clientX,ze=te.clientY,He=_e.zoom,Fe=_e.offsetLeft,Pe=_e.offsetTop,J=_e.scrollX,ve=_e.scrollY;return{x:(Le-Fe)/He.value-J,y:(ze-Pe)/He.value-ve}},A=function(te,_e){var Le=te.sceneX,ze=te.sceneY,He=_e.zoom,Fe=_e.offsetLeft,Pe=_e.offsetTop,J=_e.scrollX,ve=_e.scrollY;return{x:(Le+J)*He.value+Fe,y:(ze+ve)*He.value+Pe}},_=function(te){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(te))},ae=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),U=function(te){return ae.test(te)},H=function(te){var _e=(0,d.Z)(te,2);return{x:_e[0],y:_e[1]}},j=function(te){if((te==null?void 0:te.name)!=="AbortError")throw te;console.warn(te)},F=function(te,_e){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Le<0&&(Le=te.length+Le);for(var ze=(Le=Math.min(te.length,Math.max(Le,0)))-1;++ze<te.length;)if(_e(te[ze],ze,te))return ze;return-1},T=function(te,_e){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:te.length-1;Le<0&&(Le=te.length+Le);for(var ze=(Le=Math.min(te.length-1,Math.max(Le,0)))+1;--ze>-1;)if(_e(te[ze],ze,te))return ze;return-1},K=function(te){var _e=te.length===5&&te.substr(4,1)==="0",Le=te.length===9&&te.substr(7,2)==="00";return _e||Le||te===D.Z.elementBackground[0]},ie=function(){var te,_e,Le=new Promise(function(ze,He){te=ze,_e=He});return Le.resolve=te,Le.reject=_e,Le},M=function(te){return function(_e){(0,i.unstable_batchedUpdates)(te,_e)}},O=function(te){return b(function(_e){(0,i.unstable_batchedUpdates)(te,_e)})},z=function(){var te=document.createElement("canvas").getContext("2d");return te?(te.fillStyle="#f00",te.textBaseline="top",te.font="32px Arial",te.fillText("",0,0),te.getImageData(12,12,1,1).data[0]!==0):!1},p=function(te){for(var _e=te.parentElement;_e;){if(_e===document.body)return document;var Le=window.getComputedStyle(_e).overflowY;if(_e.scrollHeight>_e.clientHeight&&(Le==="auto"||Le==="scroll"||Le==="overlay"))return _e;_e=_e.parentElement}return document},E=function(te){for(var _e=te.parentElement;_e;){if(_e.tabIndex>-1)return void _e.focus();_e=_e.parentElement}},v=function(te){return Array.from(te).map(function(_e){return"0".concat(_e.toString(16)).slice(-2)}).join("")},Z=function(){return se()?1:Date.now()},P=function(te){return te.reduce(function(_e,Le){return _e.set(typeof Le=="string"?Le:Le.id,Le),_e},new Map)},oe=function(te){return te.reduce(function(_e,Le,ze){return _e.set(Le.id,[Le,ze]),_e},new Map)},se=function(){return!1},N=function(te,_e){return new CustomEvent(te,{detail:{nativeEvent:_e},cancelable:!0})},ge=function(te,_e){var Le=!1;for(var ze in _e){var He=_e[ze];if(He!==void 0){if(te[ze]===He&&((0,w.Z)(He)!=="object"||He===null))continue;Le=!0}}return Le?ee(ee({},te),_e):te},he=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},be=function(te){return!!te&&(0,w.Z)(te)==="object"&&"then"in te&&"catch"in te&&"finally"in te},Se=function(te){var _e=te==null?void 0:te.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return _e?Array.from(_e).filter(function(Le){return Le.tabIndex>-1&&!Le.disabled}):[]},Y=function(te,_e){var Le=Object.keys(te),ze=Object.keys(te);return Le.length===ze.length&&Le.every(function(He){return te[He]===_e[He]})},we=function(te,_e){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ze=Le.checkForDefaultPrevented,He=ze===void 0||ze;return function(Fe){if(te==null||te(Fe),!He||!Fe.defaultPrevented)return _e==null?void 0:_e(Fe)}}},9669:function(me){me.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(me){me.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(me){me.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Cascadia.woff2"},3940:function(me,Q,e){me.exports=e.p+"excalidraw-assets/Virgil.woff2"},9787:function(me){me.exports=Tr},5156:function(me){me.exports=Br},9649:function(me,Q,e){var w=e(8114).default;function g(){me.exports=g=function(){return f},me.exports.__esModule=!0,me.exports.default=me.exports;var f={},d=Object.prototype,x=d.hasOwnProperty,D=Object.defineProperty||function(l,s,S){l[s]=S.value},W=typeof Symbol=="function"?Symbol:{},i=W.iterator||"@@iterator",R=W.asyncIterator||"@@asyncIterator",B=W.toStringTag||"@@toStringTag";function ee(l,s,S){return Object.defineProperty(l,s,{value:S,enumerable:!0,configurable:!0,writable:!0}),l[s]}try{ee({},"")}catch{ee=function(s,S,X){return s[S]=X}}function le(l,s,S,X){var C=s&&s.prototype instanceof fe?s:fe,q=Object.create(C.prototype),A=new n(X||[]);return D(q,"_invoke",{value:I(l,S,A)}),q}function y(l,s,S){try{return{type:"normal",arg:l.call(s,S)}}catch(X){return{type:"throw",arg:X}}}f.wrap=le;var ce={};function fe(){}function Ce(){}function ue(){}var de={};ee(de,i,function(){return this});var ye=Object.getPrototypeOf,b=ye&&ye(ye(t([])));b&&b!==d&&x.call(b,i)&&(de=b);var G=ue.prototype=fe.prototype=Object.create(de);function m(l){["next","throw","return"].forEach(function(s){ee(l,s,function(S){return this._invoke(s,S)})})}function u(l,s){function S(C,q,A,_){var ae=y(l[C],l,q);if(ae.type!=="throw"){var U=ae.arg,H=U.value;return H&&w(H)=="object"&&x.call(H,"__await")?s.resolve(H.__await).then(function(j){S("next",j,A,_)},function(j){S("throw",j,A,_)}):s.resolve(H).then(function(j){U.value=j,A(U)},function(j){return S("throw",j,A,_)})}_(ae.arg)}var X;D(this,"_invoke",{value:function(C,q){function A(){return new s(function(_,ae){S(C,q,_,ae)})}return X=X?X.then(A,A):A()}})}function I(l,s,S){var X="suspendedStart";return function(C,q){if(X==="executing")throw new Error("Generator is already running");if(X==="completed"){if(C==="throw")throw q;return o()}for(S.method=C,S.arg=q;;){var A=S.delegate;if(A){var _=h(A,S);if(_){if(_===ce)continue;return _}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(X==="suspendedStart")throw X="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);X="executing";var ae=y(l,s,S);if(ae.type==="normal"){if(X=S.done?"completed":"suspendedYield",ae.arg===ce)continue;return{value:ae.arg,done:S.done}}ae.type==="throw"&&(X="completed",S.method="throw",S.arg=ae.arg)}}}function h(l,s){var S=l.iterator[s.method];if(S===void 0){if(s.delegate=null,s.method==="throw"){if(l.iterator.return&&(s.method="return",s.arg=void 0,h(l,s),s.method==="throw"))return ce;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return ce}var X=y(S,l.iterator,s.arg);if(X.type==="throw")return s.method="throw",s.arg=X.arg,s.delegate=null,ce;var C=X.arg;return C?C.done?(s[l.resultName]=C.value,s.next=l.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,ce):C:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,ce)}function c(l){var s={tryLoc:l[0]};1 in l&&(s.catchLoc=l[1]),2 in l&&(s.finallyLoc=l[2],s.afterLoc=l[3]),this.tryEntries.push(s)}function a(l){var s=l.completion||{};s.type="normal",delete s.arg,l.completion=s}function n(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(c,this),this.reset(!0)}function t(l){if(l){var s=l[i];if(s)return s.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var S=-1,X=function C(){for(;++S<l.length;)if(x.call(l,S))return C.value=l[S],C.done=!1,C;return C.value=void 0,C.done=!0,C};return X.next=X}}return{next:o}}function o(){return{value:void 0,done:!0}}return Ce.prototype=ue,D(G,"constructor",{value:ue,configurable:!0}),D(ue,"constructor",{value:Ce,configurable:!0}),Ce.displayName=ee(ue,B,"GeneratorFunction"),f.isGeneratorFunction=function(l){var s=typeof l=="function"&&l.constructor;return!!s&&(s===Ce||(s.displayName||s.name)==="GeneratorFunction")},f.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,ue):(l.__proto__=ue,ee(l,B,"GeneratorFunction")),l.prototype=Object.create(G),l},f.awrap=function(l){return{__await:l}},m(u.prototype),ee(u.prototype,R,function(){return this}),f.AsyncIterator=u,f.async=function(l,s,S,X,C){C===void 0&&(C=Promise);var q=new u(le(l,s,S,X),C);return f.isGeneratorFunction(s)?q:q.next().then(function(A){return A.done?A.value:q.next()})},m(G),ee(G,B,"Generator"),ee(G,i,function(){return this}),ee(G,"toString",function(){return"[object Generator]"}),f.keys=function(l){var s=Object(l),S=[];for(var X in s)S.push(X);return S.reverse(),function C(){for(;S.length;){var q=S.pop();if(q in s)return C.value=q,C.done=!1,C}return C.done=!0,C}},f.values=t,n.prototype={constructor:n,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(a),!l)for(var s in this)s.charAt(0)==="t"&&x.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var s=this;function S(ae,U){return q.type="throw",q.arg=l,s.next=ae,U&&(s.method="next",s.arg=void 0),!!U}for(var X=this.tryEntries.length-1;X>=0;--X){var C=this.tryEntries[X],q=C.completion;if(C.tryLoc==="root")return S("end");if(C.tryLoc<=this.prev){var A=x.call(C,"catchLoc"),_=x.call(C,"finallyLoc");if(A&&_){if(this.prev<C.catchLoc)return S(C.catchLoc,!0);if(this.prev<C.finallyLoc)return S(C.finallyLoc)}else if(A){if(this.prev<C.catchLoc)return S(C.catchLoc,!0)}else{if(!_)throw new Error("try statement without catch or finally");if(this.prev<C.finallyLoc)return S(C.finallyLoc)}}}},abrupt:function(l,s){for(var S=this.tryEntries.length-1;S>=0;--S){var X=this.tryEntries[S];if(X.tryLoc<=this.prev&&x.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var C=X;break}}C&&(l==="break"||l==="continue")&&C.tryLoc<=s&&s<=C.finallyLoc&&(C=null);var q=C?C.completion:{};return q.type=l,q.arg=s,C?(this.method="next",this.next=C.finallyLoc,ce):this.complete(q)},complete:function(l,s){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&s&&(this.next=s),ce},finish:function(l){for(var s=this.tryEntries.length-1;s>=0;--s){var S=this.tryEntries[s];if(S.finallyLoc===l)return this.complete(S.completion,S.afterLoc),a(S),ce}},catch:function(l){for(var s=this.tryEntries.length-1;s>=0;--s){var S=this.tryEntries[s];if(S.tryLoc===l){var X=S.completion;if(X.type==="throw"){var C=X.arg;a(S)}return C}}throw new Error("illegal catch attempt")},delegateYield:function(l,s,S){return this.delegate={iterator:t(l),resultName:s,nextLoc:S},this.method==="next"&&(this.arg=void 0),ce}},f}me.exports=g,me.exports.__esModule=!0,me.exports.default=me.exports},8114:function(me){function Q(e){return me.exports=Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},me.exports.__esModule=!0,me.exports.default=me.exports,Q(e)}me.exports=Q,me.exports.__esModule=!0,me.exports.default=me.exports},2975:function(me,Q,e){var w=e(9649)();me.exports=w;try{regeneratorRuntime=w}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}},7017:function(me,Q,e){function w(g,f){(f==null||f>g.length)&&(f=g.length);for(var d=0,x=new Array(f);d<f;d++)x[d]=g[d];return x}e.d(Q,{Z:function(){return w}})},3173:function(me,Q,e){function w(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}e.d(Q,{Z:function(){return w}})},8950:function(me,Q,e){function w(f,d,x,D,W,i,R){try{var B=f[i](R),ee=B.value}catch(le){return void x(le)}B.done?d(ee):Promise.resolve(ee).then(D,W)}function g(f){return function(){var d=this,x=arguments;return new Promise(function(D,W){var i=f.apply(d,x);function R(ee){w(i,D,W,R,B,"next",ee)}function B(ee){w(i,D,W,R,B,"throw",ee)}R(void 0)})}}e.d(Q,{Z:function(){return g}})},8821:function(me,Q,e){function w(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}e.d(Q,{Z:function(){return w}})},5169:function(me,Q,e){function w(f,d){for(var x=0;x<d.length;x++){var D=d[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,D.key,D)}}function g(f,d,x){return d&&w(f.prototype,d),x&&w(f,x),Object.defineProperty(f,"prototype",{writable:!1}),f}e.d(Q,{Z:function(){return g}})},7169:function(me,Q,e){function w(g,f,d){return f in g?Object.defineProperty(g,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):g[f]=d,g}e.d(Q,{Z:function(){return w}})},2312:function(me,Q,e){function w(g){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},w(g)}e.d(Q,{Z:function(){return w}})},2248:function(me,Q,e){e.d(Q,{Z:function(){return g}});var w=e(5901);function g(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),d&&(0,w.Z)(f,d)}},2726:function(me,Q,e){function w(g,f){if(g==null)return{};var d,x,D=function(i,R){if(i==null)return{};var B,ee,le={},y=Object.keys(i);for(ee=0;ee<y.length;ee++)B=y[ee],R.indexOf(B)>=0||(le[B]=i[B]);return le}(g,f);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(g);for(x=0;x<W.length;x++)d=W[x],f.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(g,d)&&(D[d]=g[d])}return D}e.d(Q,{Z:function(){return w}})},7245:function(me,Q,e){e.d(Q,{Z:function(){return f}});var w=e(6655),g=e(3173);function f(d,x){if(x&&((0,w.Z)(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,g.Z)(d)}},5901:function(me,Q,e){function w(g,f){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,x){return d.__proto__=x,d},w(g,f)}e.d(Q,{Z:function(){return w}})},2577:function(me,Q,e){e.d(Q,{Z:function(){return g}});var w=e(9139);function g(f,d){return function(x){if(Array.isArray(x))return x}(f)||function(x,D){var W=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(W!=null){var i,R,B=[],ee=!0,le=!1;try{for(W=W.call(x);!(ee=(i=W.next()).done)&&(B.push(i.value),!D||B.length!==D);ee=!0);}catch(y){le=!0,R=y}finally{try{ee||W.return==null||W.return()}finally{if(le)throw R}}return B}}(f,d)||(0,w.Z)(f,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(me,Q,e){e.d(Q,{Z:function(){return f}});var w=e(7017),g=e(9139);function f(d){return function(x){if(Array.isArray(x))return(0,w.Z)(x)}(d)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(d)||(0,g.Z)(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(me,Q,e){function w(g){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},w(g)}e.d(Q,{Z:function(){return w}})},9139:function(me,Q,e){e.d(Q,{Z:function(){return g}});var w=e(7017);function g(f,d){if(f){if(typeof f=="string")return(0,w.Z)(f,d);var x=Object.prototype.toString.call(f).slice(8,-1);return x==="Object"&&f.constructor&&(x=f.constructor.name),x==="Map"||x==="Set"?Array.from(f):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?(0,w.Z)(f,d):void 0}}},5605:function(me,Q,e){e.d(Q,{x0:function(){return w}});let w=(g=21)=>crypto.getRandomValues(new Uint8Array(g)).reduce((f,d)=>f+=(d&=63)<36?d.toString(36):d<62?(d-26).toString(36).toUpperCase():d>62?"-":"_","")},5284:function(me){me.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(me){me.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","brave_measure_text_error":{"start":"Looks like you are using Brave browser with the","aggressive_block_fingerprint":"Aggressively Block Fingerprinting","setting_enabled":"setting enabled","break":"This could result in breaking the","text_elements":"Text Elements","in_your_drawings":"in your drawings","strongly_recommend":"We strongly recommend disabling this setting. You can follow","steps":"these steps","how":"on how to do so","disable_setting":" If disabling this setting doesn't fix the display of text elements, please open an","issue":"issue","write":"on our GitHub, or write us on","discord":"Discord"}},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(me){me.exports=JSON.parse('{"ar-SA":89,"bg-BG":52,"bn-BD":57,"ca-ES":96,"cs-CZ":72,"da-DK":31,"de-DE":100,"el-GR":98,"en":100,"es-ES":99,"eu-ES":99,"fa-IR":91,"fi-FI":96,"fr-FR":99,"gl-ES":99,"he-IL":99,"hi-IN":73,"hu-HU":85,"id-ID":98,"it-IT":99,"ja-JP":97,"kab-KAB":93,"kk-KZ":19,"ko-KR":99,"ku-TR":91,"lt-LT":61,"lv-LV":93,"mr-IN":100,"my-MM":40,"nb-NO":100,"nl-NL":92,"nn-NO":86,"oc-FR":94,"pa-IN":79,"pl-PL":87,"pt-BR":96,"pt-PT":99,"ro-RO":100,"ru-RU":96,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":99,"ta-IN":90,"th-TH":39,"tr-TR":98,"uk-UA":93,"vi-VN":52,"zh-CN":99,"zh-HK":25,"zh-TW":100}')}},nr={};function it(me){var Q=nr[me];if(Q!==void 0)return Q.exports;var e=nr[me]={id:me,exports:{}};return rn[me](e,e.exports,it),e.exports}it.m=rn,it.n=function(me){var Q=me&&me.__esModule?function(){return me.default}:function(){return me};return it.d(Q,{a:Q}),Q},Kr=Object.getPrototypeOf?function(me){return Object.getPrototypeOf(me)}:function(me){return me.__proto__},it.t=function(me,Q){if(1&Q&&(me=this(me)),8&Q||typeof me=="object"&&me&&(4&Q&&me.__esModule||16&Q&&typeof me.then=="function"))return me;var e=Object.create(null);it.r(e);var w={};$r=$r||[null,Kr({}),Kr([]),Kr(Kr)];for(var g=2&Q&&me;typeof g=="object"&&!~$r.indexOf(g);g=Kr(g))Object.getOwnPropertyNames(g).forEach(function(f){w[f]=function(){return me[f]}});return w.default=function(){return me},it.d(e,w),e},it.d=function(me,Q){for(var e in Q)it.o(Q,e)&&!it.o(me,e)&&Object.defineProperty(me,e,{enumerable:!0,get:Q[e]})},it.f={},it.e=function(me){return Promise.all(Object.keys(it.f).reduce(function(Q,e){return it.f[e](me,Q),Q},[]))},it.u=function(me){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[me]+"-"+{22:"1f9df2b51e34996bad30",537:"3a152569bbebfec7c6c0",1204:"ef6ec5abb0c3c53c7a51",1302:"db1222db995d9425e281",1477:"1a05d5c242c822079dca",1513:"79f7d66730b39df84f8e",1628:"72ac7b7548d7fefdcd2a",1690:"e90ca79174b6e1eccb72",1790:"ed85a6f48e1df51b1b46",2091:"06d4bd2f3a164162f2b8",2312:"3280be0edae615c7685f",2359:"7ea7ab2356e76889af8d",2404:"4063d11b19f24794564a",2943:"2117445509ba7c479ee0",3024:"5805f36f33a3f8e53adc",3031:"d10a4bb9ede3c08a08e1",3082:"f70dfb7201a16dc3f9fc",3162:"1854ecccf3c6f8ea9c46",3397:"c922a007bb00d3e4f3b1",3421:"c39caba2da3f001066a8",3512:"d43636fb51002f55e2a4",3674:"b4be83b26070e4cf70ca",3682:"b5ea877625968f748b7f",3721:"2e7a1690edc8d46e8842",3808:"6031eb8be253b20c28e9",3885:"8209f0f674435b52293d",4e3:"2f5b95c0011820e16f4b",4680:"2cb13b38b6615ada3097",4736:"53d1c69ef585b6dd219b",4977:"9002b1505b0931924d42",5089:"3397acad1a98b5093c8b",5130:"6108f4ae0be3d1e369a6",5330:"586a1324f942d89620b6",5395:"aba1622a80e32e465a3d",6071:"68eba9ac00ae57bae3f4",6239:"446b14f993000d0f572f",6265:"1ae99f296c9febb99f72",6768:"1e3a5e87e39d2d90274c",6844:"cf33ecf52ab95055544b",7368:"6ccf0d8a164ecec52187",7429:"759924ef13bd9e602cb3",7759:"4e345c790342b7672248",7920:"4bcbf71743fda1544a84",8081:"1cc77079b354b962615f",8124:"8ab49e8d0473e92a8ab9",8340:"08c7fc343ef2f533ec5f",8534:"36b97455521e61312a47",8750:"50dcb09552f93c2de3a4",8759:"682b92427b8b27bb0aa8",9551:"69853849c71eff277ba0",9828:"dad8ce15f9b7a435a926"}[me]+".js"},it.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),it.o=function(me,Q){return Object.prototype.hasOwnProperty.call(me,Q)},Cr={},dn="ExcalidrawLib:",it.l=function(me,Q,e,w){if(Cr[me])Cr[me].push(Q);else{var g,f;if(e!==void 0)for(var d=document.getElementsByTagName("script"),x=0;x<d.length;x++){var D=d[x];if(D.getAttribute("src")==me||D.getAttribute("data-webpack")==dn+e){g=D;break}}g||(f=!0,(g=document.createElement("script")).charset="utf-8",g.timeout=120,it.nc&&g.setAttribute("nonce",it.nc),g.setAttribute("data-webpack",dn+e),g.src=me),Cr[me]=[Q];var W=function(R,B){g.onerror=g.onload=null,clearTimeout(i);var ee=Cr[me];if(delete Cr[me],g.parentNode&&g.parentNode.removeChild(g),ee&&ee.forEach(function(le){return le(B)}),R)return R(B)},i=setTimeout(W.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=W.bind(null,g.onerror),g.onload=W.bind(null,g.onload),f&&document.head.appendChild(g)}},it.r=function(me){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(me,"__esModule",{value:!0})},it.p="",function(){it.b=document.baseURI||self.location.href;var me={1388:0};it.f.j=function(w,g){var f=it.o(me,w)?me[w]:void 0;if(f!==0)if(f)g.push(f[2]);else{var d=new Promise(function(W,i){f=me[w]=[W,i]});g.push(f[2]=d);var x=it.p+it.u(w),D=new Error;it.l(x,function(W){if(it.o(me,w)&&((f=me[w])!==0&&(me[w]=void 0),f)){var i=W&&(W.type==="load"?"missing":W.type),R=W&&W.target&&W.target.src;D.message="Loading chunk "+w+` failed.
(`+i+": "+R+")",D.name="ChunkLoadError",D.type=i,D.request=R,f[1](D)}},"chunk-"+w,w)}};var Q=function(w,g){var f,d,x=g[0],D=g[1],W=g[2],i=0;if(x.some(function(R){return me[R]!==0})){for(f in D)it.o(D,f)&&(it.m[f]=D[f]);W&&W(it)}for(w&&w(g);i<x.length;i++)d=x[i],it.o(me,d)&&me[d]&&me[d][0](),me[d]=0},e=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];e.forEach(Q.bind(null,0)),e.push=Q.bind(null,e.push.bind(e))}(),it.nc=void 0;var Pr={};return function(){it.r(Pr),it.d(Pr,{Button:function(){return Ie},Excalidraw:function(){return Dt},FONT_FAMILY:function(){return me.ut},Footer:function(){return H},LiveCollaborationTrigger:function(){return lt},MIME_TYPES:function(){return me.LO},MainMenu:function(){return j.Z},Sidebar:function(){return Tt.Y},THEME:function(){return me.C6},WelcomeScreen:function(){return He},bumpVersion:function(){return ct.ZP},defaultLang:function(){return h.Fp},exportToBlob:function(){return et.Fl},exportToCanvas:function(){return et.NL},exportToClipboard:function(){return et.i1},exportToSvg:function(){return et.$D},getFreeDrawSvgPath:function(){return et.N7},getNonDeletedElements:function(){return ht.Lm},getSceneVersion:function(){return ht.Uo},isInvisiblySmallElement:function(){return ht.QD},isLinearElement:function(){return nt.bt},languages:function(){return h.Mj},loadFromBlob:function(){return et.cT},loadLibraryFromBlob:function(){return et.lV},loadSceneOrLibraryFromBlob:function(){return et.ZY},mergeLibraryItems:function(){return et.zh},mutateElement:function(){return ct.DR},newElementWith:function(){return ct.BE},normalizeLink:function(){return Bt.$},parseLibraryTokensFromUrl:function(){return vt.Di},restore:function(){return ot.nu},restoreAppState:function(){return ot.lY},restoreElements:function(){return ot.ET},restoreLibraryItems:function(){return ot.wJ},sceneCoordsToViewportCoords:function(){return t._i},serializeAsJSON:function(){return et.I_},serializeLibraryAsJSON:function(){return et.NI},useDevice:function(){return n.Fy},useHandleLibrary:function(){return vt.xS},useI18n:function(){return h.QT},viewportCoordsToSceneCoords:function(){return t.dE}});var me=it(2335);me.Vi.TEST!=="production"&&(it.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.3","/dist/"));var Q=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(We){if((We=Math.trunc(We)||0)<0&&(We+=this.length),!(We<0||We>=this.length))return this[We]},writable:!0,enumerable:!1,configurable:!0})},e=it(487),w=it.n(e),g=it(631),f=it.n(g),d=it(2052),x=it.n(d),D=it(4010),W=it.n(D),i=it(1469),R=it.n(i),B=it(9329),ee=it.n(B),le=it(4295),y={};y.styleTagTransform=ee(),y.setAttributes=W(),y.insert=x().bind(null,"head"),y.domAPI=f(),y.insertStyleElement=R(),w()(le.Z,y),le.Z&&le.Z.locals&&le.Z.locals;var ce=it(6479),fe=it.n(ce),Ce=it(9713),ue=it.n(Ce),de=it(9787),ye=it.n(de),b=it(8950),G=it(2577),m=it(2975),u=it.n(m),I=it(5440),h=it(8211),c=it(4512),a=function(We){var Xe=(0,de.useState)(!0),$e=(0,G.Z)(Xe,2),Ve=$e[0],ft=$e[1];return(0,de.useEffect)(function(){var wt=function(){var Ot=(0,b.Z)(u().mark(function Yt(){return u().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,(0,h.m0)(_t);case 2:ft(!1);case 3:case"end":return At.stop()}},Yt)}));return function(){return Ot.apply(this,arguments)}}(),_t=h.Mj.find(function(Ot){return Ot.code===We.langCode})||h.Fp;wt()},[We.langCode]),Ve?(0,c.jsx)(I.z,{theme:We.theme}):We.children},n=it(2134),t=it(6340),o=it(9915),l={};l.styleTagTransform=ee(),l.setAttributes=W(),l.insert=x().bind(null,"head"),l.domAPI=f(),l.insertStyleElement=R(),w()(o.Z,l),o.Z&&o.Z.locals&&o.Z.locals;var s=it(9310),S={};S.styleTagTransform=ee(),S.setAttributes=W(),S.insert=x().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=R(),w()(s.Z,S),s.Z&&s.Z.locals&&s.Z.locals;var X=it(4739),C=it(9487),q=it(45),A=it(8888),_=it(8793),ae={};ae.styleTagTransform=ee(),ae.setAttributes=W(),ae.insert=x().bind(null,"head"),ae.domAPI=f(),ae.insertStyleElement=R(),w()(_.Z,ae),_.Z&&_.Z.locals&&_.Z.locals;var U=function(We){var Xe=We.children,$e=(0,A.R6)().footerCenterTunnel,Ve=(0,n.gF)();return(0,c.jsx)($e.In,{children:(0,c.jsx)("div",{className:(0,q.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Ve.zenModeEnabled}),children:Xe})})},H=U;U.displayName="FooterCenter";var j=it(4709),F=it(7169),T=it(2726),K=it(6710),ie=it(785),M=it(3646),O=["onSelect","children","icon","shortcut","className"],z=["children","href","icon","shortcut","className"];function p(We,Xe){var $e=Object.keys(We);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(We);Xe&&(Ve=Ve.filter(function(ft){return Object.getOwnPropertyDescriptor(We,ft).enumerable})),$e.push.apply($e,Ve)}return $e}function E(We){for(var Xe=1;Xe<arguments.length;Xe++){var $e=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?p(Object($e),!0).forEach(function(Ve){(0,F.Z)(We,Ve,$e[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors($e)):p(Object($e)).forEach(function(Ve){Object.defineProperty(We,Ve,Object.getOwnPropertyDescriptor($e,Ve))})}return We}var v=function(We){var Xe=We.icon,$e=We.shortcut,Ve=We.children,ft=(0,n.Fy)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Xe}),(0,c.jsx)("div",{className:"welcome-screen-menu-item__text",children:Ve}),$e&&!ft.isMobile&&(0,c.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:$e})]})};v.displayName="WelcomeScreenMenuItemContent";var Z=function(We){var Xe=We.onSelect,$e=We.children,Ve=We.icon,ft=We.shortcut,wt=We.className,_t=wt===void 0?"":wt,Ot=(0,T.Z)(We,O);return(0,c.jsx)("button",E(E({},Ot),{},{type:"button",className:"welcome-screen-menu-item ".concat(_t),onClick:Xe,children:(0,c.jsx)(v,{icon:Ve,shortcut:ft,children:$e})}))};Z.displayName="WelcomeScreenMenuItem";var P=function(We){var Xe=We.children,$e=We.href,Ve=We.icon,ft=We.shortcut,wt=We.className,_t=wt===void 0?"":wt,Ot=(0,T.Z)(We,z);return(0,c.jsx)("a",E(E({},Ot),{},{className:"welcome-screen-menu-item ".concat(_t),href:$e,target:"_blank",rel:"noreferrer",children:(0,c.jsx)(v,{icon:Ve,shortcut:ft,children:Xe})}))};P.displayName="WelcomeScreenMenuItemLink";var oe=function(We){var Xe=We.children,$e=(0,A.R6)().welcomeScreenCenterTunnel;return(0,c.jsx)($e.In,{children:(0,c.jsx)("div",{className:"welcome-screen-center",children:Xe||(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(se,{}),(0,c.jsx)(N,{children:(0,h.t)("welcomeScreen.defaults.center_heading")}),(0,c.jsxs)(ge,{children:[(0,c.jsx)(be,{}),(0,c.jsx)(he,{})]})]})})})};oe.displayName="Center";var se=function(We){var Xe=We.children;return(0,c.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Xe||(0,c.jsxs)(c.Fragment,{children:[M.Mw," Excalidraw"]})})};se.displayName="Logo";var N=function(We){var Xe=We.children;return(0,c.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Xe})};N.displayName="Heading";var ge=function(We){var Xe=We.children;return(0,c.jsx)("div",{className:"welcome-screen-menu",children:Xe})};ge.displayName="Menu";var he=function(){var We=(0,n.eh)();return(0,c.jsx)(Z,{onSelect:function(){return We.executeAction(K.jY)},shortcut:"?",icon:M.by,children:(0,h.t)("helpDialog.title")})};he.displayName="MenuItemHelp";var be=function(){var We=(0,n.gF)(),Xe=(0,n.eh)();return We.viewModeEnabled?null:(0,c.jsx)(Z,{onSelect:function(){return Xe.executeAction(K._d)},shortcut:(0,ie.C)("loadScene"),icon:M.Tl,children:(0,h.t)("buttons.load")})};be.displayName="MenuItemLoadScene";var Se=function(We){var Xe=We.onSelect,$e=(0,h.QT)().t;return(0,c.jsx)(Z,{shortcut:null,onSelect:Xe,icon:M.jn,children:$e("labels.liveCollaboration")})};Se.displayName="MenuItemLiveCollaborationTrigger",oe.Logo=se,oe.Heading=N,oe.Menu=ge,oe.MenuItem=Z,oe.MenuItemLink=P,oe.MenuItemHelp=he,oe.MenuItemLoadScene=be,oe.MenuItemLiveCollaborationTrigger=Se;var Y=function(We){var Xe=We.children,$e=(0,A.R6)().welcomeScreenMenuHintTunnel;return(0,c.jsx)($e.In,{children:(0,c.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[M.oQ,(0,c.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Xe||(0,h.t)("welcomeScreen.defaults.menuHint")})]})})};Y.displayName="MenuHint";var we=function(We){var Xe=We.children,$e=(0,A.R6)().welcomeScreenToolbarHintTunnel;return(0,c.jsx)($e.In,{children:(0,c.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,c.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Xe||(0,h.t)("welcomeScreen.defaults.toolbarHint")}),M.DJ]})})};we.displayName="ToolbarHint";var te=function(We){var Xe=We.children,$e=(0,A.R6)().welcomeScreenHelpHintTunnel;return(0,c.jsx)($e.In,{children:(0,c.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,c.jsx)("div",{children:Xe||(0,h.t)("welcomeScreen.defaults.helpHint")}),M._U]})})};te.displayName="HelpHint";var _e=it(1569),Le={};Le.styleTagTransform=ee(),Le.setAttributes=W(),Le.insert=x().bind(null,"head"),Le.domAPI=f(),Le.insertStyleElement=R(),w()(_e.Z,Le),_e.Z&&_e.Z.locals&&_e.Z.locals;var ze=function(We){return(0,c.jsx)(c.Fragment,{children:We.children||(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(oe,{}),(0,c.jsx)(Y,{}),(0,c.jsx)(we,{}),(0,c.jsx)(te,{})]})})};ze.displayName="WelcomeScreen",ze.Center=oe,ze.Hints={MenuHint:Y,ToolbarHint:we,HelpHint:te};var He=ze,Fe=it(3137),Pe={};Pe.styleTagTransform=ee(),Pe.setAttributes=W(),Pe.insert=x().bind(null,"head"),Pe.domAPI=f(),Pe.insertStyleElement=R(),w()(Fe.Z,Pe),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var J=["type","onSelect","children","className"];function ve(We,Xe){var $e=Object.keys(We);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(We);Xe&&(Ve=Ve.filter(function(ft){return Object.getOwnPropertyDescriptor(We,ft).enumerable})),$e.push.apply($e,Ve)}return $e}function xe(We){for(var Xe=1;Xe<arguments.length;Xe++){var $e=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?ve(Object($e),!0).forEach(function(Ve){(0,F.Z)(We,Ve,$e[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors($e)):ve(Object($e)).forEach(function(Ve){Object.defineProperty(We,Ve,Object.getOwnPropertyDescriptor($e,Ve))})}return We}var Ie=function(We){var Xe=We.type,$e=Xe===void 0?"button":Xe,Ve=We.onSelect,ft=We.children,wt=We.className,_t=wt===void 0?"":wt,Ot=(0,T.Z)(We,J);return(0,c.jsx)("button",xe(xe({onClick:function(Yt){var At;Ve(),(At=Ot.onClick)===null||At===void 0||At.call(Ot,Yt)},type:$e,className:"excalidraw-button ".concat(_t)},Ot),{},{children:ft}))},De=it(3397),Ze={};Ze.styleTagTransform=ee(),Ze.setAttributes=W(),Ze.insert=x().bind(null,"head"),Ze.domAPI=f(),Ze.insertStyleElement=R(),w()(De.Z,Ze),De.Z&&De.Z.locals&&De.Z.locals;var Re=["isCollaborating","onSelect"];function Ue(We,Xe){var $e=Object.keys(We);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(We);Xe&&(Ve=Ve.filter(function(ft){return Object.getOwnPropertyDescriptor(We,ft).enumerable})),$e.push.apply($e,Ve)}return $e}function Ke(We){for(var Xe=1;Xe<arguments.length;Xe++){var $e=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?Ue(Object($e),!0).forEach(function(Ve){(0,F.Z)(We,Ve,$e[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors($e)):Ue(Object($e)).forEach(function(Ve){Object.defineProperty(We,Ve,Object.getOwnPropertyDescriptor($e,Ve))})}return We}var Ye=function(We){var Xe=We.isCollaborating,$e=We.onSelect,Ve=(0,T.Z)(We,Re),ft=(0,n.gF)();return(0,c.jsxs)(Ie,Ke(Ke({},Ve),{},{className:(0,q.Z)("collab-button",{active:Xe}),type:"button",onSelect:$e,style:{position:"relative"},title:(0,h.t)("labels.liveCollaboration"),children:[M.jn,ft.collaborators.size>0&&(0,c.jsx)("div",{className:"CollabButton-collaborators",children:ft.collaborators.size})]}))},lt=Ye;Ye.displayName="LiveCollaborationTrigger";var ht=it(1047),ot=it(679),et=it(3024),nt=it(1974),ct=it(1935),vt=it(7053),Tt=it(9430),Bt=it(6794),Kt=["initialData","UIOptions"],Wt=["initialData","UIOptions"];function Gt(We,Xe){var $e=Object.keys(We);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(We);Xe&&(Ve=Ve.filter(function(ft){return Object.getOwnPropertyDescriptor(We,ft).enumerable})),$e.push.apply($e,Ve)}return $e}function Et(We){for(var Xe=1;Xe<arguments.length;Xe++){var $e=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?Gt(Object($e),!0).forEach(function(Ve){ue()(We,Ve,$e[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors($e)):Gt(Object($e)).forEach(function(Ve){Object.defineProperty(We,Ve,Object.getOwnPropertyDescriptor($e,Ve))})}return We}var Pt=function(We){var Xe,$e,Ve,ft=We.onChange,wt=We.initialData,_t=We.excalidrawRef,Ot=We.isCollaborating,Yt=Ot!==void 0&&Ot,At=We.onPointerUpdate,er=We.renderTopRightUI,rr=We.renderSidebar,or=We.langCode,lr=or===void 0?h.Fp.code:or,jr=We.viewModeEnabled,zt=We.zenModeEnabled,Ft=We.gridModeEnabled,$t=We.libraryReturnUrl,cr=We.theme,Zr=We.name,Hr=We.renderCustomStats,Yr=We.onPaste,Xr=We.detectScroll,Dr=Xr===void 0||Xr,gr=We.handleKeyboardGlobally,Wr=gr!==void 0&&gr,Ir=We.onLibraryChange,qr=We.autoFocus,Gr=qr!==void 0&&qr,nn=We.generateIdForFile,on=We.onLinkOpen,fn=We.onPointerDown,$=We.onScrollChange,pe=We.children,Oe=(Xe=We.UIOptions)===null||Xe===void 0?void 0:Xe.canvasActions,Te=Et(Et({},We.UIOptions),{},{canvasActions:Et(Et({},me.cW.canvasActions),Oe)});return Oe!=null&&Oe.export&&(Te.canvasActions.export.saveFileToDisk=($e=(Ve=Oe.export)===null||Ve===void 0?void 0:Ve.saveFileToDisk)!==null&&$e!==void 0?$e:me.cW.canvasActions.export.saveFileToDisk),Te.canvasActions.toggleTheme===null&&cr===void 0&&(Te.canvasActions.toggleTheme=!0),(0,de.useEffect)(function(){var Je=function(rt){typeof rt.scale=="number"&&rt.scale!==1&&rt.preventDefault()};return document.addEventListener("touchmove",Je,{passive:!1}),function(){document.removeEventListener("touchmove",Je)}},[]),(0,c.jsx)(X.zt,{unstable_createStore:function(){return C.e_},scope:C.yE,children:(0,c.jsx)(a,{langCode:lr,theme:cr,children:(0,c.jsx)(n.ZP,{onChange:ft,initialData:wt,excalidrawRef:_t,isCollaborating:Yt,onPointerUpdate:At,renderTopRightUI:er,langCode:lr,viewModeEnabled:jr,zenModeEnabled:zt,gridModeEnabled:Ft,libraryReturnUrl:$t,theme:cr,name:Zr,renderCustomStats:Hr,UIOptions:Te,onPaste:Yr,detectScroll:Dr,handleKeyboardGlobally:Wr,onLibraryChange:Ir,autoFocus:Gr,generateIdForFile:nn,onLinkOpen:on,onPointerDown:fn,onScrollChange:$,renderSidebar:rr,children:pe})})})},Nt=function(We,Xe){if(We.children!==Xe.children)return!1;We.initialData;var $e=We.UIOptions,Ve=$e===void 0?{}:$e,ft=fe()(We,Kt),wt=(Xe.initialData,Xe.UIOptions),_t=wt===void 0?{}:wt,Ot=fe()(Xe,Wt),Yt=Object.keys(Ve),At=Object.keys(_t);return Yt.length===At.length&&Yt.every(function(er){return er==="canvasActions"?Object.keys(Ve.canvasActions).every(function(rr){var or,lr,jr,zt;return rr==="export"&&Ve!=null&&(or=Ve.canvasActions)!==null&&or!==void 0&&or.export&&_t!=null&&(lr=_t.canvasActions)!==null&&lr!==void 0&&lr.export?Ve.canvasActions.export.saveFileToDisk===_t.canvasActions.export.saveFileToDisk:(Ve==null||(jr=Ve.canvasActions)===null||jr===void 0?void 0:jr[rr])===(_t==null||(zt=_t.canvasActions)===null||zt===void 0?void 0:zt[rr])}):Ve[er]===_t[er]})&&(0,t.w8)(ft,Ot)},Qt=(0,de.forwardRef)(function(We,Xe){return(0,c.jsx)(Pt,Et(Et({},We),{},{excalidrawRef:Xe}))}),Dt=ye().memo(Qt,Nt);Dt.displayName="Excalidraw",Q()}(),Pr}()})})(Zo);var bi=Zo.exports;Lo.exports=bi;var Vr=Lo.exports,zo={exports:{}};(function(Nr,zn){(function(Tr,Br){Br()})(Sn,function(){function Tr(nr,it){return typeof it>"u"?it={autoBom:!1}:typeof it!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),it={autoBom:!it}),it.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nr.type)?new Blob(["\uFEFF",nr],{type:nr.type}):nr}function Br(nr,it,Pr){var me=new XMLHttpRequest;me.open("GET",nr),me.responseType="blob",me.onload=function(){rn(me.response,it,Pr)},me.onerror=function(){console.error("could not download file")},me.send()}function $r(nr){var it=new XMLHttpRequest;it.open("HEAD",nr,!1);try{it.send()}catch{}return 200<=it.status&&299>=it.status}function Kr(nr){try{nr.dispatchEvent(new MouseEvent("click"))}catch{var it=document.createEvent("MouseEvents");it.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),nr.dispatchEvent(it)}}var Cr=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Sn=="object"&&Sn.global===Sn?Sn:void 0,dn=Cr.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),rn=Cr.saveAs||(typeof window!="object"||window!==Cr?function(){}:"download"in HTMLAnchorElement.prototype&&!dn?function(nr,it,Pr){var me=Cr.URL||Cr.webkitURL,Q=document.createElement("a");it=it||nr.name||"download",Q.download=it,Q.rel="noopener",typeof nr=="string"?(Q.href=nr,Q.origin===location.origin?Kr(Q):$r(Q.href)?Br(nr,it,Pr):Kr(Q,Q.target="_blank")):(Q.href=me.createObjectURL(nr),setTimeout(function(){me.revokeObjectURL(Q.href)},4e4),setTimeout(function(){Kr(Q)},0))}:"msSaveOrOpenBlob"in navigator?function(nr,it,Pr){if(it=it||nr.name||"download",typeof nr!="string")navigator.msSaveOrOpenBlob(Tr(nr,Pr),it);else if($r(nr))Br(nr,it,Pr);else{var me=document.createElement("a");me.href=nr,me.target="_blank",setTimeout(function(){Kr(me)})}}:function(nr,it,Pr,me){if(me=me||open("","_blank"),me&&(me.document.title=me.document.body.innerText="downloading..."),typeof nr=="string")return Br(nr,it,Pr);var Q=nr.type==="application/octet-stream",e=/constructor/i.test(Cr.HTMLElement)||Cr.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||Q&&e||dn)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=w?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),me?me.location.href=x:location=x,me=null},g.readAsDataURL(nr)}else{var f=Cr.URL||Cr.webkitURL,d=f.createObjectURL(nr);me?me.location=d:location.href=d,me=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});Cr.saveAs=rn.saveAs=rn,Nr.exports=rn})})(zo);var yi=zo.exports;const wi=()=>{const[Nr,zn]=ro.useState(null);return ro.useEffect(()=>{fetch("./456.excalidraw").then(Tr=>Tr.text()).then(Tr=>{Nr&&Nr.updateScene(JSON.parse(Tr))}).catch(()=>{})},[Nr]),Lr.jsxs(Lr.Fragment,{children:[Lr.jsx("h1",{style:{textAlign:"center"},children:"Excalidraw Example"}),Lr.jsx("div",{style:{height:"500px"},children:Lr.jsx(Vr.Excalidraw,{langCode:"zh-CN",ref:Tr=>zn(Tr),children:Lr.jsxs(Vr.MainMenu,{children:[Lr.jsx(Vr.MainMenu.DefaultItems.LoadScene,{}),Lr.jsx(Vr.MainMenu.Item,{onSelect:async()=>{if(!Nr)return;const Tr=Nr.getSceneElements();if(!Tr||!Tr.length)return;document.getElementById("excalidraw");const Br=Vr.serializeAsJSON(Nr.getSceneElements(),Nr.getAppState(),Nr.getFiles(),"local"),$r=new Blob([Br],{type:"application/json"});yi.saveAs($r,"my-excalidraw.excalidraw")},children:""}),Lr.jsx(Vr.MainMenu.DefaultItems.Export,{}),Lr.jsx(Vr.MainMenu.DefaultItems.SaveAsImage,{}),Lr.jsx(Vr.MainMenu.DefaultItems.ClearCanvas,{}),Lr.jsx(Vr.MainMenu.Separator,{}),Lr.jsx(Vr.MainMenu.DefaultItems.Help,{}),Lr.jsx(Vr.MainMenu.DefaultItems.ToggleTheme,{})]})})})]})};export{wi as default};
